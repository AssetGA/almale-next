(()=>{var e={};e.id=7424,e.ids=[7424],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},79428:e=>{"use strict";e.exports=require("buffer")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},73566:e=>{"use strict";e.exports=require("worker_threads")},74075:e=>{"use strict";e.exports=require("zlib")},4573:e=>{"use strict";e.exports=require("node:buffer")},73024:e=>{"use strict";e.exports=require("node:fs")},37067:e=>{"use strict";e.exports=require("node:http")},44708:e=>{"use strict";e.exports=require("node:https")},77030:e=>{"use strict";e.exports=require("node:net")},76760:e=>{"use strict";e.exports=require("node:path")},1708:e=>{"use strict";e.exports=require("node:process")},57075:e=>{"use strict";e.exports=require("node:stream")},37830:e=>{"use strict";e.exports=require("node:stream/web")},73136:e=>{"use strict";e.exports=require("node:url")},57975:e=>{"use strict";e.exports=require("node:util")},38522:e=>{"use strict";e.exports=require("node:zlib")},23470:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=r(70260),i=r(28203),a=r(25155),l=r.n(a),n=r(67292),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(t,o);let d=["",{children:["[lang]",{children:["gallery",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,47839)),"/home/asset/projects/almale/almale-next/src/app/[lang]/gallery/[id]/page.js"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,3740)),"/home/asset/projects/almale/almale-next/src/app/[lang]/layout.js"]}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"]}],c=["/home/asset/projects/almale/almale-next/src/app/[lang]/gallery/[id]/page.js"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/[lang]/gallery/[id]/page",pathname:"/[lang]/gallery/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},87097:(e,t,r)=>{Promise.resolve().then(r.bind(r,96365))},57721:(e,t,r)=>{Promise.resolve().then(r.bind(r,81551))},37882:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return y},handleClientScriptLoad:function(){return h},initScriptLoader:function(){return g}});let s=r(25488),i=r(81063),a=r(45512),l=s._(r(55740)),n=i._(r(58009)),o=r(6302),d=r(31507),c=r(28903),u=new Map,p=new Set,f=e=>{if(l.default.preinit){e.forEach(e=>{l.default.preinit(e,{as:"style"})});return}},m=e=>{let{src:t,id:r,onLoad:s=()=>{},onReady:i=null,dangerouslySetInnerHTML:a,children:l="",strategy:n="afterInteractive",onError:o,stylesheets:c}=e,m=r||t;if(m&&p.has(m))return;if(u.has(t)){p.add(m),u.get(t).then(s,o);return}let h=()=>{i&&i(),p.add(m)},g=document.createElement("script"),x=new Promise((e,t)=>{g.addEventListener("load",function(t){e(),s&&s.call(this,t),h()}),g.addEventListener("error",function(e){t(e)})}).catch(function(e){o&&o(e)});a?(g.innerHTML=a.__html||"",h()):l?(g.textContent="string"==typeof l?l:Array.isArray(l)?l.join(""):"",h()):t&&(g.src=t,u.set(t,x)),(0,d.setAttributesFromProps)(g,e),"worker"===n&&g.setAttribute("type","text/partytown"),g.setAttribute("data-nscript",n),c&&f(c),document.body.appendChild(g)};function h(e){let{strategy:t="afterInteractive"}=e;"lazyOnload"===t?window.addEventListener("load",()=>{(0,c.requestIdleCallback)(()=>m(e))}):m(e)}function g(e){e.forEach(h),[...document.querySelectorAll('[data-nscript="beforeInteractive"]'),...document.querySelectorAll('[data-nscript="beforePageRender"]')].forEach(e=>{let t=e.id||e.getAttribute("src");p.add(t)})}function x(e){let{id:t,src:r="",onLoad:s=()=>{},onReady:i=null,strategy:d="afterInteractive",onError:u,stylesheets:f,...h}=e,{updateScripts:g,scripts:x,getIsSsr:y,appDir:v,nonce:b}=(0,n.useContext)(o.HeadManagerContext),j=(0,n.useRef)(!1);(0,n.useEffect)(()=>{let e=t||r;j.current||(i&&e&&p.has(e)&&i(),j.current=!0)},[i,t,r]);let w=(0,n.useRef)(!1);if((0,n.useEffect)(()=>{!w.current&&("afterInteractive"===d?m(e):"lazyOnload"===d&&("complete"===document.readyState?(0,c.requestIdleCallback)(()=>m(e)):window.addEventListener("load",()=>{(0,c.requestIdleCallback)(()=>m(e))})),w.current=!0)},[e,d]),("beforeInteractive"===d||"worker"===d)&&(g?(x[d]=(x[d]||[]).concat([{id:t,src:r,onLoad:s,onReady:i,onError:u,...h}]),g(x)):y&&y()?p.add(t||r):y&&!y()&&m(e)),v){if(f&&f.forEach(e=>{l.default.preinit(e,{as:"style"})}),"beforeInteractive"===d)return r?(l.default.preload(r,h.integrity?{as:"script",integrity:h.integrity,nonce:b,crossOrigin:h.crossOrigin}:{as:"script",nonce:b,crossOrigin:h.crossOrigin}),(0,a.jsx)("script",{nonce:b,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([r,{...h,id:t}])+")"}})):(h.dangerouslySetInnerHTML&&(h.children=h.dangerouslySetInnerHTML.__html,delete h.dangerouslySetInnerHTML),(0,a.jsx)("script",{nonce:b,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([0,{...h,id:t}])+")"}}));"afterInteractive"===d&&r&&l.default.preload(r,h.integrity?{as:"script",integrity:h.integrity,nonce:b,crossOrigin:h.crossOrigin}:{as:"script",nonce:b,crossOrigin:h.crossOrigin})}return null}Object.defineProperty(x,"__nextScript",{value:!0});let y=x;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},31507:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"setAttributesFromProps",{enumerable:!0,get:function(){return a}});let r={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv",noModule:"noModule"},s=["onLoad","onReady","dangerouslySetInnerHTML","children","onError","strategy","stylesheets"];function i(e){return["async","defer","noModule"].includes(e)}function a(e,t){for(let[a,l]of Object.entries(t)){if(!t.hasOwnProperty(a)||s.includes(a)||void 0===l)continue;let n=r[a]||a.toLowerCase();"SCRIPT"===e.tagName&&i(n)?e[n]=!!l:e.setAttribute(n,String(l)),(!1===l||"SCRIPT"===e.tagName&&i(n)&&(!l||"false"===l))&&(e.setAttribute(n,""),e.removeAttribute(n))}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},27907:(e,t,r)=>{"use strict";r.d(t,{default:()=>p,z:()=>u});var s=r(45512),i=r(58009),a=r(45103),l=r(12138),n=r(28531),o=r.n(n),d=r(92273),c=r(69541);let u=[{src:"/img/gallery/1.JPEG",altName:"Лудший подарок маме"},{src:"/img/gallery/2.JPEG",altName:"Подарок жене"},{src:"/img/set/1.png",altName:"Подарочный набор"},{src:"/img/gallery/3.JPEG",altName:"Подарок любимому человеку"},{src:"/img/gallery/4.JPEG",altName:"Подарок на свадьбу"},{src:"/img/gallery/6.JPEG",altName:"Подарок на той"},{src:"/img/gallery/7.JPEG",altName:"Медная посуда"},{src:"/img/gallery/8.JPEG",altName:"Набор медной посуды"},{src:"/img/gallery/9.JPEG",altName:"Лудщий подарок"},{src:"/img/gallery/10.JPEG",altName:"Здоровье семьи"},{src:"/img/gallery/11.JPEG",altName:"Медная сковорода"},{src:"/img/4-блок_Миссия.jpg",altName:"Медная сковорода"}],p=({t:e,lang:t})=>{let r=(0,i.useRef)([]);(0,i.useEffect)(()=>{r.current&&l.os.fromTo(r.current,{opacity:0,y:30},{opacity:1,y:0,duration:.8,stagger:.2,ease:"power3.out"})},[]);let n=(0,d.d4)((0,c.fY)()),p=u.map((e,t)=>({...e,videoId:n[t]?._id}));return(0,s.jsx)("div",{className:"relative grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 p-6",children:p.map((i,l)=>(0,s.jsx)(o(),{href:`/${t}/gallery/${i.videoId}`,className:"w-full max-h-72",children:(0,s.jsx)("div",{ref:e=>{e&&(r.current[l]=e)},className:"relative w-full h-64 overflow-hidden rounded-xl shadow-md",children:(0,s.jsx)(a.default,{src:i.src,alt:`${""===i.altName?e.gallery.altInfo:i.altName}`,fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",className:"object-cover transition-transform duration-500 hover:scale-105 pointer"})})},l))})}},81551:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var s=r(45512),i=r(58009),a=r(35294),l=r(79334);r(69541);var n=r(37882),o=r.n(n),d=r(27907);function c(){let e=(0,l.useParams)(),t=(0,l.useRouter)();(0,a.jL)();let r=e?.id,n=(0,a.GV)(e=>e.video.entity),c=(0,a.GV)(e=>e.video.isLoading),u=(0,i.useMemo)(()=>n.findIndex(e=>e._id===r),[n,r]);console.log("curre",u);let p=n?.[u],f=d.z?.[u],m=e=>{e>=0&&e<n.length&&t.push(`/gallery/${n[e]._id}`)};return(0,s.jsxs)("div",{className:"relative flex flex-col items-center justify-center min-h-screen px-4 py-10 bg-black/30 text-white",children:[(0,s.jsx)("h1",{className:"text-3xl md:text-5xl font-bold mb-6 text-center",children:p?.title}),(0,s.jsxs)("div",{className:"grid grid-cols-2",children:[(0,s.jsx)("button",{className:"px-4 py-3 w-full hover:bg-gray-header hover:text-black/80 transition-all duration-1000",disabled:0===u,onClick:()=>m(u-1),children:"предыдущее"}),(0,s.jsx)("button",{className:"px-4 py-3 w-full hover:bg-gray-header hover:text-black/80 transition-all duration-1000",disabled:u===n.length-1,onClick:()=>m(u+1),children:"следующее"})]}),(0,s.jsx)("div",{className:"w-full max-w-5xl aspect-video rounded-xl overflow-hidden shadow-lg border border-white/10",children:c||!p?(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:"Загрузка..."}):"/"===p.videoUrl[0]?(0,s.jsxs)("video",{className:"w-full h-full object-contain",controls:!0,preload:"auto",poster:"/img/gallery/1.JPEG",children:[(0,s.jsx)("source",{src:p.videoUrl,type:"video/mp4"}),"Ваш браузер не поддерживает воспроизведение видео."]}):(0,s.jsx)("iframe",{width:"100%",height:"500",src:p.videoUrl,title:"YouTube video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),(0,s.jsx)("p",{className:"mt-6 text-lg text-gray-300 text-center max-w-2xl",children:p?.description}),p&&(0,s.jsx)(o(),{id:"video-jsonld",type:"application/ld+json",strategy:"afterInteractive",dangerouslySetInnerHTML:{__html:JSON.stringify({"@context":"https://schema.org","@type":"VideoObject",name:p.title||"Видео",description:p.description||"Описание видео",thumbnailUrl:`http://localhost:3000${f.src}`,uploadDate:p.createdAt?new Date(p.createdAt).toISOString():new Date().toISOString(),contentUrl:p.videoUrl,embedUrl:p.videoUrl.startsWith("http")?p.videoUrl:`http://localhost:3000${p.videoUrl}`})}})]})}},47839:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,generateMetadata:()=>n});var s=r(62740);r(76301);var i=r(96365),a=r(2193),l=r(11899);async function n({params:e}){let{id:t,lang:r}=await e,s=await (0,l.fetchVideoById)(r,t);return s?s?{title:s.title,description:s.description,robots:{index:!0,follow:!0,maxVideoPreview:-1},openGraph:{title:s.title,description:s.description,type:"video.other",url:`${"http://localhost:3000/"+r}/gallery/${s.id}`,video:{url:`${"http://localhost:3000/"+r}/gallery/${s.id}`,width:1280,height:720}},twitter:{card:"player",title:s.title,description:s.description,player:`${"http://localhost:3000/"+r}/gallery/${s.id}`}}:(console.error(`❌ Ошибка: Товар с ID ${t} не найден`),{title:"Товар не найден | Alma Le",description:"Извините, этот товар недоступен."}):{}}let o=async function({params:e}){let{lang:t,id:r}=await e;return await (0,a.T)(t),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i.default,{})})}},11899:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let s=r(73264)._(r(90302));async function i(e){try{let t=new URL("http://localhost:3000/lib/api/video");t.searchParams.append("lang",e);let r=await (0,s.default)(t.href);if(!r.ok)throw Error("Ошибка при загрузке товаров");return await r.json()}catch(e){return console.error("Error fetching products:",e),[]}}async function a(e,t){try{let r=new URL("http://localhost:3000/lib/api/video");r.searchParams.append("lang",e);let i=await (0,s.default)(r.href,{headers:{"Content-Type":"application/json"}});if(!i.ok)throw Error("Ошибка при загрузке видео");return(await i.json()).find(e=>String(e._id)===String(t))??null}catch(e){return console.error("Ошибка при загрузке видео:",e),null}}e.exports={fetchVideo:i,fetchVideoById:a}},96365:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/asset/projects/almale/almale-next/src/app/components/VideoPage.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/asset/projects/almale/almale-next/src/app/components/VideoPage.js","default")}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[5994,8410,4192,8403,627,302,72],()=>r(23470));module.exports=s})();