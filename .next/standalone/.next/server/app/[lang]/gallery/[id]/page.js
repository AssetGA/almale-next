(()=>{var e={};e.id=7424,e.ids=[7424],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},79428:e=>{"use strict";e.exports=require("buffer")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},73566:e=>{"use strict";e.exports=require("worker_threads")},74075:e=>{"use strict";e.exports=require("zlib")},4573:e=>{"use strict";e.exports=require("node:buffer")},73024:e=>{"use strict";e.exports=require("node:fs")},37067:e=>{"use strict";e.exports=require("node:http")},44708:e=>{"use strict";e.exports=require("node:https")},77030:e=>{"use strict";e.exports=require("node:net")},76760:e=>{"use strict";e.exports=require("node:path")},1708:e=>{"use strict";e.exports=require("node:process")},57075:e=>{"use strict";e.exports=require("node:stream")},37830:e=>{"use strict";e.exports=require("node:stream/web")},73136:e=>{"use strict";e.exports=require("node:url")},57975:e=>{"use strict";e.exports=require("node:util")},38522:e=>{"use strict";e.exports=require("node:zlib")},23470:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=t(70260),i=t(28203),o=t(25155),a=t.n(o),l=t(67292),n={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);t.d(r,n);let d=["",{children:["[lang]",{children:["gallery",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,47839)),"/home/asset/projects/almale/almale-next/src/app/[lang]/gallery/[id]/page.js"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,3740)),"/home/asset/projects/almale/almale-next/src/app/[lang]/layout.js"]}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"]}],c=["/home/asset/projects/almale/almale-next/src/app/[lang]/gallery/[id]/page.js"],u={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/[lang]/gallery/[id]/page",pathname:"/[lang]/gallery/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},14670:(e,r,t)=>{"use strict";t.r(r),t.d(r,{"40278d714d687f6fbd456028ca70cf2e3e7ebedf26":()=>s.Y,"601c1d0cc2657e9b93b82a23a9d946c35bdcd68639":()=>s.G});var s=t(11899)},87097:(e,r,t)=>{Promise.resolve().then(t.bind(t,96365))},57721:(e,r,t)=>{Promise.resolve().then(t.bind(t,82150))},82150:(e,r,t)=>{"use strict";t.d(r,{default:()=>l});var s=t(45512),i=t(58009),o=t(35294),a=t(79334);function l(){let e=(0,a.useParams)(),r=(0,a.useRouter)();(0,o.jL)();let t=(0,o.GV)(e=>e.video.entity),l=(0,o.GV)(e=>e.video.isLoading),[n,d]=(0,i.useState)(Number(e.id)),c=(0,i.useMemo)(()=>{let r=Number(e.id);return t.find((e,t)=>t===r)},[t,e.id]),u=e=>{e>=0&&e<t.length&&(d(e),r.push(`/gallery/${e}`))};return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen px-4 py-10 bg-black/30 text-white",children:[(0,s.jsx)("h1",{className:"text-3xl md:text-5xl font-bold mb-6 text-center",children:c?.title}),(0,s.jsxs)("div",{className:"grid grid-cols-2",children:[(0,s.jsx)("button",{className:"px-4 py-3 w-full hover:bg-gray-header hover:text-black/80 transition-all duration-1000",disabled:0===n,onClick:()=>u(n-1),children:"предыдущее"}),(0,s.jsx)("button",{className:"px-4 py-3 w-full hover:bg-gray-header hover:text-black/80 transition-all duration-1000",disabled:n===t.length-1,onClick:()=>u(n+1),children:"следующее"})]}),(0,s.jsx)("div",{className:"w-full max-w-5xl aspect-video rounded-xl overflow-hidden shadow-lg border border-white/10",children:l||!c?(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:"Загрузка..."}):"/"===c.videoUrl[0]?(0,s.jsxs)("video",{className:"w-full h-full object-contain",controls:!0,preload:"auto",poster:"/img/gallery/1.JPEG",children:[(0,s.jsx)("source",{src:c.videoUrl,type:"video/mp4"}),"Ваш браузер не поддерживает воспроизведение видео."]}):(0,s.jsx)("iframe",{width:"100%",height:"500",src:c.videoUrl,title:"YouTube video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),(0,s.jsx)("p",{className:"mt-6 text-lg text-gray-300 text-center max-w-2xl",children:c?.description})]})}t(69541)},47839:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n,generateMetadata:()=>l});var s=t(62740);t(76301);var i=t(96365),o=t(2193),a=t(11899);async function l({params:e}){let{id:r,lang:t}=await e,s=await (0,a.G)(t,r);return(console.log("video",s),s)?{title:s.title,description:s.description,openGraph:{title:s.title,description:s.description,type:"video.other",url:`${"http://localhost:3000/"+t}/gallery/${s.id}`,video:{url:`${"http://localhost:3000/"+t}/gallery/${s.id}`,width:1280,height:720}},twitter:{card:"player",title:s.title,description:s.description,player:`${"http://localhost:3000/"+t}/gallery/${s.id}`}}:{}}let n=async function({params:e}){let{lang:r}=await e;return await (0,o.T)(r),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i.default,{})})}},11899:(e,r,t)=>{"use strict";t.d(r,{G:()=>a,Y:()=>o});var s=t(88977);t(98063);var i=t(90302);async function o(e){try{let r=new URL("http://localhost:3000/lib/api/video");r.searchParams.append("lang",e);let t=await (0,i.Ay)(r.href);if(!t.ok)throw Error("Ошибка при загрузке товаров");return await t.json()}catch(e){return console.error("Error fetching products:",e),[]}}async function a(e,r){try{let t=new URL("http://localhost:3000/lib/api/video");t.searchParams.append("lang",e);let s=await (0,i.Ay)(t.href,{headers:{"Content-Type":"application/json"}});if(!s.ok)throw Error("Ошибка при загрузке видео");return(await s.json()).find(e=>String(e.id)===String(r))??null}catch(e){return console.error("Ошибка при загрузке видео:",e),null}}(0,t(56215).D)([o,a]),(0,s.A)(o,"40278d714d687f6fbd456028ca70cf2e3e7ebedf26",null),(0,s.A)(a,"601c1d0cc2657e9b93b82a23a9d946c35bdcd68639",null)},96365:(e,r,t)=>{"use strict";t.d(r,{default:()=>s});let s=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/asset/projects/almale/almale-next/src/app/components/VideoPage.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/asset/projects/almale/almale-next/src/app/components/VideoPage.js","default")}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[5994,8410,4192,8403,627,2038,72],()=>t(23470));module.exports=s})();