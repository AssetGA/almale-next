(()=>{var e={};e.id=3498,e.ids=[3498],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},79428:e=>{"use strict";e.exports=require("buffer")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},73566:e=>{"use strict";e.exports=require("worker_threads")},74075:e=>{"use strict";e.exports=require("zlib")},4573:e=>{"use strict";e.exports=require("node:buffer")},73024:e=>{"use strict";e.exports=require("node:fs")},37067:e=>{"use strict";e.exports=require("node:http")},44708:e=>{"use strict";e.exports=require("node:https")},77030:e=>{"use strict";e.exports=require("node:net")},76760:e=>{"use strict";e.exports=require("node:path")},1708:e=>{"use strict";e.exports=require("node:process")},57075:e=>{"use strict";e.exports=require("node:stream")},37830:e=>{"use strict";e.exports=require("node:stream/web")},73136:e=>{"use strict";e.exports=require("node:url")},57975:e=>{"use strict";e.exports=require("node:util")},38522:e=>{"use strict";e.exports=require("node:zlib")},44490:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>c,pages:()=>h,routeModule:()=>d,tree:()=>u});var i=r(70260),n=r(28203),o=r(25155),s=r.n(o),a=r(67292),l={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);r.d(t,l);let u=["",{children:["[lang]",{children:["gallery",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,41309)),"/home/asset/projects/almale/almale-next/src/app/[lang]/gallery/page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,3740)),"/home/asset/projects/almale/almale-next/src/app/[lang]/layout.js"]}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"]}],h=["/home/asset/projects/almale/almale-next/src/app/[lang]/gallery/page.js"],c={require:r,loadChunk:()=>Promise.resolve()},d=new i.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/[lang]/gallery/page",pathname:"/[lang]/gallery",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},75439:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"40278d714d687f6fbd456028ca70cf2e3e7ebedf26":()=>Z,"601c1d0cc2657e9b93b82a23a9d946c35bdcd68639":()=>Q});var i=r(21590);r(70376);var n=r(37067),o=r(44708),s=r(38522),a=r(57075),l=r(4573);let u=function(e){if(!/^data:/i.test(e))throw TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');let t=(e=e.replace(/\r?\n/g,"")).indexOf(",");if(-1===t||t<=4)throw TypeError("malformed data: URI");let r=e.substring(5,t).split(";"),i="",n=!1,o=r[0]||"text/plain",s=o;for(let e=1;e<r.length;e++)"base64"===r[e]?n=!0:r[e]&&(s+=`;${r[e]}`,0===r[e].indexOf("charset=")&&(i=r[e].substring(8)));r[0]||i.length||(s+=";charset=US-ASCII",i="US-ASCII");let a=n?"base64":"ascii",l=unescape(e.substring(t+1)),u=Buffer.from(l,a);return u.type=o,u.typeFull=s,u.charset=i,u};var h=r(57975),c=r(844),d=r(95427);class p extends Error{constructor(e,t){super(e),Error.captureStackTrace(this,this.constructor),this.type=t}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}}class f extends p{constructor(e,t,r){super(e,t),r&&(this.code=this.errno=r.code,this.erroredSysCall=r.syscall)}}let m=Symbol.toStringTag,y=e=>"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&"function"==typeof e.sort&&"URLSearchParams"===e[m],g=e=>e&&"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&/^(Blob|File)$/.test(e[m]),b=e=>"object"==typeof e&&("AbortSignal"===e[m]||"EventTarget"===e[m]),v=(e,t)=>{let r=new URL(t).hostname,i=new URL(e).hostname;return r===i||r.endsWith(`.${i}`)},w=(e,t)=>new URL(t).protocol===new URL(e).protocol,_=(0,h.promisify)(a.pipeline),S=Symbol("Body internals");class T{constructor(e,{size:t=0}={}){let r=null;null===e?e=null:y(e)?e=l.Buffer.from(e.toString()):g(e)||l.Buffer.isBuffer(e)||(h.types.isAnyArrayBuffer(e)?e=l.Buffer.from(e):ArrayBuffer.isView(e)?e=l.Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof a||(e instanceof d.fS?r=(e=(0,d.$n)(e)).type.split("=")[1]:e=l.Buffer.from(String(e))));let i=e;l.Buffer.isBuffer(e)?i=a.Readable.from(e):g(e)&&(i=a.Readable.from(e.stream())),this[S]={body:e,stream:i,boundary:r,disturbed:!1,error:null},this.size=t,e instanceof a&&e.on("error",e=>{let t=e instanceof p?e:new f(`Invalid response body while trying to fetch ${this.url}: ${e.message}`,"system",e);this[S].error=t})}get body(){return this[S].stream}get bodyUsed(){return this[S].disturbed}async arrayBuffer(){let{buffer:e,byteOffset:t,byteLength:r}=await x(this);return e.slice(t,t+r)}async formData(){let e=this.headers.get("content-type");if(e.startsWith("application/x-www-form-urlencoded")){let e=new d.fS;for(let[t,r]of new URLSearchParams(await this.text()))e.append(t,r);return e}let{toFormData:t}=await r.e(9530).then(r.bind(r,79530));return t(this.body,e)}async blob(){let e=this.headers&&this.headers.get("content-type")||this[S].body&&this[S].body.type||"",t=await this.arrayBuffer();return new c.A([t],{type:e})}async json(){return JSON.parse(await this.text())}async text(){let e=await x(this);return new TextDecoder().decode(e)}buffer(){return x(this)}}async function x(e){if(e[S].disturbed)throw TypeError(`body used already for: ${e.url}`);if(e[S].disturbed=!0,e[S].error)throw e[S].error;let{body:t}=e;if(null===t||!(t instanceof a))return l.Buffer.alloc(0);let r=[],i=0;try{for await(let n of t){if(e.size>0&&i+n.length>e.size){let r=new f(`content size at ${e.url} over limit: ${e.size}`,"max-size");throw t.destroy(r),r}i+=n.length,r.push(n)}}catch(t){throw t instanceof p?t:new f(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t)}if(!0===t.readableEnded||!0===t._readableState.ended)try{if(r.every(e=>"string"==typeof e))return l.Buffer.from(r.join(""));return l.Buffer.concat(r,i)}catch(t){throw new f(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t)}else throw new f(`Premature close of server response while trying to fetch ${e.url}`)}T.prototype.buffer=(0,h.deprecate)(T.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer"),Object.defineProperties(T.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,h.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});let P=(e,t)=>{let r,i;let{body:n}=e[S];if(e.bodyUsed)throw Error("cannot clone body after it is used");return n instanceof a&&"function"!=typeof n.getBoundary&&(r=new a.PassThrough({highWaterMark:t}),i=new a.PassThrough({highWaterMark:t}),n.pipe(r),n.pipe(i),e[S].stream=r,n=i),n},E=(0,h.deprecate)(e=>e.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),R=(e,t)=>null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":y(e)?"application/x-www-form-urlencoded;charset=UTF-8":g(e)?e.type||null:l.Buffer.isBuffer(e)||h.types.isAnyArrayBuffer(e)||ArrayBuffer.isView(e)?null:e instanceof d.fS?`multipart/form-data; boundary=${t[S].boundary}`:e&&"function"==typeof e.getBoundary?`multipart/form-data;boundary=${E(e)}`:e instanceof a?null:"text/plain;charset=UTF-8",A=e=>{let{body:t}=e[S];return null===t?0:g(t)?t.size:l.Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&t.hasKnownLength&&t.hasKnownLength()?t.getLengthSync():null},C=async(e,{body:t})=>{null===t?e.end():await _(t,e)},k="function"==typeof n.validateHeaderName?n.validateHeaderName:e=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){let t=TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),t}},j="function"==typeof n.validateHeaderValue?n.validateHeaderValue:(e,t)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(t)){let t=TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_CHAR"}),t}};class M extends URLSearchParams{constructor(e){let t=[];if(e instanceof M)for(let[r,i]of Object.entries(e.raw()))t.push(...i.map(e=>[r,e]));else if(null==e);else if("object"!=typeof e||h.types.isBoxedPrimitive(e))throw TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");else{let r=e[Symbol.iterator];if(null==r)t.push(...Object.entries(e));else{if("function"!=typeof r)throw TypeError("Header pairs must be iterable");t=[...e].map(e=>{if("object"!=typeof e||h.types.isBoxedPrimitive(e))throw TypeError("Each header pair must be an iterable object");return[...e]}).map(e=>{if(2!==e.length)throw TypeError("Each header pair must be a name/value tuple");return[...e]})}}return super(t=t.length>0?t.map(([e,t])=>(k(e),j(e,String(t)),[String(e).toLowerCase(),String(t)])):void 0),new Proxy(this,{get(e,t,r){switch(t){case"append":case"set":return(r,i)=>(k(r),j(r,String(i)),URLSearchParams.prototype[t].call(e,String(r).toLowerCase(),String(i)));case"delete":case"has":case"getAll":return r=>(k(r),URLSearchParams.prototype[t].call(e,String(r).toLowerCase()));case"keys":return()=>(e.sort(),new Set(URLSearchParams.prototype.keys.call(e)).keys());default:return Reflect.get(e,t,r)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){let t=this.getAll(e);if(0===t.length)return null;let r=t.join(", ");return/^content-encoding$/i.test(e)&&(r=r.toLowerCase()),r}forEach(e,t){for(let r of this.keys())Reflect.apply(e,t,[this.get(r),r,this])}*values(){for(let e of this.keys())yield this.get(e)}*entries(){for(let e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((e,t)=>(e[t]=this.getAll(t),e),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((e,t)=>{let r=this.getAll(t);return"host"===t?e[t]=r[0]:e[t]=r.length>1?r:r[0],e},{})}}Object.defineProperties(M.prototype,["get","entries","forEach","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));let L=new Set([301,302,303,307,308]),B=e=>L.has(e),O=Symbol("Response internals");class V extends T{constructor(e=null,t={}){super(e,t);let r=null!=t.status?t.status:200,i=new M(t.headers);if(null!==e&&!i.has("Content-Type")){let t=R(e,this);t&&i.append("Content-Type",t)}this[O]={type:"default",url:t.url,status:r,statusText:t.statusText||"",headers:i,counter:t.counter,highWaterMark:t.highWaterMark}}get type(){return this[O].type}get url(){return this[O].url||""}get status(){return this[O].status}get ok(){return this[O].status>=200&&this[O].status<300}get redirected(){return this[O].counter>0}get statusText(){return this[O].statusText}get headers(){return this[O].headers}get highWaterMark(){return this[O].highWaterMark}clone(){return new V(P(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(e,t=302){if(!B(t))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');return new V(null,{headers:{location:new URL(e).toString()},status:t})}static error(){let e=new V(null,{status:0,statusText:""});return e[O].type="error",e}static json(e,t={}){let r=JSON.stringify(e);if(void 0===r)throw TypeError("data is not JSON serializable");let i=new M(t&&t.headers);return i.has("content-type")||i.set("content-type","application/json"),new V(r,{...t,headers:i})}get[Symbol.toStringTag](){return"Response"}}Object.defineProperties(V.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var D=r(73136);let q=e=>{if(e.search)return e.search;let t=e.href.length-1,r=e.hash||("#"===e.href[t]?"#":"");return"?"===e.href[t-r.length]?"?":""};var F=r(77030);function W(e,t=!1){return null==e?"no-referrer":(e=new URL(e),/^(about|blob|data):$/.test(e.protocol))?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e)}let $=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]);function I(e){return!!(/^about:(blank|srcdoc)$/.test(e)||"data:"===e.protocol||/^(blob|filesystem):$/.test(e.protocol))||function(e){if(/^(http|ws)s:$/.test(e.protocol))return!0;let t=e.host.replace(/(^\[)|(]$)/g,""),r=(0,F.isIP)(t);return!!(4===r&&/^127\./.test(t)||6===r&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(t))||!("localhost"===e.host||e.host.endsWith(".localhost"))&&"file:"===e.protocol}(e)}let z=Symbol("Request internals"),U=e=>"object"==typeof e&&"object"==typeof e[z],N=(0,h.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)");class H extends T{constructor(e,t={}){let r;if(U(e)?r=new URL(e.url):(r=new URL(e),e={}),""!==r.username||""!==r.password)throw TypeError(`${r} is an url with embedded credentials.`);let i=t.method||e.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(i)&&(i=i.toUpperCase()),!U(t)&&"data"in t&&N(),(null!=t.body||U(e)&&null!==e.body)&&("GET"===i||"HEAD"===i))throw TypeError("Request with GET/HEAD method cannot have body");let n=t.body?t.body:U(e)&&null!==e.body?P(e):null;super(n,{size:t.size||e.size||0});let o=new M(t.headers||e.headers||{});if(null!==n&&!o.has("Content-Type")){let e=R(n,this);e&&o.set("Content-Type",e)}let s=U(e)?e.signal:null;if("signal"in t&&(s=t.signal),null!=s&&!b(s))throw TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let a=null==t.referrer?e.referrer:t.referrer;if(""===a)a="no-referrer";else if(a){let e=new URL(a);a=/^about:(\/\/)?client$/.test(e)?"client":e}else a=void 0;this[z]={method:i,redirect:t.redirect||e.redirect||"follow",headers:o,parsedURL:r,signal:s,referrer:a},this.follow=void 0===t.follow?void 0===e.follow?20:e.follow:t.follow,this.compress=void 0===t.compress?void 0===e.compress||e.compress:t.compress,this.counter=t.counter||e.counter||0,this.agent=t.agent||e.agent,this.highWaterMark=t.highWaterMark||e.highWaterMark||16384,this.insecureHTTPParser=t.insecureHTTPParser||e.insecureHTTPParser||!1,this.referrerPolicy=t.referrerPolicy||e.referrerPolicy||""}get method(){return this[z].method}get url(){return(0,D.format)(this[z].parsedURL)}get headers(){return this[z].headers}get redirect(){return this[z].redirect}get signal(){return this[z].signal}get referrer(){return"no-referrer"===this[z].referrer?"":"client"===this[z].referrer?"about:client":this[z].referrer?this[z].referrer.toString():void 0}get referrerPolicy(){return this[z].referrerPolicy}set referrerPolicy(e){this[z].referrerPolicy=function(e){if(!$.has(e))throw TypeError(`Invalid referrerPolicy: ${e}`);return e}(e)}clone(){return new H(this)}get[Symbol.toStringTag](){return"Request"}}Object.defineProperties(H.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});let Y=e=>{let{parsedURL:t}=e[z],r=new M(e[z].headers);r.has("Accept")||r.set("Accept","*/*");let i=null;if(null===e.body&&/^(post|put)$/i.test(e.method)&&(i="0"),null!==e.body){let t=A(e);"number"!=typeof t||Number.isNaN(t)||(i=String(t))}i&&r.set("Content-Length",i),""===e.referrerPolicy&&(e.referrerPolicy="strict-origin-when-cross-origin"),e.referrer&&"no-referrer"!==e.referrer?e[z].referrer=function(e,{referrerURLCallback:t,referrerOriginCallback:r}={}){if("no-referrer"===e.referrer||""===e.referrerPolicy)return null;let i=e.referrerPolicy;if("about:client"===e.referrer)return"no-referrer";let n=e.referrer,o=W(n),s=W(n,!0);o.toString().length>4096&&(o=s),t&&(o=t(o)),r&&(s=r(s));let a=new URL(e.url);switch(i){case"no-referrer":return"no-referrer";case"origin":return s;case"unsafe-url":return o;case"strict-origin":if(I(o)&&!I(a))return"no-referrer";return s.toString();case"strict-origin-when-cross-origin":if(o.origin===a.origin)return o;if(I(o)&&!I(a))return"no-referrer";return s;case"same-origin":if(o.origin===a.origin)return o;return"no-referrer";case"origin-when-cross-origin":if(o.origin===a.origin)return o;return s;case"no-referrer-when-downgrade":if(I(o)&&!I(a))return"no-referrer";return o;default:throw TypeError(`Invalid referrerPolicy: ${i}`)}}(e):e[z].referrer="no-referrer",e[z].referrer instanceof URL&&r.set("Referer",e.referrer),r.has("User-Agent")||r.set("User-Agent","node-fetch"),e.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip, deflate, br");let{agent:n}=e;"function"==typeof n&&(n=n(t));let o=q(t),s={path:t.pathname+o,method:e.method,headers:r[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:e.insecureHTTPParser,agent:n};return{parsedURL:t,options:s}};class G extends p{constructor(e,t="aborted"){super(e,t)}}r(8224);let X=new Set(["data:","http:","https:"]);async function K(e,t){return new Promise((r,i)=>{let h=new H(e,t),{parsedURL:c,options:d}=Y(h);if(!X.has(c.protocol))throw TypeError(`node-fetch cannot load ${e}. URL scheme "${c.protocol.replace(/:$/,"")}" is not supported.`);if("data:"===c.protocol){let e=u(h.url);r(new V(e,{headers:{"Content-Type":e.typeFull}}));return}let p=("https:"===c.protocol?o:n).request,{signal:m}=h,y=null,g=()=>{let e=new G("The operation was aborted.");i(e),h.body&&h.body instanceof a.Readable&&h.body.destroy(e),y&&y.body&&y.body.emit("error",e)};if(m&&m.aborted){g();return}let b=()=>{g(),S()},_=p(c.toString(),d);m&&m.addEventListener("abort",b);let S=()=>{_.abort(),m&&m.removeEventListener("abort",b)};_.on("error",e=>{i(new f(`request to ${h.url} failed, reason: ${e.message}`,"system",e)),S()}),function(e,t){let r;let i=l.Buffer.from("0\r\n\r\n"),n=!1,o=!1;e.on("response",e=>{let{headers:t}=e;n="chunked"===t["transfer-encoding"]&&!t["content-length"]}),e.on("socket",s=>{let a=()=>{if(n&&!o){let e=Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",t(e)}},u=e=>{(o=0===l.Buffer.compare(e.slice(-5),i))||!r||(o=0===l.Buffer.compare(r.slice(-3),i.slice(0,3))&&0===l.Buffer.compare(e.slice(-2),i.slice(3))),r=e};s.prependListener("close",a),s.on("data",u),e.on("close",()=>{s.removeListener("close",a),s.removeListener("data",u)})})}(_,e=>{y&&y.body&&y.body.destroy(e)}),process.version<"v14"&&_.on("socket",e=>{let t;e.prependListener("end",()=>{t=e._eventsCount}),e.prependListener("close",r=>{if(y&&t<e._eventsCount&&!r){let e=Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",y.body.emit("error",e)}})}),_.on("response",e=>{_.setTimeout(0);let n=function(e=[]){return new M(e.reduce((e,t,r,i)=>(r%2==0&&e.push(i.slice(r,r+2)),e),[]).filter(([e,t])=>{try{return k(e),j(e,String(t)),!0}catch{return!1}}))}(e.rawHeaders);if(B(e.statusCode)){let o=n.get("Location"),s=null;try{s=null===o?null:new URL(o,h.url)}catch{if("manual"!==h.redirect){i(new f(`uri requested responds with an invalid redirect URL: ${o}`,"invalid-redirect")),S();return}}switch(h.redirect){case"error":i(new f(`uri requested responds with a redirect, redirect mode is set to error: ${h.url}`,"no-redirect")),S();return;case"manual":break;case"follow":{if(null===s)break;if(h.counter>=h.follow){i(new f(`maximum redirect reached at: ${h.url}`,"max-redirect")),S();return}let o={headers:new M(h.headers),follow:h.follow,counter:h.counter+1,agent:h.agent,compress:h.compress,method:h.method,body:P(h),signal:h.signal,size:h.size,referrer:h.referrer,referrerPolicy:h.referrerPolicy};if(!v(h.url,s)||!w(h.url,s))for(let e of["authorization","www-authenticate","cookie","cookie2"])o.headers.delete(e);if(303!==e.statusCode&&h.body&&t.body instanceof a.Readable){i(new f("Cannot follow redirect with body being a readable stream","unsupported-redirect")),S();return}(303===e.statusCode||(301===e.statusCode||302===e.statusCode)&&"POST"===h.method)&&(o.method="GET",o.body=void 0,o.headers.delete("content-length"));let l=function(e){let t=(e.get("referrer-policy")||"").split(/[,\s]+/),r="";for(let e of t)e&&$.has(e)&&(r=e);return r}(n);l&&(o.referrerPolicy=l),r(K(new H(s,o))),S();return}default:return i(TypeError(`Redirect option '${h.redirect}' is not a valid value of RequestRedirect`))}}m&&e.once("end",()=>{m.removeEventListener("abort",b)});let o=(0,a.pipeline)(e,new a.PassThrough,e=>{e&&i(e)});process.version<"v12.10"&&e.on("aborted",b);let l={url:h.url,status:e.statusCode,statusText:e.statusMessage,headers:n,size:h.size,counter:h.counter,highWaterMark:h.highWaterMark},u=n.get("Content-Encoding");if(!h.compress||"HEAD"===h.method||null===u||204===e.statusCode||304===e.statusCode){r(y=new V(o,l));return}let c={flush:s.Z_SYNC_FLUSH,finishFlush:s.Z_SYNC_FLUSH};if("gzip"===u||"x-gzip"===u){r(y=new V(o=(0,a.pipeline)(o,s.createGunzip(c),e=>{e&&i(e)}),l));return}if("deflate"===u||"x-deflate"===u){let t=(0,a.pipeline)(e,new a.PassThrough,e=>{e&&i(e)});t.once("data",e=>{r(y=new V(o=(15&e[0])==8?(0,a.pipeline)(o,s.createInflate(),e=>{e&&i(e)}):(0,a.pipeline)(o,s.createInflateRaw(),e=>{e&&i(e)}),l))}),t.once("end",()=>{y||r(y=new V(o,l))});return}if("br"===u){r(y=new V(o=(0,a.pipeline)(o,s.createBrotliDecompress(),e=>{e&&i(e)}),l));return}r(y=new V(o,l))}),C(_,h).catch(i)})}async function Z(e){try{let t=new URL("http://localhost:3000/lib/api/video");t.searchParams.append("lang",e);let r=await K(t.href);if(!r.ok)throw Error("Ошибка при загрузке товаров");return await r.json()}catch(e){return console.error("Error fetching products:",e),[]}}async function Q(e,t){try{let r=new URL("http://localhost:3000/lib/api/video");r.searchParams.append("lang",e);let i=await K(r.href,{headers:{"Content-Type":"application/json"}});if(!i.ok)throw Error("Ошибка при загрузке видео");return(await i.json()).find(e=>String(e._id)===String(t))??null}catch(e){return console.error("Ошибка при загрузке видео:",e),null}}(0,r(99344).D)([Z,Q]),(0,i.A)(Z,"40278d714d687f6fbd456028ca70cf2e3e7ebedf26",null),(0,i.A)(Q,"601c1d0cc2657e9b93b82a23a9d946c35bdcd68639",null)},42567:(e,t,r)=>{Promise.resolve().then(r.bind(r,57375)),Promise.resolve().then(r.bind(r,78799))},24415:(e,t,r)=>{Promise.resolve().then(r.bind(r,27907)),Promise.resolve().then(r.bind(r,87319))},27907:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var i=r(45512),n=r(58009),o=r(45103),s=r(12138),a=r(28531),l=r.n(a),u=r(92273),h=r(69541);let c=[{src:"/img/gallery/1.JPEG",altName:"Лудший подарок маме"},{src:"/img/gallery/2.JPEG",altName:"Подарок жене"},{src:"/img/set/1.png",altName:"Подарочный набор"},{src:"/img/gallery/3.JPEG",altName:"Подарок любимому человеку"},{src:"/img/gallery/4.JPEG",altName:"Подарок на свадьбу"},{src:"/img/gallery/6.JPEG",altName:"Подарок на той"},{src:"/img/gallery/7.JPEG",altName:"Медная посуда"},{src:"/img/gallery/8.JPEG",altName:"Набор медной посуды"},{src:"/img/gallery/9.JPEG",altName:"Лудщий подарок"},{src:"/img/gallery/10.JPEG",altName:"Здоровье семьи"},{src:"/img/gallery/11.JPEG",altName:"Медная сковорода"},{src:"/img/4-блок_Миссия.jpg",altName:"Медная сковорода"}],d=({t:e,lang:t})=>{let r=(0,n.useRef)([]);(0,n.useEffect)(()=>{r.current&&s.os.fromTo(r.current,{opacity:0,y:30},{opacity:1,y:0,duration:.8,stagger:.2,ease:"power3.out"})},[]);let a=(0,u.d4)((0,h.fY)()),d=c.map((e,t)=>({...e,videoId:a[t]?._id}));return(0,i.jsx)("div",{className:"relative grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 p-6",children:d.map((n,s)=>(0,i.jsx)(l(),{href:`/${t}/gallery/${n.videoId}`,className:"w-full max-h-72",children:(0,i.jsx)("div",{ref:e=>{e&&(r.current[s]=e)},className:"relative w-full h-64 overflow-hidden rounded-xl shadow-md",children:(0,i.jsx)(o.default,{src:n.src,alt:`${""===n.altName?e.gallery.altInfo:n.altName}`,fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",className:"object-cover transition-transform duration-500 hover:scale-105 pointer"})})},s))})}},87319:(e,t,r)=>{"use strict";let i,n,o;r.d(t,{default:()=>o9});var s,a,l=r(45512),u=r(58009);function h(e,t){-1===e.indexOf(t)&&e.push(t)}function c(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}class d{constructor(){this.subscriptions=[]}add(e){return h(this.subscriptions,e),()=>c(this.subscriptions,e)}notify(e,t,r){let i=this.subscriptions.length;if(i){if(1===i)this.subscriptions[0](e,t,r);else for(let n=0;n<i;n++){let i=this.subscriptions[n];i&&i(e,t,r)}}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function p(e,t){return t?1e3/t*e:0}let f={},m=e=>e,y=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],g={value:null,addProjectionMetrics:null};function b(e,t){let r=!1,i=!0,n={delta:0,timestamp:0,isProcessing:!1},o=()=>r=!0,s=y.reduce((e,r)=>(e[r]=function(e,t){let r=new Set,i=new Set,n=!1,o=!1,s=new WeakSet,a={delta:0,timestamp:0,isProcessing:!1},l=0;function u(t){s.has(t)&&(h.schedule(t),e()),l++,t(a)}let h={schedule:(e,t=!1,o=!1)=>{let a=o&&n?r:i;return t&&s.add(e),a.has(e)||a.add(e),e},cancel:e=>{i.delete(e),s.delete(e)},process:e=>{if(a=e,n){o=!0;return}n=!0,[r,i]=[i,r],r.forEach(u),t&&g.value&&g.value.frameloop[t].push(l),l=0,r.clear(),n=!1,o&&(o=!1,h.process(e))}};return h}(o,t?r:void 0),e),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:h,update:c,preRender:d,render:p,postRender:m}=s,b=()=>{let o=f.useManualTiming?n.timestamp:performance.now();r=!1,f.useManualTiming||(n.delta=i?1e3/60:Math.max(Math.min(o-n.timestamp,40),1)),n.timestamp=o,n.isProcessing=!0,a.process(n),l.process(n),u.process(n),h.process(n),c.process(n),d.process(n),p.process(n),m.process(n),n.isProcessing=!1,r&&t&&(i=!1,e(b))},v=()=>{r=!0,i=!0,n.isProcessing||e(b)};return{schedule:y.reduce((e,t)=>{let i=s[t];return e[t]=(e,t=!1,n=!1)=>(r||v(),i.schedule(e,t,n)),e},{}),cancel:e=>{for(let t=0;t<y.length;t++)s[y[t]].cancel(e)},state:n,steps:s}}let{schedule:v,cancel:w,state:_,steps:S}=b("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:m,!0);function T(){i=void 0}let x={now:()=>(void 0===i&&x.set(_.isProcessing||f.useManualTiming?_.timestamp:performance.now()),i),set:e=>{i=e,queueMicrotask(T)}},P=e=>!isNaN(parseFloat(e)),E={current:void 0};class R{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(e,t=!0)=>{let r=x.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let e of this.dependents)e.dirty();t&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=x.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=P(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new d);let r=this.events[e].add(t);return"change"===e?()=>{r(),v.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return E.current&&E.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){let e=x.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;let t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return p(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function A(e,t){return new R(e,t)}let C=()=>{},k=()=>{};function j(e,t){let r;let i=()=>{let{currentTime:i}=t,n=(null===i?0:i.value)/100;r!==n&&e(n),r=n};return v.preUpdate(i,!0),()=>w(i)}function M(e){let t;return()=>(void 0===t&&(t=e()),t)}let L=M(()=>void 0!==window.ScrollTimeline);function B(e){return"object"==typeof e&&null!==e}function O(e){return B(e)&&"ownerSVGElement"in e}function V(e,t,r){if(e instanceof EventTarget)return[e];if("string"==typeof e){let i=document;t&&(i=t.current);let n=r?.[e]??i.querySelectorAll(e);return n?Array.from(n):[]}return Array.from(e)}let D=new WeakMap,q=(e,t,r)=>(i,n)=>n&&n[0]?n[0][e+"Size"]:O(i)&&"getBBox"in i?i.getBBox()[t]:i[r],F=q("inline","width","offsetWidth"),W=q("block","height","offsetHeight");function $({target:e,borderBoxSize:t}){D.get(e)?.forEach(r=>{r(e,{get width(){return F(e,t)},get height(){return W(e,t)}})})}function I(e){e.forEach($)}let z=new Set,U=(e,t,r)=>{let i=t-e;return 0===i?1:(r-e)/i},N=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),H=()=>({time:0,x:N(),y:N()}),Y={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function G(e,t,r,i){let n=r[t],{length:o,position:s}=Y[t],a=n.current,l=r.time;n.current=e[`scroll${s}`],n.scrollLength=e[`scroll${o}`]-e[`client${o}`],n.offset.length=0,n.offset[0]=0,n.offset[1]=n.scrollLength,n.progress=U(0,n.scrollLength,n.current);let u=i-l;n.velocity=u>50?0:p(n.current-a,u)}let X=(e,t)=>r=>t(e(r)),K=(...e)=>e.reduce(X),Z=(e,t,r)=>r>t?t:r<e?e:r,Q=e=>t=>"string"==typeof t&&t.startsWith(e),J=Q("--"),ee=Q("var(--"),et=e=>!!ee(e)&&er.test(e.split("/*")[0].trim()),er=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ei={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},en={...ei,transform:e=>Z(0,1,e)},eo={...ei,default:1},es=e=>Math.round(1e5*e)/1e5,ea=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,el=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,eu=(e,t)=>r=>!!("string"==typeof r&&el.test(r)&&r.startsWith(e)||t&&null!=r&&Object.prototype.hasOwnProperty.call(r,t)),eh=(e,t,r)=>i=>{if("string"!=typeof i)return i;let[n,o,s,a]=i.match(ea);return{[e]:parseFloat(n),[t]:parseFloat(o),[r]:parseFloat(s),alpha:void 0!==a?parseFloat(a):1}},ec=e=>Z(0,255,e),ed={...ei,transform:e=>Math.round(ec(e))},ep={test:eu("rgb","red"),parse:eh("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:i=1})=>"rgba("+ed.transform(e)+", "+ed.transform(t)+", "+ed.transform(r)+", "+es(en.transform(i))+")"},ef={test:eu("#"),parse:function(e){let t="",r="",i="",n="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),i=e.substring(5,7),n=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),i=e.substring(3,4),n=e.substring(4,5),t+=t,r+=r,i+=i,n+=n),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:n?parseInt(n,16)/255:1}},transform:ep.transform},em=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),ey=em("deg"),eg=em("%"),eb=em("px"),ev=em("vh"),ew=em("vw"),e_={...eg,parse:e=>eg.parse(e)/100,transform:e=>eg.transform(100*e)},eS={test:eu("hsl","hue"),parse:eh("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:i=1})=>"hsla("+Math.round(e)+", "+eg.transform(es(t))+", "+eg.transform(es(r))+", "+es(en.transform(i))+")"},eT={test:e=>ep.test(e)||ef.test(e)||eS.test(e),parse:e=>ep.test(e)?ep.parse(e):eS.test(e)?eS.parse(e):ef.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?ep.transform(e):eS.transform(e)},ex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,eP="number",eE="color",eR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function eA(e){let t=e.toString(),r=[],i={color:[],number:[],var:[]},n=[],o=0,s=t.replace(eR,e=>(eT.test(e)?(i.color.push(o),n.push(eE),r.push(eT.parse(e))):e.startsWith("var(")?(i.var.push(o),n.push("var"),r.push(e)):(i.number.push(o),n.push(eP),r.push(parseFloat(e))),++o,"${}")).split("${}");return{values:r,split:s,indexes:i,types:n}}function eC(e){return eA(e).values}function ek(e){let{split:t,types:r}=eA(e),i=t.length;return e=>{let n="";for(let o=0;o<i;o++)if(n+=t[o],void 0!==e[o]){let t=r[o];t===eP?n+=es(e[o]):t===eE?n+=eT.transform(e[o]):n+=e[o]}return n}}let ej=e=>"number"==typeof e?0:e,eM={test:function(e){return isNaN(e)&&"string"==typeof e&&(e.match(ea)?.length||0)+(e.match(ex)?.length||0)>0},parse:eC,createTransformer:ek,getAnimatableNone:function(e){let t=eC(e);return ek(e)(t.map(ej))}};function eL(e,t,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?e+(t-e)*6*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function eB(e,t){return r=>r>0?t:e}let eO=(e,t,r)=>e+(t-e)*r,eV=(e,t,r)=>{let i=e*e,n=r*(t*t-i)+i;return n<0?0:Math.sqrt(n)},eD=[ef,ep,eS],eq=e=>eD.find(t=>t.test(e));function eF(e){let t=eq(e);if(C(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`),!t)return!1;let r=t.parse(e);return t===eS&&(r=function({hue:e,saturation:t,lightness:r,alpha:i}){e/=360,r/=100;let n=0,o=0,s=0;if(t/=100){let i=r<.5?r*(1+t):r+t-r*t,a=2*r-i;n=eL(a,i,e+1/3),o=eL(a,i,e),s=eL(a,i,e-1/3)}else n=o=s=r;return{red:Math.round(255*n),green:Math.round(255*o),blue:Math.round(255*s),alpha:i}}(r)),r}let eW=(e,t)=>{let r=eF(e),i=eF(t);if(!r||!i)return eB(e,t);let n={...r};return e=>(n.red=eV(r.red,i.red,e),n.green=eV(r.green,i.green,e),n.blue=eV(r.blue,i.blue,e),n.alpha=eO(r.alpha,i.alpha,e),ep.transform(n))},e$=new Set(["none","hidden"]);function eI(e,t){return r=>eO(e,t,r)}function ez(e){return"number"==typeof e?eI:"string"==typeof e?et(e)?eB:eT.test(e)?eW:eH:Array.isArray(e)?eU:"object"==typeof e?eT.test(e)?eW:eN:eB}function eU(e,t){let r=[...e],i=r.length,n=e.map((e,r)=>ez(e)(e,t[r]));return e=>{for(let t=0;t<i;t++)r[t]=n[t](e);return r}}function eN(e,t){let r={...e,...t},i={};for(let n in r)void 0!==e[n]&&void 0!==t[n]&&(i[n]=ez(e[n])(e[n],t[n]));return e=>{for(let t in i)r[t]=i[t](e);return r}}let eH=(e,t)=>{let r=eM.createTransformer(t),i=eA(e),n=eA(t);return i.indexes.var.length===n.indexes.var.length&&i.indexes.color.length===n.indexes.color.length&&i.indexes.number.length>=n.indexes.number.length?e$.has(e)&&!n.values.length||e$.has(t)&&!i.values.length?function(e,t){return e$.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}(e,t):K(eU(function(e,t){let r=[],i={color:0,var:0,number:0};for(let n=0;n<t.values.length;n++){let o=t.types[n],s=e.indexes[o][i[o]],a=e.values[s]??0;r[n]=a,i[o]++}return r}(i,n),n.values),r):(C(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),eB(e,t))};function eY(e,t,r){return"number"==typeof e&&"number"==typeof t&&"number"==typeof r?eO(e,t,r):ez(e)(e,t)}function eG(e,t,{clamp:r=!0,ease:i,mixer:n}={}){let o=e.length;if(k(o===t.length,"Both input and output ranges must be the same length"),1===o)return()=>t[0];if(2===o&&t[0]===t[1])return()=>t[1];let s=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());let a=function(e,t,r){let i=[],n=r||f.mix||eY,o=e.length-1;for(let r=0;r<o;r++){let o=n(e[r],e[r+1]);t&&(o=K(Array.isArray(t)?t[r]||m:t,o)),i.push(o)}return i}(t,i,n),l=a.length,u=r=>{if(s&&r<e[0])return t[0];let i=0;if(l>1)for(;i<e.length-2&&!(r<e[i+1]);i++);let n=U(e[i],e[i+1],r);return a[i](n)};return r?t=>u(Z(e[0],e[o-1],t)):u}function eX(e){let t=[0];return function(e,t){let r=e[e.length-1];for(let i=1;i<=t;i++){let n=U(0,t,i);e.push(eO(r,1,n))}}(t,e.length-1),t}function eK(e){return B(e)&&"offsetHeight"in e}let eZ={start:0,center:.5,end:1};function eQ(e,t,r=0){let i=0;if(e in eZ&&(e=eZ[e]),"string"==typeof e){let t=parseFloat(e);e.endsWith("px")?i=t:e.endsWith("%")?e=t/100:e.endsWith("vw")?i=t/100*document.documentElement.clientWidth:e.endsWith("vh")?i=t/100*document.documentElement.clientHeight:e=t}return"number"==typeof e&&(i=t*e),r+i}let eJ=[0,0],e0={All:[[0,0],[1,1]]},e1={x:0,y:0},e2=new WeakMap,e3=new WeakMap,e5=new WeakMap,e4=e=>e===document.scrollingElement?window:e;function e7(e,{container:t=document.scrollingElement,...r}={}){if(!t)return m;let i=e5.get(t);i||(i=new Set,e5.set(t,i));let s=function(e,t,r,i={}){return{measure:t=>{(function(e,t=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,t!==e){let i=t;for(;i&&i!==e;)r.x.targetOffset+=i.offsetLeft,r.y.targetOffset+=i.offsetTop,i=i.offsetParent}r.x.targetLength=t===e?t.scrollWidth:t.clientWidth,r.y.targetLength=t===e?t.scrollHeight:t.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight})(e,i.target,r),G(e,"x",r,t),G(e,"y",r,t),r.time=t,(i.offset||i.target)&&function(e,t,r){let{offset:i=e0.All}=r,{target:n=e,axis:o="y"}=r,s="y"===o?"height":"width",a=n!==e?function(e,t){let r={x:0,y:0},i=e;for(;i&&i!==t;)if(eK(i))r.x+=i.offsetLeft,r.y+=i.offsetTop,i=i.offsetParent;else if("svg"===i.tagName){let e=i.getBoundingClientRect(),t=(i=i.parentElement).getBoundingClientRect();r.x+=e.left-t.left,r.y+=e.top-t.top}else if(i instanceof SVGGraphicsElement){let{x:e,y:t}=i.getBBox();r.x+=e,r.y+=t;let n=null,o=i.parentNode;for(;!n;)"svg"===o.tagName&&(n=o),o=i.parentNode;i=n}else break;return r}(n,e):e1,l=n===e?{width:e.scrollWidth,height:e.scrollHeight}:"getBBox"in n&&"svg"!==n.tagName?n.getBBox():{width:n.clientWidth,height:n.clientHeight},u={width:e.clientWidth,height:e.clientHeight};t[o].offset.length=0;let h=!t[o].interpolate,c=i.length;for(let e=0;e<c;e++){let r=function(e,t,r,i){let n=Array.isArray(e)?e:eJ,o=0;return"number"==typeof e?n=[e,e]:"string"==typeof e&&(n=(e=e.trim()).includes(" ")?e.split(" "):[e,eZ[e]?e:"0"]),eQ(n[0],r,i)-eQ(n[1],t)}(i[e],u[s],l[s],a[o]);h||r===t[o].interpolatorOffsets[e]||(h=!0),t[o].offset[e]=r}h&&(t[o].interpolate=eG(t[o].offset,eX(i),{clamp:!1}),t[o].interpolatorOffsets=[...t[o].offset]),t[o].progress=Z(0,1,t[o].interpolate(t[o].current))}(e,r,i)},notify:()=>t(r)}}(t,e,H(),r);if(i.add(s),!e2.has(t)){let e=()=>{for(let e of i)e.measure(_.timestamp);v.preUpdate(r)},r=()=>{for(let e of i)e.notify()},s=()=>v.read(e);e2.set(t,s);let a=e4(t);window.addEventListener("resize",s,{passive:!0}),t!==document.documentElement&&e3.set(t,"function"==typeof t?(z.add(t),o||(o=()=>{let e={get width(){return window.innerWidth},get height(){return window.innerHeight}};z.forEach(t=>t(e))},window.addEventListener("resize",o)),()=>{z.delete(t),z.size||"function"!=typeof o||(window.removeEventListener("resize",o),o=void 0)}):function(e,t){n||"undefined"==typeof ResizeObserver||(n=new ResizeObserver(I));let r=V(e);return r.forEach(e=>{let r=D.get(e);r||(r=new Set,D.set(e,r)),r.add(t),n?.observe(e)}),()=>{r.forEach(e=>{let r=D.get(e);r?.delete(t),r?.size||n?.unobserve(e)})}}(t,s)),a.addEventListener("scroll",s,{passive:!0}),s()}let a=e2.get(t);return v.read(a,!1,!0),()=>{w(a);let e=e5.get(t);if(!e||(e.delete(s),e.size))return;let r=e2.get(t);e2.delete(t),r&&(e4(t).removeEventListener("scroll",r),e3.get(t)?.(),window.removeEventListener("resize",r))}}let e9=new Map;function e6({source:e,container:t,...r}){let{axis:i}=r;e&&(t=e);let n=e9.get(t)??new Map;e9.set(t,n);let o=r.target??"self",s=n.get(o)??{},a=i+(r.offset??[]).join(",");return s[a]||(s[a]=!r.target&&L()?new ScrollTimeline({source:t,axis:i}):function(e){let t={value:0},r=e7(r=>{t.value=100*r[e.axis].progress},e);return{currentTime:t,cancel:r}}({container:t,...r})),s[a]}function e8(e){let t=(0,u.useRef)(null);return null===t.current&&(t.current=e()),t.current}let te="undefined"!=typeof window,tt=te?u.useLayoutEffect:u.useEffect;function tr(e,t){C(!!(!t||t.current),`You have defined a ${e} options but the provided ref is not yet hydrated, probably because it's defined higher up the tree. Try calling useScroll() in the same component as the ref, or setting its \`layoutEffect: false\` option.`)}let ti=()=>({scrollX:A(0),scrollY:A(0),scrollXProgress:A(0),scrollYProgress:A(0)}),tn=(0,u.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function to(e,t){let r=function(e){let t=e8(()=>A(e)),{isStatic:r}=(0,u.useContext)(tn);if(r){let[,r]=(0,u.useState)(e);(0,u.useEffect)(()=>t.on("change",r),[])}return t}(t()),i=()=>r.set(t());return i(),tt(()=>{let t=()=>v.preRender(i,!1,!0),r=e.map(e=>e.on("change",t));return()=>{r.forEach(e=>e()),w(i)}}),r}function ts(e,t){let r=e8(()=>[]);return to(e,()=>{r.length=0;let i=e.length;for(let t=0;t<i;t++)r[t]=e[t].get();return t(r)})}function ta(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function tl(e,t,r,i){if("function"==typeof t||("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t)){let[n,o]=function(e){let t=[{},{}];return e?.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}(i);t=t(void 0!==r?r:e.custom,n,o)}return t}function tu(e,t,r){let i=e.getProps();return tl(i,t,void 0!==r?r:i.custom,e)}function th(e,t){return e?.[t]??e?.default??e}let tc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],td=new Set(tc),tp=new Set(["width","height","top","left","right","bottom",...tc]),tf=e=>Array.isArray(e),tm=e=>!!(e&&e.getVelocity);function ty(e,t){let r=e.getValue("willChange");if(tm(r)&&r.add)return r.add(t);if(!r&&f.WillChange){let r=new f.WillChange("auto");e.addValue("willChange",r),r.add(t)}}let tg=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),tb="data-"+tg("framerAppearId"),tv=e=>1e3*e,tw=e=>e/1e3,t_={layout:0,mainThread:0,waapi:0},tS=e=>{let t=({timestamp:t})=>e(t);return{start:(e=!0)=>v.update(t,e),stop:()=>w(t),now:()=>_.isProcessing?_.timestamp:x.now()}},tT=(e,t,r=10)=>{let i="",n=Math.max(Math.round(t/r),2);for(let t=0;t<n;t++)i+=e(t/(n-1))+", ";return`linear(${i.substring(0,i.length-2)})`};function tx(e){let t=0,r=e.next(t);for(;!r.done&&t<2e4;)t+=50,r=e.next(t);return t>=2e4?1/0:t}function tP(e,t,r){let i=Math.max(t-5,0);return p(r-e(i),t-i)}let tE={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1};function tR(e,t){return e*Math.sqrt(1-t*t)}let tA=["duration","bounce"],tC=["stiffness","damping","mass"];function tk(e,t){return t.some(t=>void 0!==e[t])}function tj(e=tE.visualDuration,t=tE.bounce){let r;let i="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e,{restSpeed:n,restDelta:o}=i,s=i.keyframes[0],a=i.keyframes[i.keyframes.length-1],l={done:!1,value:s},{stiffness:u,damping:h,mass:c,duration:d,velocity:p,isResolvedFromDuration:f}=function(e){let t={velocity:tE.velocity,stiffness:tE.stiffness,damping:tE.damping,mass:tE.mass,isResolvedFromDuration:!1,...e};if(!tk(e,tC)&&tk(e,tA)){if(e.visualDuration){let r=2*Math.PI/(1.2*e.visualDuration),i=r*r,n=2*Z(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:tE.mass,stiffness:i,damping:n}}else{let r=function({duration:e=tE.duration,bounce:t=tE.bounce,velocity:r=tE.velocity,mass:i=tE.mass}){let n,o;C(e<=tv(tE.maxDuration),"Spring duration must be 10 seconds or less");let s=1-t;s=Z(tE.minDamping,tE.maxDamping,s),e=Z(tE.minDuration,tE.maxDuration,tw(e)),s<1?(n=t=>{let i=t*s,n=i*e;return .001-(i-r)/tR(t,s)*Math.exp(-n)},o=t=>{let i=t*s*e,o=Math.pow(s,2)*Math.pow(t,2)*e,a=Math.exp(-i),l=tR(Math.pow(t,2),s);return(i*r+r-o)*a*(-n(t)+.001>0?-1:1)/l}):(n=t=>-.001+Math.exp(-t*e)*((t-r)*e+1),o=t=>e*e*(r-t)*Math.exp(-t*e));let a=function(e,t,r){let i=r;for(let r=1;r<12;r++)i-=e(i)/t(i);return i}(n,o,5/e);if(e=tv(e),isNaN(a))return{stiffness:tE.stiffness,damping:tE.damping,duration:e};{let t=Math.pow(a,2)*i;return{stiffness:t,damping:2*s*Math.sqrt(i*t),duration:e}}}(e);(t={...t,...r,mass:tE.mass}).isResolvedFromDuration=!0}}return t}({...i,velocity:-tw(i.velocity||0)}),m=p||0,y=h/(2*Math.sqrt(u*c)),g=a-s,b=tw(Math.sqrt(u/c)),v=5>Math.abs(g);if(n||(n=v?tE.restSpeed.granular:tE.restSpeed.default),o||(o=v?tE.restDelta.granular:tE.restDelta.default),y<1){let e=tR(b,y);r=t=>a-Math.exp(-y*b*t)*((m+y*b*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}else if(1===y)r=e=>a-Math.exp(-b*e)*(g+(m+b*g)*e);else{let e=b*Math.sqrt(y*y-1);r=t=>{let r=Math.exp(-y*b*t),i=Math.min(e*t,300);return a-r*((m+y*b*g)*Math.sinh(i)+e*g*Math.cosh(i))/e}}let w={calculatedDuration:f&&d||null,next:e=>{let t=r(e);if(f)l.done=e>=d;else{let i=0===e?m:0;y<1&&(i=0===e?tv(m):tP(r,e,t));let s=Math.abs(i)<=n,u=Math.abs(a-t)<=o;l.done=s&&u}return l.value=l.done?a:t,l},toString:()=>{let e=Math.min(tx(w),2e4),t=tT(t=>w.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return w}function tM({keyframes:e,velocity:t=0,power:r=.8,timeConstant:i=325,bounceDamping:n=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:u=.5,restSpeed:h}){let c,d;let p=e[0],f={done:!1,value:p},m=e=>void 0!==a&&e<a||void 0!==l&&e>l,y=e=>void 0===a?l:void 0===l?a:Math.abs(a-e)<Math.abs(l-e)?a:l,g=r*t,b=p+g,v=void 0===s?b:s(b);v!==b&&(g=v-p);let w=e=>-g*Math.exp(-e/i),_=e=>v+w(e),S=e=>{let t=w(e),r=_(e);f.done=Math.abs(t)<=u,f.value=f.done?v:r},T=e=>{m(f.value)&&(c=e,d=tj({keyframes:[f.value,y(f.value)],velocity:tP(_,e,f.value),damping:n,stiffness:o,restDelta:u,restSpeed:h}))};return T(0),{calculatedDuration:null,next:e=>{let t=!1;return(d||void 0!==c||(t=!0,S(e),T(e)),void 0!==c&&e>=c)?d.next(e-c):(t||S(e),f)}}}tj.applyToOptions=e=>{let t=function(e,t=100,r){let i=r({...e,keyframes:[0,t]}),n=Math.min(tx(i),2e4);return{type:"keyframes",ease:e=>i.next(n*e).value/t,duration:tw(n)}}(e,100,tj);return e.ease=t.ease,e.duration=tv(t.duration),e.type="keyframes",e};let tL=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e;function tB(e,t,r,i){if(e===t&&r===i)return m;let n=t=>(function(e,t,r,i,n){let o,s;let a=0;do(o=tL(s=t+(r-t)/2,i,n)-e)>0?r=s:t=s;while(Math.abs(o)>1e-7&&++a<12);return s})(t,0,1,e,r);return e=>0===e||1===e?e:tL(n(e),t,i)}let tO=tB(.42,0,1,1),tV=tB(0,0,.58,1),tD=tB(.42,0,.58,1),tq=e=>Array.isArray(e)&&"number"!=typeof e[0],tF=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,tW=e=>t=>1-e(1-t),t$=tB(.33,1.53,.69,.99),tI=tW(t$),tz=tF(tI),tU=e=>(e*=2)<1?.5*tI(e):.5*(2-Math.pow(2,-10*(e-1))),tN=e=>1-Math.sin(Math.acos(e)),tH=tW(tN),tY=tF(tN),tG=e=>Array.isArray(e)&&"number"==typeof e[0],tX={linear:m,easeIn:tO,easeInOut:tD,easeOut:tV,circIn:tN,circInOut:tY,circOut:tH,backIn:tI,backInOut:tz,backOut:t$,anticipate:tU},tK=e=>"string"==typeof e,tZ=e=>{if(tG(e)){k(4===e.length,"Cubic bezier arrays must contain four numerical values.");let[t,r,i,n]=e;return tB(t,r,i,n)}return tK(e)?(k(void 0!==tX[e],`Invalid easing type '${e}'`),tX[e]):e};function tQ({duration:e=300,keyframes:t,times:r,ease:i="easeInOut"}){let n=tq(i)?i.map(tZ):tZ(i),o={done:!1,value:t[0]},s=eG((r&&r.length===t.length?r:eX(t)).map(t=>t*e),t,{ease:Array.isArray(n)?n:t.map(()=>n||tD).splice(0,t.length-1)});return{calculatedDuration:e,next:t=>(o.value=s(t),o.done=t>=e,o)}}let tJ=e=>null!==e;function t0(e,{repeat:t,repeatType:r="loop"},i,n=1){let o=e.filter(tJ),s=n<0||t&&"loop"!==r&&t%2==1?0:o.length-1;return s&&void 0!==i?i:o[s]}let t1={decay:tM,inertia:tM,tween:tQ,keyframes:tQ,spring:tj};function t2(e){"string"==typeof e.type&&(e.type=t1[e.type])}class t3{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}let t5=e=>e/100;class t4 extends t3{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:e}=this.options;e&&e.updatedAt!==x.now()&&this.tick(x.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},t_.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){let{options:e}=this;t2(e);let{type:t=tQ,repeat:r=0,repeatDelay:i=0,repeatType:n,velocity:o=0}=e,{keyframes:s}=e,a=t||tQ;a!==tQ&&"number"!=typeof s[0]&&(this.mixKeyframes=K(t5,eY(s[0],s[1])),s=[0,100]);let l=a({...e,keyframes:s});"mirror"===n&&(this.mirroredGenerator=a({...e,keyframes:[...s].reverse(),velocity:-o})),null===l.calculatedDuration&&(l.calculatedDuration=tx(l));let{calculatedDuration:u}=l;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=l}updateTime(e){let t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){let{generator:r,totalDuration:i,mixKeyframes:n,mirroredGenerator:o,resolvedDuration:s,calculatedDuration:a}=this;if(null===this.startTime)return r.next(0);let{delay:l=0,keyframes:u,repeat:h,repeatType:c,repeatDelay:d,type:p,onUpdate:f,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);let y=this.currentTime-l*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?y<0:y>i;this.currentTime=Math.max(y,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=i);let b=this.currentTime,v=r;if(h){let e=Math.min(this.currentTime,i)/s,t=Math.floor(e),r=e%1;!r&&e>=1&&(r=1),1===r&&t--,(t=Math.min(t,h+1))%2&&("reverse"===c?(r=1-r,d&&(r-=d/s)):"mirror"===c&&(v=o)),b=Z(0,1,r)*s}let w=g?{done:!1,value:u[0]}:v.next(b);n&&(w.value=n(w.value));let{done:_}=w;g||null===a||(_=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);let S=null===this.holdTime&&("finished"===this.state||"running"===this.state&&_);return S&&p!==tM&&(w.value=t0(u,this.options,m,this.speed)),f&&f(w.value),S&&this.finish(),w}then(e,t){return this.finished.then(e,t)}get duration(){return tw(this.calculatedDuration)}get time(){return tw(this.currentTime)}set time(e){e=tv(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(x.now());let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=tw(this.currentTime))}play(){if(this.isStopped)return;let{driver:e=tS,startTime:t}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),this.options.onPlay?.();let r=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=r):null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(x.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,t_.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}let t7=e=>180*e/Math.PI,t9=e=>t8(t7(Math.atan2(e[1],e[0]))),t6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:t9,rotateZ:t9,skewX:e=>t7(Math.atan(e[1])),skewY:e=>t7(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},t8=e=>((e%=360)<0&&(e+=360),e),re=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),rt=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),rr={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:re,scaleY:rt,scale:e=>(re(e)+rt(e))/2,rotateX:e=>t8(t7(Math.atan2(e[6],e[5]))),rotateY:e=>t8(t7(Math.atan2(-e[2],e[0]))),rotateZ:t9,rotate:t9,skewX:e=>t7(Math.atan(e[4])),skewY:e=>t7(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function ri(e){return e.includes("scale")?1:0}function rn(e,t){let r,i;if(!e||"none"===e)return ri(t);let n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);if(n)r=rr,i=n;else{let t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=t6,i=t}if(!i)return ri(t);let o=r[t],s=i[1].split(",").map(rs);return"function"==typeof o?o(s):s[o]}let ro=(e,t)=>{let{transform:r="none"}=getComputedStyle(e);return rn(r,t)};function rs(e){return parseFloat(e.trim())}let ra=e=>e===ei||e===eb,rl=new Set(["x","y","z"]),ru=tc.filter(e=>!rl.has(e)),rh={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>rn(t,"x"),y:(e,{transform:t})=>rn(t,"y")};rh.translateX=rh.x,rh.translateY=rh.y;let rc=new Set,rd=!1,rp=!1,rf=!1;function rm(){if(rp){let e=Array.from(rc).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),r=new Map;t.forEach(e=>{let t=function(e){let t=[];return ru.forEach(r=>{let i=e.getValue(r);void 0!==i&&(t.push([r,i.get()]),i.set(r.startsWith("scale")?1:0))}),t}(e);t.length&&(r.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=r.get(e);t&&t.forEach(([t,r])=>{e.getValue(t)?.set(r)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}rp=!1,rd=!1,rc.forEach(e=>e.complete(rf)),rc.clear()}function ry(){rc.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(rp=!0)})}class rg{constructor(e,t,r,i,n,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=n,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(rc.add(this),rd||(rd=!0,v.read(ry),v.resolveKeyframes(rm))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;if(null===e[0]){let n=i?.get(),o=e[e.length-1];if(void 0!==n)e[0]=n;else if(r&&t){let i=r.readValue(t,o);null!=i&&(e[0]=i)}void 0===e[0]&&(e[0]=o),i&&void 0===n&&i.set(e[0])}!function(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),rc.delete(this)}cancel(){"scheduled"===this.state&&(rc.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}let rb=e=>e.startsWith("--"),rv={},rw=function(e,t){let r=M(e);return()=>rv[t]??r()}(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),r_=([e,t,r,i])=>`cubic-bezier(${e}, ${t}, ${r}, ${i})`,rS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:r_([0,.65,.55,1]),circOut:r_([.55,0,1,.45]),backIn:r_([.31,.01,.66,-.59]),backOut:r_([.33,1.53,.69,.99])};function rT(e){return"function"==typeof e&&"applyToOptions"in e}class rx extends t3{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;let{element:t,name:r,keyframes:i,pseudoElement:n,allowFlatten:o=!1,finalKeyframe:s,onComplete:a}=e;this.isPseudoElement=!!n,this.allowFlatten=o,this.options=e,k("string"!=typeof e.type,'animateMini doesn\'t support "type" as a string. Did you mean to import { spring } from "motion"?');let l=function({type:e,...t}){return rT(e)&&rw()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=function(e,t,r,{delay:i=0,duration:n=300,repeat:o=0,repeatType:s="loop",ease:a="easeOut",times:l}={},u){let h={[t]:r};l&&(h.offset=l);let c=function e(t,r){if(t)return"function"==typeof t?rw()?tT(t,r):"ease-out":tG(t)?r_(t):Array.isArray(t)?t.map(t=>e(t,r)||rS.easeOut):rS[t]}(a,n);Array.isArray(c)&&(h.easing=c),g.value&&t_.waapi++;let d={delay:i,duration:n,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:o+1,direction:"reverse"===s?"alternate":"normal"};u&&(d.pseudoElement=u);let p=e.animate(h,d);return g.value&&p.finished.finally(()=>{t_.waapi--}),p}(t,r,i,l,n),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!n){let e=t0(i,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,r){rb(t)?e.style.setProperty(t,r):e.style[t]=r}(t,r,e),this.animation.cancel()}a?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){return tw(Number(this.animation.effect?.getComputedTiming?.().duration||0))}get time(){return tw(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=tv(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return(this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&L())?(this.animation.timeline=e,m):t(this)}}let rP={anticipate:tU,backInOut:tz,circInOut:tY};class rE extends rx{constructor(e){(function(e){"string"==typeof e.ease&&e.ease in rP&&(e.ease=rP[e.ease])})(e),t2(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){let{motionValue:t,onUpdate:r,onComplete:i,element:n,...o}=this.options;if(!t)return;if(void 0!==e){t.set(e);return}let s=new t4({...o,autoplay:!1}),a=tv(this.finishedTime??this.time);t.setWithVelocity(s.sample(a-10).value,s.sample(a).value,10),s.stop()}}let rR=(e,t)=>"zIndex"!==t&&!!("number"==typeof e||Array.isArray(e)||"string"==typeof e&&(eM.test(e)||"0"===e)&&!e.startsWith("url(")),rA=new Set(["opacity","clipPath","filter","transform"]),rC=M(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class rk extends t3{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:n=0,repeatType:o="loop",keyframes:s,name:a,motionValue:l,element:u,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=x.now();let c={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:n,repeatType:o,name:a,motionValue:l,element:u,...h},d=u?.KeyframeResolver||rg;this.keyframeResolver=new d(s,(e,t,r)=>this.onKeyframesResolved(e,t,c,!r),a,l,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,r,i){this.keyframeResolver=void 0;let{name:n,type:o,velocity:s,delay:a,isHandoff:l,onUpdate:u}=r;this.resolvedAt=x.now(),!function(e,t,r,i){let n=e[0];if(null===n)return!1;if("display"===t||"visibility"===t)return!0;let o=e[e.length-1],s=rR(n,t),a=rR(o,t);return C(s===a,`You are trying to animate ${t} from "${n}" to "${o}". ${n} is not an animatable value - to enable this animation set ${n} to a value animatable to ${o} via the \`style\` property.`),!!s&&!!a&&(function(e){let t=e[0];if(1===e.length)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}(e)||("spring"===r||rT(r))&&i)}(e,n,o,s)&&((f.instantAnimations||!a)&&u?.(t0(e,r,t)),e[0]=e[e.length-1],r.duration=0,r.repeat=0);let h={startTime:i?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},c=!l&&function(e){let{motionValue:t,name:r,repeatDelay:i,repeatType:n,damping:o,type:s}=e;if(!eK(t?.owner?.current))return!1;let{onUpdate:a,transformTemplate:l}=t.owner.getProps();return rC()&&r&&rA.has(r)&&("transform"!==r||!l)&&!a&&!i&&"mirror"!==n&&0!==o&&"inertia"!==s}(h)?new rE({...h,element:h.motionValue.owner.current}):new t4(h);c.finished.then(()=>this.notifyFinished()).catch(m),this.pendingTimeline&&(this.stopTimeline=c.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=c}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),rf=!0,ry(),rm(),rf=!1),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}let rj=e=>null!==e,rM={type:"spring",stiffness:500,damping:25,restSpeed:10},rL=e=>({type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}),rB={type:"keyframes",duration:.8},rO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},rV=(e,{keyframes:t})=>t.length>2?rB:td.has(e)?e.startsWith("scale")?rL(t[1]):rM:rO,rD=(e,t,r,i={},n,o)=>s=>{let a=th(i,e)||{},l=a.delay||i.delay||0,{elapsed:u=0}=i;u-=tv(l);let h={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:e=>{t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:n};!function({when:e,delay:t,delayChildren:r,staggerChildren:i,staggerDirection:n,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:u,...h}){return!!Object.keys(h).length}(a)&&Object.assign(h,rV(e,h)),h.duration&&(h.duration=tv(h.duration)),h.repeatDelay&&(h.repeatDelay=tv(h.repeatDelay)),void 0!==h.from&&(h.keyframes[0]=h.from);let c=!1;if(!1!==h.type&&(0!==h.duration||h.repeatDelay)||(h.duration=0,0!==h.delay||(c=!0)),(f.instantAnimations||f.skipAnimations)&&(c=!0,h.duration=0,h.delay=0),h.allowFlatten=!a.type&&!a.ease,c&&!o&&void 0!==t.get()){let e=function(e,{repeat:t,repeatType:r="loop"},i){let n=e.filter(rj),o=t&&"loop"!==r&&t%2==1?0:n.length-1;return n[o]}(h.keyframes,a);if(void 0!==e){v.update(()=>{h.onUpdate(e),h.onComplete()});return}}return a.isSync?new t4(h):new rk(h)};function rq(e,t,{delay:r=0,transitionOverride:i,type:n}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:s,...a}=t;i&&(o=i);let l=[],u=n&&e.animationState&&e.animationState.getState()[n];for(let t in a){let i=e.getValue(t,e.latestValues[t]??null),n=a[t];if(void 0===n||u&&function({protectedKeys:e,needsAnimating:t},r){let i=e.hasOwnProperty(r)&&!0!==t[r];return t[r]=!1,i}(u,t))continue;let s={delay:r,...th(o||{},t)},h=i.get();if(void 0!==h&&!i.isAnimating&&!Array.isArray(n)&&n===h&&!s.velocity)continue;let c=!1;if(window.MotionHandoffAnimation){let r=e.props[tb];if(r){let e=window.MotionHandoffAnimation(r,t,v);null!==e&&(s.startTime=e,c=!0)}}ty(e,t),i.start(rD(t,i,n,e.shouldReduceMotion&&tp.has(t)?{type:!1}:s,e,c));let d=i.animation;d&&l.push(d)}return s&&Promise.all(l).then(()=>{v.update(()=>{s&&function(e,t){let{transitionEnd:r={},transition:i={},...n}=tu(e,t)||{};for(let t in n={...n,...r}){var o;let r=tf(o=n[t])?o[o.length-1]||0:o;e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,A(r))}}(e,s)})}),l}function rF(e,t,r={}){let i=tu(e,t,"exit"===r.type?e.presenceContext?.custom:void 0),{transition:n=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(n=r.transitionOverride);let o=i?()=>Promise.all(rq(e,i,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(i=0)=>{let{delayChildren:o=0,staggerChildren:s,staggerDirection:a}=n;return function(e,t,r=0,i=0,n=1,o){let s=[],a=(e.variantChildren.size-1)*i,l=1===n?(e=0)=>e*i:(e=0)=>a-e*i;return Array.from(e.variantChildren).sort(rW).forEach((e,i)=>{e.notify("AnimationStart",t),s.push(rF(e,t,{...o,delay:r+l(i)}).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(s)}(e,t,o+i,s,a,r)}:()=>Promise.resolve(),{when:a}=n;if(!a)return Promise.all([o(),s(r.delay)]);{let[e,t]="beforeChildren"===a?[o,s]:[s,o];return e().then(()=>t())}}function rW(e,t){return e.sortNodePosition(t)}function r$(e,t){if(!Array.isArray(t))return!1;let r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(t[i]!==e[i])return!1;return!0}function rI(e){return"string"==typeof e||Array.isArray(e)}let rz=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],rU=["initial",...rz],rN=rU.length,rH=[...rz].reverse(),rY=rz.length;function rG(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rX(){return{animate:rG(!0),whileInView:rG(),whileHover:rG(),whileTap:rG(),whileDrag:rG(),whileFocus:rG(),exit:rG()}}class rK{constructor(e){this.isMounted=!1,this.node=e}update(){}}class rZ extends rK{constructor(e){super(e),e.animationState||(e.animationState=function(e){let t=t=>Promise.all(t.map(({animation:t,options:r})=>(function(e,t,r={}){let i;if(e.notify("AnimationStart",t),Array.isArray(t))i=Promise.all(t.map(t=>rF(e,t,r)));else if("string"==typeof t)i=rF(e,t,r);else{let n="function"==typeof t?tu(e,t,r.custom):t;i=Promise.all(rq(e,n,r))}return i.then(()=>{e.notify("AnimationComplete",t)})})(e,t,r))),r=rX(),i=!0,n=t=>(r,i)=>{let n=tu(e,i,"exit"===t?e.presenceContext?.custom:void 0);if(n){let{transition:e,transitionEnd:t,...i}=n;r={...r,...i,...t}}return r};function o(o){let{props:s}=e,a=function e(t){if(!t)return;if(!t.isControllingVariants){let r=t.parent&&e(t.parent)||{};return void 0!==t.props.initial&&(r.initial=t.props.initial),r}let r={};for(let e=0;e<rN;e++){let i=rU[e],n=t.props[i];(rI(n)||!1===n)&&(r[i]=n)}return r}(e.parent)||{},l=[],u=new Set,h={},c=1/0;for(let t=0;t<rY;t++){var d;let p=rH[t],f=r[p],m=void 0!==s[p]?s[p]:a[p],y=rI(m),g=p===o?f.isActive:null;!1===g&&(c=t);let b=m===a[p]&&m!==s[p]&&y;if(b&&i&&e.manuallyAnimateOnMount&&(b=!1),f.protectedKeys={...h},!f.isActive&&null===g||!m&&!f.prevProp||ta(m)||"boolean"==typeof m)continue;let v=(d=f.prevProp,"string"==typeof m?m!==d:!!Array.isArray(m)&&!r$(m,d)),w=v||p===o&&f.isActive&&!b&&y||t>c&&y,_=!1,S=Array.isArray(m)?m:[m],T=S.reduce(n(p),{});!1===g&&(T={});let{prevResolvedValues:x={}}=f,P={...x,...T},E=t=>{w=!0,u.has(t)&&(_=!0,u.delete(t)),f.needsAnimating[t]=!0;let r=e.getValue(t);r&&(r.liveStyle=!1)};for(let e in P){let t=T[e],r=x[e];if(!h.hasOwnProperty(e))(tf(t)&&tf(r)?r$(t,r):t===r)?void 0!==t&&u.has(e)?E(e):f.protectedKeys[e]=!0:null!=t?E(e):u.add(e)}f.prevProp=m,f.prevResolvedValues=T,f.isActive&&(h={...h,...T}),i&&e.blockInitialAnimation&&(w=!1);let R=!(b&&v)||_;w&&R&&l.push(...S.map(e=>({animation:e,options:{type:p}})))}if(u.size){let t={};if("boolean"!=typeof s.initial){let r=tu(e,Array.isArray(s.initial)?s.initial[0]:s.initial);r&&r.transition&&(t.transition=r.transition)}u.forEach(r=>{let i=e.getBaseTarget(r),n=e.getValue(r);n&&(n.liveStyle=!0),t[r]=i??null}),l.push({animation:t})}let p=!!l.length;return i&&(!1===s.initial||s.initial===s.animate)&&!e.manuallyAnimateOnMount&&(p=!1),i=!1,p?t(l):Promise.resolve()}return{animateChanges:o,setActive:function(t,i){if(r[t].isActive===i)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,i)),r[t].isActive=i;let n=o(t);for(let e in r)r[e].protectedKeys={};return n},setAnimateFunction:function(r){t=r(e)},getState:()=>r,reset:()=>{r=rX(),i=!0}}}(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();ta(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let rQ=0;class rJ extends rK{constructor(){super(...arguments),this.id=rQ++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;let i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){let{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}let r0={x:!1,y:!1};function r1(e,t,r,i={passive:!0}){return e.addEventListener(t,r,i),()=>e.removeEventListener(t,r)}let r2=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function r3(e){return{point:{x:e.pageX,y:e.pageY}}}let r5=e=>t=>r2(t)&&e(t,r3(t));function r4(e,t,r,i){return r1(e,t,r5(r),i)}function r7({top:e,left:t,right:r,bottom:i}){return{x:{min:t,max:r},y:{min:e,max:i}}}function r9(e){return e.max-e.min}function r6(e,t,r,i=.5){e.origin=i,e.originPoint=eO(t.min,t.max,e.origin),e.scale=r9(r)/r9(t),e.translate=eO(r.min,r.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function r8(e,t,r,i){r6(e.x,t.x,r.x,i?i.originX:void 0),r6(e.y,t.y,r.y,i?i.originY:void 0)}function ie(e,t,r){e.min=r.min+t.min,e.max=e.min+r9(t)}function it(e,t,r){e.min=t.min-r.min,e.max=e.min+r9(t)}function ir(e,t,r){it(e.x,t.x,r.x),it(e.y,t.y,r.y)}let ii=()=>({translate:0,scale:1,origin:0,originPoint:0}),io=()=>({x:ii(),y:ii()}),is=()=>({min:0,max:0}),ia=()=>({x:is(),y:is()});function il(e){return[e("x"),e("y")]}function iu(e){return void 0===e||1===e}function ih({scale:e,scaleX:t,scaleY:r}){return!iu(e)||!iu(t)||!iu(r)}function ic(e){return ih(e)||id(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function id(e){var t,r;return(t=e.x)&&"0%"!==t||(r=e.y)&&"0%"!==r}function ip(e,t,r,i,n){return void 0!==n&&(e=i+n*(e-i)),i+r*(e-i)+t}function im(e,t=0,r=1,i,n){e.min=ip(e.min,t,r,i,n),e.max=ip(e.max,t,r,i,n)}function iy(e,{x:t,y:r}){im(e.x,t.translate,t.scale,t.originPoint),im(e.y,r.translate,r.scale,r.originPoint)}function ig(e,t){e.min=e.min+t,e.max=e.max+t}function ib(e,t,r,i,n=.5){let o=eO(e.min,e.max,n);im(e,t,r,o,i)}function iv(e,t){ib(e.x,t.x,t.scaleX,t.scale,t.originX),ib(e.y,t.y,t.scaleY,t.scale,t.originY)}function iw(e,t){return r7(function(e,t){if(!t)return e;let r=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}(e.getBoundingClientRect(),t))}let i_=({current:e})=>e?e.ownerDocument.defaultView:null;function iS(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}let iT=(e,t)=>Math.abs(e-t);class ix{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:n=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let e=iR(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,r=function(e,t){return Math.sqrt(iT(e.x,t.x)**2+iT(e.y,t.y)**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!r)return;let{point:i}=e,{timestamp:n}=_;this.history.push({...i,timestamp:n});let{onStart:o,onMove:s}=this.handlers;t||(o&&o(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=iP(t,this.transformPagePoint),v.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:r,onSessionEnd:i,resumeAnimation:n}=this.handlers;if(this.dragSnapToOrigin&&n&&n(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let o=iR("pointercancel"===e.type?this.lastMoveEventInfo:iP(t,this.transformPagePoint),this.history);this.startEvent&&r&&r(e,o),i&&i(e,o)},!r2(e))return;this.dragSnapToOrigin=n,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;let o=iP(r3(e),this.transformPagePoint),{point:s}=o,{timestamp:a}=_;this.history=[{...s,timestamp:a}];let{onSessionStart:l}=t;l&&l(e,iR(o,this.history)),this.removeListeners=K(r4(this.contextWindow,"pointermove",this.handlePointerMove),r4(this.contextWindow,"pointerup",this.handlePointerUp),r4(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),w(this.updatePoint)}}function iP(e,t){return t?{point:t(e.point)}:e}function iE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function iR({point:e},t){return{point:e,delta:iE(e,iA(t)),offset:iE(e,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,i=null,n=iA(e);for(;r>=0&&(i=e[r],!(n.timestamp-i.timestamp>tv(.1)));)r--;if(!i)return{x:0,y:0};let o=tw(n.timestamp-i.timestamp);if(0===o)return{x:0,y:0};let s={x:(n.x-i.x)/o,y:(n.y-i.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}(t,0)}}function iA(e){return e[e.length-1]}function iC(e,t,r){return{min:void 0!==t?e.min+t:void 0,max:void 0!==r?e.max+r-(e.max-e.min):void 0}}function ik(e,t){let r=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,i]=[i,r]),{min:r,max:i}}function ij(e,t,r){return{min:iM(e,t),max:iM(e,r)}}function iM(e,t){return"number"==typeof e?e:e[t]||0}let iL=new WeakMap;class iB{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ia(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){let{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;let{dragSnapToOrigin:i}=this.getProps();this.panSession=new ix(e,{onSessionStart:e=>{let{dragSnapToOrigin:r}=this.getProps();r?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(r3(e).point)},onStart:(e,t)=>{let{drag:r,dragPropagation:i,onDragStart:n}=this.getProps();if(r&&!i&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===r||"y"===r?r0[r]?null:(r0[r]=!0,()=>{r0[r]=!1}):r0.x||r0.y?null:(r0.x=r0.y=!0,()=>{r0.x=r0.y=!1}),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),il(e=>{let t=this.getAxisMotionValue(e).get()||0;if(eg.test(t)){let{projection:r}=this.visualElement;if(r&&r.layout){let i=r.layout.layoutBox[e];i&&(t=r9(i)*(parseFloat(t)/100))}}this.originPoint[e]=t}),n&&v.postRender(()=>n(e,t)),ty(this.visualElement,"transform");let{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{let{dragPropagation:r,dragDirectionLock:i,onDirectionLock:n,onDrag:o}=this.getProps();if(!r&&!this.openDragLock)return;let{offset:s}=t;if(i&&null===this.currentDirection){this.currentDirection=function(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}(s),null!==this.currentDirection&&n&&n(this.currentDirection);return}this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),o&&o(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>il(e=>"paused"===this.getAnimationState(e)&&this.getAxisMotionValue(e).animation?.play())},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:i,contextWindow:i_(this.visualElement)})}stop(e,t){let r=this.isDragging;if(this.cancel(),!r)return;let{velocity:i}=t;this.startAnimation(i);let{onDragEnd:n}=this.getProps();n&&v.postRender(()=>n(e,t))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){let{drag:i}=this.getProps();if(!r||!iO(e,i,this.currentDirection))return;let n=this.getAxisMotionValue(e),o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=function(e,{min:t,max:r},i){return void 0!==t&&e<t?e=i?eO(t,e,i.min):Math.max(e,t):void 0!==r&&e>r&&(e=i?eO(r,e,i.max):Math.min(e,r)),e}(o,this.constraints[e],this.elastic[e])),n.set(o)}resolveConstraints(){let{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&iS(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=function(e,{top:t,left:r,bottom:i,right:n}){return{x:iC(e.x,r,n),y:iC(e.y,t,i)}}(r.layoutBox,e):this.constraints=!1,this.elastic=function(e=.35){return!1===e?e=0:!0===e&&(e=.35),{x:ij(e,"left","right"),y:ij(e,"top","bottom")}}(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&il(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){let r={};return void 0!==t.min&&(r.min=t.min-e.min),void 0!==t.max&&(r.max=t.max-e.min),r}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){var e;let{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!iS(t))return!1;let i=t.current;k(null!==i,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:n}=this.visualElement;if(!n||!n.layout)return!1;let o=function(e,t,r){let i=iw(e,r),{scroll:n}=t;return n&&(ig(i.x,n.offset.x),ig(i.y,n.offset.y)),i}(i,n.root,this.visualElement.getTransformPagePoint()),s={x:ik((e=n.layout.layoutBox).x,o.x),y:ik(e.y,o.y)};if(r){let e=r(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=r7(e))}return s}startAnimation(e){let{drag:t,dragMomentum:r,dragElastic:i,dragTransition:n,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),a=this.constraints||{};return Promise.all(il(s=>{if(!iO(s,t,this.currentDirection))return;let l=a&&a[s]||{};o&&(l={min:0,max:0});let u={type:"inertia",velocity:r?e[s]:0,bounceStiffness:i?200:1e6,bounceDamping:i?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...n,...l};return this.startAxisValueAnimation(s,u)})).then(s)}startAxisValueAnimation(e,t){let r=this.getAxisMotionValue(e);return ty(this.visualElement,e),r.start(rD(e,r,0,t,this.visualElement,!1))}stopAnimation(){il(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){il(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps();return r[t]||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){il(t=>{let{drag:r}=this.getProps();if(!iO(t,r,this.currentDirection))return;let{projection:i}=this.visualElement,n=this.getAxisMotionValue(t);if(i&&i.layout){let{min:r,max:o}=i.layout.layoutBox[t];n.set(e[t]-eO(r,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!iS(t)||!r||!this.constraints)return;this.stopAnimation();let i={x:0,y:0};il(e=>{let t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){let r=t.get();i[e]=function(e,t){let r=.5,i=r9(e),n=r9(t);return n>i?r=U(t.min,t.max-i,e.min):i>n&&(r=U(e.min,e.max-n,t.min)),Z(0,1,r)}({min:r,max:r},this.constraints[e])}});let{transformTemplate:n}=this.visualElement.getProps();this.visualElement.current.style.transform=n?n({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),il(t=>{if(!iO(t,e,null))return;let r=this.getAxisMotionValue(t),{min:n,max:o}=this.constraints[t];r.set(eO(n,o,i[t]))})}addListeners(){if(!this.visualElement.current)return;iL.set(this.visualElement,this);let e=r4(this.visualElement.current,"pointerdown",e=>{let{drag:t,dragListener:r=!0}=this.getProps();t&&r&&this.start(e)}),t=()=>{let{dragConstraints:e}=this.getProps();iS(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",t);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),v.read(t);let n=r1(window,"resize",()=>this.scalePositionWithinConstraints()),o=r.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(il(t=>{let r=this.getAxisMotionValue(t);r&&(this.originPoint[t]+=e[t].translate,r.set(r.get()+e[t].translate))}),this.visualElement.render())});return()=>{n(),e(),i(),o&&o()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:n=!1,dragElastic:o=.35,dragMomentum:s=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:n,dragElastic:o,dragMomentum:s}}}function iO(e,t,r){return(!0===t||t===e)&&(null===r||r===e)}class iV extends rK{constructor(e){super(e),this.removeGroupControls=m,this.removeListeners=m,this.controls=new iB(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||m}unmount(){this.removeGroupControls(),this.removeListeners()}}let iD=e=>(t,r)=>{e&&v.postRender(()=>e(t,r))};class iq extends rK{constructor(){super(...arguments),this.removePointerDownListener=m}onPointerDown(e){this.session=new ix(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:i_(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:iD(e),onStart:iD(t),onMove:r,onEnd:(e,t)=>{delete this.session,i&&v.postRender(()=>i(e,t))}}}mount(){this.removePointerDownListener=r4(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let{schedule:iF}=b(queueMicrotask,!1),iW=(0,u.createContext)(null),i$=(0,u.createContext)({}),iI=(0,u.createContext)({}),iz={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function iU(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}let iN={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!eb.test(e))return e;e=parseFloat(e)}let r=iU(e,t.target.x),i=iU(e,t.target.y);return`${r}% ${i}%`}},iH={};class iY extends u.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:n}=e;(function(e){for(let t in e)iH[t]=e[t],J(t)&&(iH[t].isCSSVariable=!0)})(iX),n&&(t.group&&t.group.add(n),r&&r.register&&i&&r.register(n),n.root.didUpdate(),n.addEventListener("animationComplete",()=>{this.safeToRemove()}),n.setOptions({...n.options,onExitComplete:()=>this.safeToRemove()})),iz.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:r,drag:i,isPresent:n}=this.props,{projection:o}=r;return o&&(o.isPresent=n,i||e.layoutDependency!==t||void 0===t||e.isPresent!==n?o.willUpdate():this.safeToRemove(),e.isPresent===n||(n?o.promote():o.relegate()||v.postRender(()=>{let e=o.getStack();e&&e.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),iF.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}}function iG(e){let[t,r]=function(e=!0){let t=(0,u.useContext)(iW);if(null===t)return[!0,null];let{isPresent:r,onExitComplete:i,register:n}=t,o=(0,u.useId)();(0,u.useEffect)(()=>{if(e)return n(o)},[e]);let s=(0,u.useCallback)(()=>e&&i&&i(o),[o,i,e]);return!r&&i?[!1,s]:[!0]}(),i=(0,u.useContext)(i$);return(0,l.jsx)(iY,{...e,layoutGroup:i,switchLayoutGroup:(0,u.useContext)(iI),isPresent:t,safeToRemove:r})}let iX={borderRadius:{...iN,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:iN,borderTopRightRadius:iN,borderBottomLeftRadius:iN,borderBottomRightRadius:iN,boxShadow:{correct:(e,{treeScale:t,projectionDelta:r})=>{let i=eM.parse(e);if(i.length>5)return e;let n=eM.createTransformer(e),o="number"!=typeof i[0]?1:0,s=r.x.scale*t.x,a=r.y.scale*t.y;i[0+o]/=s,i[1+o]/=a;let l=eO(s,a,.5);return"number"==typeof i[2+o]&&(i[2+o]/=l),"number"==typeof i[3+o]&&(i[3+o]/=l),n(i)}}},iK=(e,t)=>e.depth-t.depth;class iZ{constructor(){this.children=[],this.isDirty=!1}add(e){h(this.children,e),this.isDirty=!0}remove(e){c(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(iK),this.isDirty=!1,this.children.forEach(e)}}function iQ(e){return tm(e)?e.get():e}let iJ=["TopLeft","TopRight","BottomLeft","BottomRight"],i0=iJ.length,i1=e=>"string"==typeof e?parseFloat(e):e,i2=e=>"number"==typeof e||eb.test(e);function i3(e,t){return void 0!==e[t]?e[t]:e.borderRadius}let i5=i7(0,.5,tH),i4=i7(.5,.95,m);function i7(e,t,r){return i=>i<e?0:i>t?1:r(U(e,t,i))}function i9(e,t){e.min=t.min,e.max=t.max}function i6(e,t){i9(e.x,t.x),i9(e.y,t.y)}function i8(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function ne(e,t,r,i,n){return e-=t,e=i+1/r*(e-i),void 0!==n&&(e=i+1/n*(e-i)),e}function nt(e,t,[r,i,n],o,s){!function(e,t=0,r=1,i=.5,n,o=e,s=e){if(eg.test(t)&&(t=parseFloat(t),t=eO(s.min,s.max,t/100)-s.min),"number"!=typeof t)return;let a=eO(o.min,o.max,i);e===o&&(a-=t),e.min=ne(e.min,t,r,a,n),e.max=ne(e.max,t,r,a,n)}(e,t[r],t[i],t[n],t.scale,o,s)}let nr=["x","scaleX","originX"],ni=["y","scaleY","originY"];function nn(e,t,r,i){nt(e.x,t,nr,r?r.x:void 0,i?i.x:void 0),nt(e.y,t,ni,r?r.y:void 0,i?i.y:void 0)}function no(e){return 0===e.translate&&1===e.scale}function ns(e){return no(e.x)&&no(e.y)}function na(e,t){return e.min===t.min&&e.max===t.max}function nl(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function nu(e,t){return nl(e.x,t.x)&&nl(e.y,t.y)}function nh(e){return r9(e.x)/r9(e.y)}function nc(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class nd{constructor(){this.members=[]}add(e){h(this.members,e),e.scheduleRender()}remove(e){if(c(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t;let r=this.members.findIndex(t=>e===t);if(0===r)return!1;for(let e=r;e>=0;e--){let r=this.members[e];if(!1!==r.isPresent){t=r;break}}return!!t&&(this.promote(t),!0)}promote(e,t){let r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);let{crossfade:i}=e.options;!1===i&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let np={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},nf=["","X","Y","Z"],nm={visibility:"hidden"},ny=0;function ng(e,t,r,i){let{latestValues:n}=t;n[e]&&(r[e]=n[e],t.setStaticValue(e,0),i&&(i[e]=0))}function nb({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:i,resetTransform:n}){return class{constructor(e={},r=t?.()){this.id=ny++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,g.value&&(np.nodes=np.calculatedTargetDeltas=np.calculatedProjections=0),this.nodes.forEach(n_),this.nodes.forEach(nA),this.nodes.forEach(nC),this.nodes.forEach(nS),g.addProjectionMetrics&&g.addProjectionMetrics(np)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=r?r.root||r:this,this.path=r?[...r.path,r]:[],this.parent=r,this.depth=r?r.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new iZ)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new d),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let r=this.eventHandlers.get(e);r&&r.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;this.isSVG=O(t)&&!(O(t)&&"svg"===t.tagName),this.instance=t;let{layoutId:r,layout:i,visualElement:n}=this.options;if(n&&!n.current&&n.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(i||r)&&(this.isLayoutDirty=!0),e){let r;let i=()=>this.root.updateBlockedByResize=!1;e(t,()=>{this.root.updateBlockedByResize=!0,r&&r(),r=function(e,t){let r=x.now(),i=({timestamp:t})=>{let n=t-r;n>=250&&(w(i),e(n-250))};return v.setup(i,!0),()=>w(i)}(i,250),iz.hasAnimatedSinceResize&&(iz.hasAnimatedSinceResize=!1,this.nodes.forEach(nR))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&n&&(r||i)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:r,layout:i})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let o=this.options.transition||n.getDefaultTransition()||nO,{onLayoutAnimationStart:s,onLayoutAnimationComplete:a}=n.getProps(),l=!this.targetLayout||!nu(this.targetLayout,i),u=!t&&r;if(this.options.layoutRoot||this.resumeFrom||u||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let t={...th(o,"layout"),onPlay:s,onComplete:a};(n.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,u)}else t||nR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),w(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nk),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function e(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;let{visualElement:r}=t.options;if(!r)return;let i=r.props[tb];if(window.MotionHasOptimisedAnimation(i,"transform")){let{layout:e,layoutId:r}=t.options;window.MotionCancelOptimisedAnimation(i,"transform",v,!(e||r))}let{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&e(n)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:r}=this.options;if(void 0===t&&!r)return;let i=this.getTransformTemplate();this.prevTransformTemplateValue=i?i(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(nx);return}this.isUpdating||this.nodes.forEach(nP),this.isUpdating=!1,this.nodes.forEach(nE),this.nodes.forEach(nv),this.nodes.forEach(nw),this.clearAllSnapshots();let e=x.now();_.delta=Z(0,1e3/60,e-_.timestamp),_.timestamp=e,_.isProcessing=!0,S.update.process(_),S.preRender.process(_),S.render.process(_),_.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,iF.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nT),this.sharedNodes.forEach(nj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,v.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){v.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),!this.snapshot||r9(this.snapshot.measuredBox.x)||r9(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ia(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){let t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!n)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!ns(this.projectionDelta),r=this.getTransformTemplate(),i=r?r(this.latestValues,""):void 0,o=i!==this.prevTransformTemplateValue;e&&this.instance&&(t||ic(this.latestValues)||o)&&(n(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){var t;let r=this.measurePageBox(),i=this.removeElementScroll(r);return e&&(i=this.removeTransform(i)),nq((t=i).x),nq(t.y),{animationId:this.root.animationId,measuredBox:r,layoutBox:i,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:e}=this.options;if(!e)return ia();let t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(nW))){let{scroll:e}=this.root;e&&(ig(t.x,e.offset.x),ig(t.y,e.offset.y))}return t}removeElementScroll(e){let t=ia();if(i6(t,e),this.scroll?.wasRoot)return t;for(let r=0;r<this.path.length;r++){let i=this.path[r],{scroll:n,options:o}=i;i!==this.root&&n&&o.layoutScroll&&(n.wasRoot&&i6(t,e),ig(t.x,n.offset.x),ig(t.y,n.offset.y))}return t}applyTransform(e,t=!1){let r=ia();i6(r,e);for(let e=0;e<this.path.length;e++){let i=this.path[e];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&iv(r,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),ic(i.latestValues)&&iv(r,i.latestValues)}return ic(this.latestValues)&&iv(r,this.latestValues),r}removeTransform(e){let t=ia();i6(t,e);for(let e=0;e<this.path.length;e++){let r=this.path[e];if(!r.instance||!ic(r.latestValues))continue;ih(r.latestValues)&&r.updateSnapshot();let i=ia();i6(i,r.measurePageBox()),nn(t,r.latestValues,r.snapshot?r.snapshot.layoutBox:void 0,i)}return ic(this.latestValues)&&nn(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){let t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);let r=!!this.resumingFrom||this!==t;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:i,layoutId:n}=this.options;if(this.layout&&(i||n)){if(this.resolvedRelativeTargetAt=_.timestamp,!this.targetDelta&&!this.relativeTarget){let e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ia(),this.relativeTargetOrigin=ia(),ir(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),i6(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if(this.target||(this.target=ia(),this.targetWithTransforms=ia()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target){var o,s,a;this.forceRelativeParentToResolveTarget(),o=this.target,s=this.relativeTarget,a=this.relativeParent.target,ie(o.x,s.x,a.x),ie(o.y,s.y,a.y)}else this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):i6(this.target,this.layout.layoutBox),iy(this.target,this.targetDelta)):i6(this.target,this.layout.layoutBox);if(this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let e=this.getClosestProjectingParent();e&&!!e.resumingFrom==!!this.resumingFrom&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ia(),this.relativeTargetOrigin=ia(),ir(this.relativeTargetOrigin,this.target,e.target),i6(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}g.value&&np.calculatedTargetDeltas++}}}getClosestProjectingParent(){return!this.parent||ih(this.parent.latestValues)||id(this.parent.latestValues)?void 0:this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){let e=this.getLead(),t=!!this.resumingFrom||this!==e,r=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(r=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===_.timestamp&&(r=!1),r)return;let{layout:i,layoutId:n}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(i||n))return;i6(this.layoutCorrected,this.layout.layoutBox);let o=this.treeScale.x,s=this.treeScale.y;(function(e,t,r,i=!1){let n,o;let s=r.length;if(s){t.x=t.y=1;for(let a=0;a<s;a++){o=(n=r[a]).projectionDelta;let{visualElement:s}=n.options;(!s||!s.props.style||"contents"!==s.props.style.display)&&(i&&n.options.layoutScroll&&n.scroll&&n!==n.root&&iv(e,{x:-n.scroll.offset.x,y:-n.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,iy(e,o)),i&&ic(n.latestValues)&&iv(e,n.latestValues))}t.x<1.0000000000001&&t.x>.999999999999&&(t.x=1),t.y<1.0000000000001&&t.y>.999999999999&&(t.y=1)}})(this.layoutCorrected,this.treeScale,this.path,t),e.layout&&!e.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=ia());let{target:a}=e;if(!a){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(i8(this.prevProjectionDelta.x,this.projectionDelta.x),i8(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),r8(this.projectionDelta,this.layoutCorrected,a,this.latestValues),this.treeScale.x===o&&this.treeScale.y===s&&nc(this.projectionDelta.x,this.prevProjectionDelta.x)&&nc(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",a)),g.value&&np.calculatedProjections++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=io(),this.projectionDelta=io(),this.projectionDeltaWithTransform=io()}setAnimationOrigin(e,t=!1){let r;let i=this.snapshot,n=i?i.latestValues:{},o={...this.latestValues},s=io();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let a=ia(),l=(i?i.source:void 0)!==(this.layout?this.layout.source:void 0),u=this.getStack(),h=!u||u.members.length<=1,c=!!(l&&!h&&!0===this.options.crossfade&&!this.path.some(nB));this.animationProgress=0,this.mixTargetDelta=t=>{let i=t/1e3;if(nM(s.x,e.x,i),nM(s.y,e.y,i),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var u,d,p,f;ir(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,f=this.relativeTargetOrigin,nL(p.x,f.x,a.x,i),nL(p.y,f.y,a.y,i),r&&(u=this.relativeTarget,d=r,na(u.x,d.x)&&na(u.y,d.y))&&(this.isProjectionDirty=!1),r||(r=ia()),i6(r,this.relativeTarget)}l&&(this.animationValues=o,function(e,t,r,i,n,o){n?(e.opacity=eO(0,r.opacity??1,i5(i)),e.opacityExit=eO(t.opacity??1,0,i4(i))):o&&(e.opacity=eO(t.opacity??1,r.opacity??1,i));for(let n=0;n<i0;n++){let o=`border${iJ[n]}Radius`,s=i3(t,o),a=i3(r,o);(void 0!==s||void 0!==a)&&(s||(s=0),a||(a=0),0===s||0===a||i2(s)===i2(a)?(e[o]=Math.max(eO(i1(s),i1(a),i),0),(eg.test(a)||eg.test(s))&&(e[o]+="%")):e[o]=a)}(t.rotate||r.rotate)&&(e.rotate=eO(t.rotate||0,r.rotate||0,i))}(o,n,this.latestValues,i,c,h)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=i},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(w(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=v.update(()=>{iz.hasAnimatedSinceResize=!0,t_.layout++,this.motionValue||(this.motionValue=A(0)),this.currentAnimation=function(e,t,r){let i=tm(e)?e:A(e);return i.start(rD("",i,t,r)),i.animation}(this.motionValue,[0,1e3],{...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{t_.layout--},onComplete:()=>{t_.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:r,layout:i,latestValues:n}=e;if(t&&r&&i){if(this!==e&&this.layout&&i&&nF(this.options.animationType,this.layout.layoutBox,i.layoutBox)){r=this.target||ia();let t=r9(this.layout.layoutBox.x);r.x.min=e.target.x.min,r.x.max=r.x.min+t;let i=r9(this.layout.layoutBox.y);r.y.min=e.target.y.min,r.y.max=r.y.min+i}i6(t,r),iv(t,n),r8(this.projectionDeltaWithTransform,this.layoutCorrected,t,n)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new nd),this.sharedNodes.get(e).add(t);let r=t.options.initialPromotionConfig;t.promote({transition:r?r.transition:void 0,preserveFollowOpacity:r&&r.shouldPreserveFollowOpacity?r.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return!e||e.lead===this}getLead(){let{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:r}={}){let i=this.getStack();i&&i.promote(this,r),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:r}=e;if((r.z||r.rotate||r.rotateX||r.rotateY||r.rotateZ||r.skewX||r.skewY)&&(t=!0),!t)return;let i={};r.z&&ng("z",e,i,this.animationValues);for(let t=0;t<nf.length;t++)ng(`rotate${nf[t]}`,e,i,this.animationValues),ng(`skew${nf[t]}`,e,i,this.animationValues);for(let t in e.render(),i)e.setStaticValue(t,i[t]),this.animationValues&&(this.animationValues[t]=i[t]);e.scheduleRender()}getProjectionStyles(e){if(!this.instance||this.isSVG)return;if(!this.isVisible)return nm;let t={visibility:""},r=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,t.opacity="",t.pointerEvents=iQ(e?.pointerEvents)||"",t.transform=r?r(this.latestValues,""):"none",t;let i=this.getLead();if(!this.projectionDelta||!this.layout||!i.target){let t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=iQ(e?.pointerEvents)||""),this.hasProjected&&!ic(this.latestValues)&&(t.transform=r?r({},""):"none",this.hasProjected=!1),t}let n=i.animationValues||i.latestValues;this.applyTransformsToTarget(),t.transform=function(e,t,r){let i="",n=e.x.translate/t.x,o=e.y.translate/t.y,s=r?.z||0;if((n||o||s)&&(i=`translate3d(${n}px, ${o}px, ${s}px) `),(1!==t.x||1!==t.y)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),r){let{transformPerspective:e,rotate:t,rotateX:n,rotateY:o,skewX:s,skewY:a}=r;e&&(i=`perspective(${e}px) ${i}`),t&&(i+=`rotate(${t}deg) `),n&&(i+=`rotateX(${n}deg) `),o&&(i+=`rotateY(${o}deg) `),s&&(i+=`skewX(${s}deg) `),a&&(i+=`skewY(${a}deg) `)}let a=e.x.scale*t.x,l=e.y.scale*t.y;return(1!==a||1!==l)&&(i+=`scale(${a}, ${l})`),i||"none"}(this.projectionDeltaWithTransform,this.treeScale,n),r&&(t.transform=r(n,t.transform));let{x:o,y:s}=this.projectionDelta;for(let e in t.transformOrigin=`${100*o.origin}% ${100*s.origin}% 0`,i.animationValues?t.opacity=i===this?n.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:n.opacityExit:t.opacity=i===this?void 0!==n.opacity?n.opacity:"":void 0!==n.opacityExit?n.opacityExit:0,iH){if(void 0===n[e])continue;let{correct:r,applyTo:o,isCSSVariable:s}=iH[e],a="none"===t.transform?n[e]:r(n[e],i);if(o){let e=o.length;for(let r=0;r<e;r++)t[o[r]]=a}else s?this.options.visualElement.renderState.vars[e]=a:t[e]=a}return this.options.layoutId&&(t.pointerEvents=i===this?iQ(e?.pointerEvents)||"":"none"),t}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(nx),this.root.sharedNodes.clear()}}}function nv(e){e.updateLayout()}function nw(e){let t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){let{layoutBox:r,measuredBox:i}=e.layout,{animationType:n}=e.options,o=t.source!==e.layout.source;"size"===n?il(e=>{let i=o?t.measuredBox[e]:t.layoutBox[e],n=r9(i);i.min=r[e].min,i.max=i.min+n}):nF(n,t.layoutBox,r)&&il(i=>{let n=o?t.measuredBox[i]:t.layoutBox[i],s=r9(r[i]);n.max=n.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[i].max=e.relativeTarget[i].min+s)});let s=io();r8(s,r,t.layoutBox);let a=io();o?r8(a,e.applyTransform(i,!0),t.measuredBox):r8(a,r,t.layoutBox);let l=!ns(s),u=!1;if(!e.resumeFrom){let i=e.getClosestProjectingParent();if(i&&!i.resumeFrom){let{snapshot:n,layout:o}=i;if(n&&o){let s=ia();ir(s,t.layoutBox,n.layoutBox);let a=ia();ir(a,r,o.layoutBox),nu(s,a)||(u=!0),i.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=s,e.relativeParent=i)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:a,layoutDelta:s,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function n_(e){g.value&&np.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function nS(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function nT(e){e.clearSnapshot()}function nx(e){e.clearMeasurements()}function nP(e){e.isLayoutDirty=!1}function nE(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function nR(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function nA(e){e.resolveTargetDelta()}function nC(e){e.calcProjection()}function nk(e){e.resetSkewAndRotation()}function nj(e){e.removeLeadSnapshot()}function nM(e,t,r){e.translate=eO(t.translate,0,r),e.scale=eO(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function nL(e,t,r,i){e.min=eO(t.min,r.min,i),e.max=eO(t.max,r.max,i)}function nB(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}let nO={duration:.45,ease:[.4,0,.1,1]},nV=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),nD=nV("applewebkit/")&&!nV("chrome/")?Math.round:m;function nq(e){e.min=nD(e.min),e.max=nD(e.max)}function nF(e,t,r){return"position"===e||"preserve-aspect"===e&&!(.2>=Math.abs(nh(t)-nh(r)))}function nW(e){return e!==e.root&&e.scroll?.wasRoot}let n$=nb({attachResizeListener:(e,t)=>r1(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),nI={current:void 0},nz=nb({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!nI.current){let e=new n$({});e.mount(window),e.setOptions({layoutScroll:!0}),nI.current=e}return nI.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>"fixed"===window.getComputedStyle(e).position});function nU(e,t){let r=V(e),i=new AbortController;return[r,{passive:!0,...t,signal:i.signal},()=>i.abort()]}function nN(e){return!("touch"===e.pointerType||r0.x||r0.y)}function nH(e,t,r){let{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover","Start"===r);let n=i["onHover"+r];n&&v.postRender(()=>n(t,r3(t)))}class nY extends rK{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,r={}){let[i,n,o]=nU(e,r),s=e=>{if(!nN(e))return;let{target:r}=e,i=t(r,e);if("function"!=typeof i||!r)return;let o=e=>{nN(e)&&(i(e),r.removeEventListener("pointerleave",o))};r.addEventListener("pointerleave",o,n)};return i.forEach(e=>{e.addEventListener("pointerenter",s,n)}),o}(e,(e,t)=>(nH(this.node,t,"Start"),e=>nH(this.node,e,"End"))))}unmount(){}}class nG extends rK{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=K(r1(this.node.current,"focus",()=>this.onFocus()),r1(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}let nX=(e,t)=>!!t&&(e===t||nX(e,t.parentElement)),nK=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),nZ=new WeakSet;function nQ(e){return t=>{"Enter"===t.key&&e(t)}}function nJ(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}let n0=(e,t)=>{let r=e.currentTarget;if(!r)return;let i=nQ(()=>{if(nZ.has(r))return;nJ(r,"down");let e=nQ(()=>{nJ(r,"up")});r.addEventListener("keyup",e,t),r.addEventListener("blur",()=>nJ(r,"cancel"),t)});r.addEventListener("keydown",i,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",i),t)};function n1(e){return r2(e)&&!(r0.x||r0.y)}function n2(e,t,r){let{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap","Start"===r);let n=i["onTap"+("End"===r?"":r)];n&&v.postRender(()=>n(t,r3(t)))}class n3 extends rK{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,r={}){let[i,n,o]=nU(e,r),s=e=>{let i=e.currentTarget;if(!n1(e))return;nZ.add(i);let o=t(i,e),s=(e,t)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",l),nZ.has(i)&&nZ.delete(i),n1(e)&&"function"==typeof o&&o(e,{success:t})},a=e=>{s(e,i===window||i===document||r.useGlobalTarget||nX(i,e.target))},l=e=>{s(e,!1)};window.addEventListener("pointerup",a,n),window.addEventListener("pointercancel",l,n)};return i.forEach(e=>{(r.useGlobalTarget?window:e).addEventListener("pointerdown",s,n),eK(e)&&(e.addEventListener("focus",e=>n0(e,n)),nK.has(e.tagName)||-1!==e.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),o}(e,(e,t)=>(n2(this.node,t,"Start"),(e,{success:t})=>n2(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}let n5=new WeakMap,n4=new WeakMap,n7=e=>{let t=n5.get(e.target);t&&t(e)},n9=e=>{e.forEach(n7)},n6={some:0,all:1};class n8 extends rK{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:n}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:"number"==typeof i?i:n6[i]};return function(e,t,r){let i=function({root:e,...t}){let r=e||document;n4.has(r)||n4.set(r,{});let i=n4.get(r),n=JSON.stringify(t);return i[n]||(i[n]=new IntersectionObserver(n9,{root:e,...t})),i[n]}(t);return n5.set(e,r),i.observe(e),()=>{n5.delete(e),i.unobserve(e)}}(this.node.current,o,e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,n&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);let{onViewportEnter:r,onViewportLeave:i}=this.node.getProps(),o=t?r:i;o&&o(e)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}(e,t))&&this.startObserver()}unmount(){}}let oe=(0,u.createContext)({strict:!1}),ot=(0,u.createContext)({});function or(e){return ta(e.animate)||rU.some(t=>rI(e[t]))}function oi(e){return!!(or(e)||e.variants)}function on(e){return Array.isArray(e)?e.join(" "):e}let oo={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},os={};for(let e in oo)os[e]={isEnabled:t=>oo[e].some(e=>!!t[e])};let oa=Symbol.for("motionComponentSymbol");function ol(e,{layout:t,layoutId:r}){return td.has(e)||e.startsWith("origin")||(t||void 0!==r)&&(!!iH[e]||"opacity"===e)}let ou=(e,t)=>t&&"number"==typeof e?t.transform(e):e,oh={...ei,transform:Math.round},oc={borderWidth:eb,borderTopWidth:eb,borderRightWidth:eb,borderBottomWidth:eb,borderLeftWidth:eb,borderRadius:eb,radius:eb,borderTopLeftRadius:eb,borderTopRightRadius:eb,borderBottomRightRadius:eb,borderBottomLeftRadius:eb,width:eb,maxWidth:eb,height:eb,maxHeight:eb,top:eb,right:eb,bottom:eb,left:eb,padding:eb,paddingTop:eb,paddingRight:eb,paddingBottom:eb,paddingLeft:eb,margin:eb,marginTop:eb,marginRight:eb,marginBottom:eb,marginLeft:eb,backgroundPositionX:eb,backgroundPositionY:eb,rotate:ey,rotateX:ey,rotateY:ey,rotateZ:ey,scale:eo,scaleX:eo,scaleY:eo,scaleZ:eo,skew:ey,skewX:ey,skewY:ey,distance:eb,translateX:eb,translateY:eb,translateZ:eb,x:eb,y:eb,z:eb,perspective:eb,transformPerspective:eb,opacity:en,originX:e_,originY:e_,originZ:eb,zIndex:oh,fillOpacity:en,strokeOpacity:en,numOctaves:oh},od={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},op=tc.length;function of(e,t,r){let{style:i,vars:n,transformOrigin:o}=e,s=!1,a=!1;for(let e in t){let r=t[e];if(td.has(e)){s=!0;continue}if(J(e)){n[e]=r;continue}{let t=ou(r,oc[e]);e.startsWith("origin")?(a=!0,o[e]=t):i[e]=t}}if(!t.transform&&(s||r?i.transform=function(e,t,r){let i="",n=!0;for(let o=0;o<op;o++){let s=tc[o],a=e[s];if(void 0===a)continue;let l=!0;if(!(l="number"==typeof a?a===(s.startsWith("scale")?1:0):0===parseFloat(a))||r){let e=ou(a,oc[s]);if(!l){n=!1;let t=od[s]||s;i+=`${t}(${e}) `}r&&(t[s]=e)}}return i=i.trim(),r?i=r(t,n?"":i):n&&(i="none"),i}(t,e.transform,r):i.transform&&(i.transform="none")),a){let{originX:e="50%",originY:t="50%",originZ:r=0}=o;i.transformOrigin=`${e} ${t} ${r}`}}let om=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function oy(e,t,r){for(let i in t)tm(t[i])||ol(i,r)||(e[i]=t[i])}let og={offset:"stroke-dashoffset",array:"stroke-dasharray"},ob={offset:"strokeDashoffset",array:"strokeDasharray"};function ov(e,{attrX:t,attrY:r,attrScale:i,pathLength:n,pathSpacing:o=1,pathOffset:s=0,...a},l,u,h){if(of(e,a,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:c,style:d}=e;c.transform&&(d.transform=c.transform,delete c.transform),(d.transform||c.transformOrigin)&&(d.transformOrigin=c.transformOrigin??"50% 50%",delete c.transformOrigin),d.transform&&(d.transformBox=h?.transformBox??"fill-box",delete c.transformBox),void 0!==t&&(c.x=t),void 0!==r&&(c.y=r),void 0!==i&&(c.scale=i),void 0!==n&&function(e,t,r=1,i=0,n=!0){e.pathLength=1;let o=n?og:ob;e[o.offset]=eb.transform(-i);let s=eb.transform(t),a=eb.transform(r);e[o.array]=`${s} ${a}`}(c,n,o,s,!1)}let ow=()=>({...om(),attrs:{}}),o_=e=>"string"==typeof e&&"svg"===e.toLowerCase(),oS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function oT(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||oS.has(e)}let ox=e=>!oT(e);try{!function(e){e&&(ox=t=>t.startsWith("on")?!oT(t):e(t))}(require("@emotion/is-prop-valid").default)}catch{}let oP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function oE(e){if("string"!=typeof e||e.includes("-"));else if(oP.indexOf(e)>-1||/[A-Z]/u.test(e))return!0;return!1}let oR=e=>(t,r)=>{let i=(0,u.useContext)(ot),n=(0,u.useContext)(iW),o=()=>(function({scrapeMotionValuesFromProps:e,createRenderState:t},r,i,n){return{latestValues:function(e,t,r,i){let n={},o=i(e,{});for(let e in o)n[e]=iQ(o[e]);let{initial:s,animate:a}=e,l=or(e),u=oi(e);t&&u&&!l&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===a&&(a=t.animate));let h=!!r&&!1===r.initial,c=(h=h||!1===s)?a:s;if(c&&"boolean"!=typeof c&&!ta(c)){let t=Array.isArray(c)?c:[c];for(let r=0;r<t.length;r++){let i=tl(e,t[r]);if(i){let{transitionEnd:e,transition:t,...r}=i;for(let e in r){let t=r[e];if(Array.isArray(t)){let e=h?t.length-1:0;t=t[e]}null!==t&&(n[e]=t)}for(let t in e)n[t]=e[t]}}}return n}(r,i,n,e),renderState:t()}})(e,t,i,n);return r?o():e8(o)};function oA(e,t,r){let{style:i}=e,n={};for(let o in i)(tm(i[o])||t.style&&tm(t.style[o])||ol(o,e)||r?.getValue(o)?.liveStyle!==void 0)&&(n[o]=i[o]);return n}let oC={useVisualState:oR({scrapeMotionValuesFromProps:oA,createRenderState:om})};function ok(e,t,r){let i=oA(e,t,r);for(let r in e)(tm(e[r])||tm(t[r]))&&(i[-1!==tc.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]);return i}let oj={useVisualState:oR({scrapeMotionValuesFromProps:ok,createRenderState:ow})},oM=e=>t=>t.test(e),oL=[ei,eb,eg,ey,ew,ev,{test:e=>"auto"===e,parse:e=>e}],oB=e=>oL.find(oM(e)),oO=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),oV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,oD=e=>/^0[^.\s]+$/u.test(e),oq=new Set(["brightness","contrast","saturate","opacity"]);function oF(e){let[t,r]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[i]=r.match(ea)||[];if(!i)return e;let n=r.replace(i,""),o=oq.has(t)?1:0;return i!==r&&(o*=100),t+"("+o+n+")"}let oW=/\b([a-z-]*)\(.*?\)/gu,o$={...eM,getAnimatableNone:e=>{let t=e.match(oW);return t?t.map(oF).join(" "):e}},oI={...oc,color:eT,backgroundColor:eT,outlineColor:eT,fill:eT,stroke:eT,borderColor:eT,borderTopColor:eT,borderRightColor:eT,borderBottomColor:eT,borderLeftColor:eT,filter:o$,WebkitFilter:o$},oz=e=>oI[e];function oU(e,t){let r=oz(e);return r!==o$&&(r=eM),r.getAnimatableNone?r.getAnimatableNone(t):void 0}let oN=new Set(["auto","none","0"]);class oH extends rg{constructor(e,t,r,i,n){super(e,t,r,i,n,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let r=0;r<e.length;r++){let i=e[r];if("string"==typeof i&&et(i=i.trim())){let n=function e(t,r,i=1){k(i<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`);let[n,o]=function(e){let t=oV.exec(e);if(!t)return[,];let[,r,i,n]=t;return[`--${r??i}`,n]}(t);if(!n)return;let s=window.getComputedStyle(r).getPropertyValue(n);if(s){let e=s.trim();return oO(e)?parseFloat(e):e}return et(o)?e(o,r,i+1):o}(i,t.current);void 0!==n&&(e[r]=n),r===e.length-1&&(this.finalKeyframe=i)}}if(this.resolveNoneKeyframes(),!tp.has(r)||2!==e.length)return;let[i,n]=e,o=oB(i),s=oB(n);if(o!==s){if(ra(o)&&ra(s))for(let t=0;t<e.length;t++){let r=e[t];"string"==typeof r&&(e[t]=parseFloat(r))}else rh[r]&&(this.needsMeasurement=!0)}}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,r=[];for(let t=0;t<e.length;t++){var i;(null===e[t]||("number"==typeof(i=e[t])?0===i:null===i||"none"===i||"0"===i||oD(i)))&&r.push(t)}r.length&&function(e,t,r){let i,n=0;for(;n<e.length&&!i;){let t=e[n];"string"==typeof t&&!oN.has(t)&&eA(t).values.length&&(i=e[n]),n++}if(i&&r)for(let n of t)e[n]=oU(r,i)}(e,r,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;"height"===r&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=rh[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let i=t[t.length-1];void 0!==i&&e.getValue(r,i).jump(i,!1)}measureEndState(){let{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;let i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);let n=r.length-1,o=r[n];r[n]=rh[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==o&&void 0===this.finalKeyframe&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,r])=>{e.getValue(t).set(r)}),this.resolveNoneKeyframes()}}let oY=[...oL,eT,eM],oG=e=>oY.find(oM(e)),oX={current:null},oK={current:!1},oZ=new WeakMap,oQ=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class oJ{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:n,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=rg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=x.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,v.render(this.render,!1,!0))};let{latestValues:a,renderState:l}=o;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.blockInitialAnimation=!!n,this.isControllingVariants=or(t),this.isVariantNode=oi(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);let{willChange:u,...h}=this.scrapeMotionValuesFromProps(t,{},this);for(let e in h){let t=h[e];void 0!==a[e]&&tm(t)&&t.set(a[e],!1)}}mount(e){this.current=e,oZ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),oK.current||function(){if(oK.current=!0,te){if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>oX.current=e.matches;e.addListener(t),t()}else oX.current=!1}}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||oX.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){for(let e in this.projection&&this.projection.unmount(),w(this.notifyUpdate),w(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){let r;this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();let i=td.has(e);i&&this.onBindTransform&&this.onBindTransform();let n=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&v.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=t.on("renderRequest",this.scheduleRender);window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{n(),o(),r&&r(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in os){let t=os[e];if(!t)continue;let{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ia()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<oQ.length;t++){let r=oQ[t];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);let i=e["on"+r];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=function(e,t,r){for(let i in t){let n=t[i],o=r[i];if(tm(n))e.addValue(i,n);else if(tm(o))e.addValue(i,A(n,{owner:e}));else if(o!==n){if(e.hasValue(i)){let t=e.getValue(i);!0===t.liveStyle?t.jump(n):t.hasAnimated||t.set(n)}else{let t=e.getStaticValue(i);e.addValue(i,A(void 0!==t?t:n,{owner:e}))}}}for(let i in r)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return void 0===r&&void 0!==t&&(r=A(null===t?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return null!=r&&("string"==typeof r&&(oO(r)||oD(r))?r=parseFloat(r):!oG(r)&&eM.test(t)&&(r=oU(e,t)),this.setBaseTarget(e,tm(r)?r.get():r)),tm(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){let t;let{initial:r}=this.props;if("string"==typeof r||"object"==typeof r){let i=tl(this.props,r,this.presenceContext?.custom);i&&(t=i[e])}if(r&&void 0!==t)return t;let i=this.getBaseTargetFromProps(this.props,e);return void 0===i||tm(i)?void 0!==this.initialValues[e]&&void 0===t?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new d),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class o0 extends oJ{constructor(){super(...arguments),this.KeyframeResolver=oH}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;tm(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function o1(e,{style:t,vars:r},i,n){for(let o in Object.assign(e.style,t,n&&n.getProjectionStyles(i)),r)e.style.setProperty(o,r[o])}class o2 extends o0{constructor(){super(...arguments),this.type="html",this.renderInstance=o1}readValueFromInstance(e,t){if(td.has(t))return this.projection?.isProjecting?ri(t):ro(e,t);{let r=window.getComputedStyle(e),i=(J(t)?r.getPropertyValue(t):r[t])||0;return"string"==typeof i?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return iw(e,t)}build(e,t,r){of(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return oA(e,t,r)}}let o3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class o5 extends o0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ia}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(td.has(t)){let e=oz(t);return e&&e.default||0}return t=o3.has(t)?t:tg(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return ok(e,t,r)}build(e,t,r){ov(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,i){!function(e,t,r,i){for(let r in o1(e,t,void 0,i),t.attrs)e.setAttribute(o3.has(r)?r:tg(r),t.attrs[r])}(e,t,0,i)}mount(e){this.isSVGTag=o_(e.tagName),super.mount(e)}}let o4=function(e){if("undefined"==typeof Proxy)return e;let t=new Map;return new Proxy((...t)=>e(...t),{get:(r,i)=>"create"===i?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}((s={animation:{Feature:rZ},exit:{Feature:rJ},inView:{Feature:n8},tap:{Feature:n3},focus:{Feature:nG},hover:{Feature:nY},pan:{Feature:iq},drag:{Feature:iV,ProjectionNode:nz,MeasureLayout:iG},layout:{ProjectionNode:nz,MeasureLayout:iG}},a=(e,t)=>oE(e)?new o5(t):new o2(t,{allowProjection:e!==u.Fragment}),function(e,{forwardMotionProps:t}={forwardMotionProps:!1}){return function({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:i,Component:n}){function o(e,o){var s;let a;let h={...(0,u.useContext)(tn),...e,layoutId:function({layoutId:e}){let t=(0,u.useContext)(i$).id;return t&&void 0!==e?t+"-"+e:e}(e)},{isStatic:c}=h,d=function(e){let{initial:t,animate:r}=function(e,t){if(or(e)){let{initial:t,animate:r}=e;return{initial:!1===t||rI(t)?t:void 0,animate:rI(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,u.useContext)(ot));return(0,u.useMemo)(()=>({initial:t,animate:r}),[on(t),on(r)])}(e),p=i(e,c);if(!c&&te){(0,u.useContext)(oe).strict;let e=function(e){let{drag:t,layout:r}=os;if(!t&&!r)return{};let i={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}(h);a=e.MeasureLayout,d.visualElement=function(e,t,r,i,n){let{visualElement:o}=(0,u.useContext)(ot),s=(0,u.useContext)(oe),a=(0,u.useContext)(iW),l=(0,u.useContext)(tn).reducedMotion,h=(0,u.useRef)(null);i=i||s.renderer,!h.current&&i&&(h.current=i(e,{visualState:t,parent:o,props:r,presenceContext:a,blockInitialAnimation:!!a&&!1===a.initial,reducedMotionConfig:l}));let c=h.current,d=(0,u.useContext)(iI);c&&!c.projection&&n&&("html"===c.type||"svg"===c.type)&&function(e,t,r,i){let{layoutId:n,layout:o,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:h}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:function e(t){if(t)return!1!==t.options.allowProjection?t.projection:e(t.parent)}(e.parent)),e.projection.setOptions({layoutId:n,layout:o,alwaysMeasureLayout:!!s||a&&iS(a),visualElement:e,animationType:"string"==typeof o?o:"both",initialPromotionConfig:i,crossfade:h,layoutScroll:l,layoutRoot:u})}(h.current,r,n,d);let p=(0,u.useRef)(!1);(0,u.useInsertionEffect)(()=>{c&&p.current&&c.update(r,a)});let f=r[tb],m=(0,u.useRef)(!!f&&!window.MotionHandoffIsComplete?.(f)&&window.MotionHasOptimisedAnimation?.(f));return tt(()=>{c&&(p.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),iF.render(c.render),m.current&&c.animationState&&c.animationState.animateChanges())}),(0,u.useEffect)(()=>{c&&(!m.current&&c.animationState&&c.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(f)}),m.current=!1))}),c}(n,p,h,t,e.ProjectionNode)}return(0,l.jsxs)(ot.Provider,{value:d,children:[a&&d.visualElement?(0,l.jsx)(a,{visualElement:d.visualElement,...h}):null,r(n,e,(s=d.visualElement,(0,u.useCallback)(e=>{e&&p.onMount&&p.onMount(e),s&&(e?s.mount(e):s.unmount()),o&&("function"==typeof o?o(e):iS(o)&&(o.current=e))},[s])),p,c,d.visualElement)]})}e&&function(e){for(let t in e)os[t]={...os[t],...e[t]}}(e),o.displayName=`motion.${"string"==typeof n?n:`create(${n.displayName??n.name??""})`}`;let s=(0,u.forwardRef)(o);return s[oa]=n,s}({...oE(e)?oj:oC,preloadedFeatures:s,useRender:function(e=!1){return(t,r,i,{latestValues:n},o)=>{let s=(oE(t)?function(e,t,r,i){let n=(0,u.useMemo)(()=>{let r=ow();return ov(r,t,o_(i),e.transformTemplate,e.style),{...r.attrs,style:{...r.style}}},[t]);if(e.style){let t={};oy(t,e.style,e),n.style={...t,...n.style}}return n}:function(e,t){let r={},i=function(e,t){let r=e.style||{},i={};return oy(i,r,e),Object.assign(i,function({transformTemplate:e},t){return(0,u.useMemo)(()=>{let r=om();return of(r,t,e),Object.assign({},r.vars,r.style)},[t])}(e,t)),i}(e,t);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":`pan-${"x"===e.drag?"y":"x"}`),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r})(r,n,o,t),a=function(e,t,r){let i={};for(let n in e)("values"!==n||"object"!=typeof e.values)&&(ox(n)||!0===r&&oT(n)||!t&&!oT(n)||e.draggable&&n.startsWith("onDrag"))&&(i[n]=e[n]);return i}(r,"string"==typeof t,e),l=t!==u.Fragment?{...a,...s,ref:i}:{},{children:h}=r,c=(0,u.useMemo)(()=>tm(h)?h.get():h,[h]);return(0,u.createElement)(t,{...l,children:c})}}(t),createVisualElement:a,Component:e})})),o7=["/video/1.mp4","/video/2.mp4","/video/3.mp4"];function o9(){let e=(0,u.useRef)(null),{scrollYProgress:t}=function({container:e,target:t,layoutEffect:r=!0,...i}={}){let n=e8(ti);return(r?tt:u.useEffect)(()=>(tr("target",t),tr("container",e),function(e,{axis:t="y",container:r=document.scrollingElement,...i}={}){if(!r)return m;let n={axis:t,container:r,...i};return"function"==typeof e?2===e.length?e7(t=>{e(t[n.axis].progress,t)},n):j(e,e6(n)):function(e,t){let r=e6(t);return e.attachTimeline({timeline:t.target?void 0:r,observe:e=>(e.pause(),j(t=>{e.time=e.duration*t},r))})}(e,n)}((e,{x:t,y:r})=>{n.scrollX.set(t.current),n.scrollXProgress.set(t.progress),n.scrollY.set(r.current),n.scrollYProgress.set(r.progress)},{...i,container:e?.current||void 0,target:t?.current||void 0})),[e,t,JSON.stringify(i.offset)]),n}({target:e,offset:["start end","end start"]});return(0,l.jsx)("div",{ref:e,className:"relative h-[150vh] bg-white flex items-center justify-center",children:(0,l.jsx)("div",{className:"top-1/2 -translate-y-1/2 w-[600px] h-[400px] perspective-1000",children:o7.map((e,r)=>{let i=function(e,t,r,i){if("function"==typeof e)return function(e){E.current=[],e();let t=to(E.current,e);return E.current=void 0,t}(e);let n="function"==typeof t?t:function(...e){let t=!Array.isArray(e[0]),r=t?0:-1,i=e[0+r],n=eG(e[1+r],e[2+r],e[3+r]);return t?n(i):n}(t,r,void 0);return Array.isArray(e)?ts(e,n):ts([e],([e])=>n(e))}(t,[0,1],["0deg",`${-90*r}deg`]);return(0,l.jsx)(o4.div,{style:{rotateY:i},className:"absolute top-0 left-0 w-full h-full rounded-xl overflow-hidden shadow-xl bg-black preserve-3d will-change-transform",children:(0,l.jsx)("video",{src:e,className:"w-full h-full object-cover",autoPlay:!0,loop:!0,muted:!0})},r)})})})}},41874:(e,t,r)=>{if(!globalThis.DOMException)try{let{MessageChannel:e}=r(73566),t=new e().port1,i=new ArrayBuffer;t.postMessage(i,[i,i])}catch(e){"DOMException"===e.constructor.name&&(globalThis.DOMException=e.constructor)}e.exports=globalThis.DOMException},69003:function(e,t){(function(e){"use strict";var t,r,i;function n(){}function o(e){return"object"==typeof e&&null!==e||"function"==typeof e}function s(e,t){try{Object.defineProperty(e,"name",{value:t,configurable:!0})}catch(e){}}let a=Promise,l=Promise.prototype.then,u=Promise.reject.bind(a);function h(e){return new a(e)}function c(e){return h(t=>t(e))}function d(e,t,r){return l.call(e,t,r)}function p(e,t,r){d(d(e,t,r),void 0,n)}function f(e,t){p(e,void 0,t)}function m(e){d(e,void 0,n)}let y=e=>{if("function"==typeof queueMicrotask)y=queueMicrotask;else{let e=c(void 0);y=t=>d(e,t)}return y(e)};function g(e,t,r){if("function"!=typeof e)throw TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function b(e,t,r){try{return c(g(e,t,r))}catch(e){return u(e)}}class v{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){let t=this._back,r=t;16383===t._elements.length&&(r={_elements:[],_next:void 0}),t._elements.push(e),r!==t&&(this._back=r,t._next=r),++this._size}shift(){let e=this._front,t=e,r=this._cursor,i=r+1,n=e._elements,o=n[r];return 16384===i&&(t=e._next,i=0),--this._size,this._cursor=i,e!==t&&(this._front=t),n[r]=void 0,o}forEach(e){let t=this._cursor,r=this._front,i=r._elements;for(;(t!==i.length||void 0!==r._next)&&(t!==i.length||(i=(r=r._next)._elements,t=0,0!==i.length));)e(i[t]),++t}peek(){let e=this._front,t=this._cursor;return e._elements[t]}}let w=Symbol("[[AbortSteps]]"),_=Symbol("[[ErrorSteps]]"),S=Symbol("[[CancelSteps]]"),T=Symbol("[[PullSteps]]"),x=Symbol("[[ReleaseSteps]]");function P(e,t){var r;e._ownerReadableStream=t,t._reader=e,"readable"===t._state?C(e):"closed"===t._state?(C(e),j(e)):(r=t._storedError,C(e),k(e,r))}function E(e,t){return t1(e._ownerReadableStream,t)}function R(e){var t,r;let i=e._ownerReadableStream;"readable"===i._state?k(e,TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):(t=e,r=TypeError("Reader was released and can no longer be used to monitor the stream's closedness"),C(t),k(t,r)),i._readableStreamController[x](),i._reader=void 0,e._ownerReadableStream=void 0}function A(e){return TypeError("Cannot "+e+" a stream using a released reader")}function C(e){e._closedPromise=h((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r})}function k(e,t){void 0!==e._closedPromise_reject&&(m(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function j(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}let M=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},L=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function B(e,t){if(void 0!==e&&!("object"==typeof e||"function"==typeof e))throw TypeError(`${t} is not an object.`)}function O(e,t){if("function"!=typeof e)throw TypeError(`${t} is not a function.`)}function V(e,t){if(!("object"==typeof e&&null!==e||"function"==typeof e))throw TypeError(`${t} is not an object.`)}function D(e,t,r){if(void 0===e)throw TypeError(`Parameter ${t} is required in '${r}'.`)}function q(e,t,r){if(void 0===e)throw TypeError(`${t} is required in '${r}'.`)}function F(e){return Number(e)}function W(e,t){var r,i;let n=Number.MAX_SAFE_INTEGER,o=Number(e);if(!M(o=0===(r=o)?0:r))throw TypeError(`${t} is not a finite number`);if((o=0===(i=L(o))?0:i)<0||o>n)throw TypeError(`${t} is outside the accepted range of 0 to ${n}, inclusive`);return M(o)&&0!==o?o:0}function $(e,t){if(!tJ(e))throw TypeError(`${t} is not a ReadableStream.`)}function I(e){return new Y(e)}function z(e,t){e._reader._readRequests.push(t)}function U(e,t,r){let i=e._reader._readRequests.shift();r?i._closeSteps():i._chunkSteps(t)}function N(e){return e._reader._readRequests.length}function H(e){let t=e._reader;return!!(void 0!==t&&G(t))}class Y{constructor(e){if(D(e,1,"ReadableStreamDefaultReader"),$(e,"First parameter"),t0(e))throw TypeError("This stream has already been locked for exclusive reading by another reader");P(this,e),this._readRequests=new v}get closed(){return G(this)?this._closedPromise:u(Z("closed"))}cancel(e){return G(this)?void 0===this._ownerReadableStream?u(A("cancel")):E(this,e):u(Z("cancel"))}read(){let e,t;if(!G(this))return u(Z("read"));if(void 0===this._ownerReadableStream)return u(A("read from"));let r=h((r,i)=>{e=r,t=i});return X(this,{_chunkSteps:t=>e({value:t,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:e=>t(e)}),r}releaseLock(){if(!G(this))throw Z("releaseLock");if(void 0!==this._ownerReadableStream)R(this),K(this,TypeError("Reader was released"))}}function G(e){return!!(o(e)&&Object.prototype.hasOwnProperty.call(e,"_readRequests"))&&e instanceof Y}function X(e,t){let r=e._ownerReadableStream;r._disturbed=!0,"closed"===r._state?t._closeSteps():"errored"===r._state?t._errorSteps(r._storedError):r._readableStreamController[T](t)}function K(e,t){let r=e._readRequests;e._readRequests=new v,r.forEach(e=>{e._errorSteps(t)})}function Z(e){return TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(Y.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),s(Y.prototype.cancel,"cancel"),s(Y.prototype.read,"read"),s(Y.prototype.releaseLock,"releaseLock"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Y.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});let Q=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class J{constructor(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}next(){let e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?d(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){let t=()=>this._returnSteps(e);return this._ongoingPromise?d(this._ongoingPromise,t,t):t()}_nextSteps(){let e,t;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let r=this._reader,i=h((r,i)=>{e=r,t=i});return X(r,{_chunkSteps:t=>{this._ongoingPromise=void 0,y(()=>e({value:t,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,R(r),e({value:void 0,done:!0})},_errorSteps:e=>{this._ongoingPromise=void 0,this._isFinished=!0,R(r),t(e)}}),i}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;let t=this._reader;if(!this._preventCancel){let r=E(t,e);return R(t),d(r,()=>({value:e,done:!0}),void 0)}return R(t),c({value:e,done:!0})}}let ee={next(){return et(this)?this._asyncIteratorImpl.next():u(er("next"))},return(e){return et(this)?this._asyncIteratorImpl.return(e):u(er("return"))}};function et(e){if(!o(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof J}catch(e){return!1}}function er(e){return TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}Object.setPrototypeOf(ee,Q);let ei=Number.isNaN||function(e){return e!=e};function en(e){return e.slice()}function eo(e,t,r,i,n){new Uint8Array(e).set(new Uint8Array(r,i,n),t)}let es=e=>("function"==typeof e.transfer?es=e=>e.transfer():"function"==typeof structuredClone?es=e=>structuredClone(e,{transfer:[e]}):es=e=>e,es(e)),ea=e=>(ea="boolean"==typeof e.detached?e=>e.detached:e=>0===e.byteLength)(e);function el(e,t,r){if(e.slice)return e.slice(t,r);let i=r-t,n=new ArrayBuffer(i);return eo(n,0,e,t,i),n}function eu(e,t){let r=e[t];if(null!=r){if("function"!=typeof r)throw TypeError(`${String(t)} is not a function`);return r}}let eh=null!==(i=null!==(t=Symbol.asyncIterator)&&void 0!==t?t:null===(r=Symbol.for)||void 0===r?void 0:r.call(Symbol,"Symbol.asyncIterator"))&&void 0!==i?i:"@@asyncIterator";function ec(e){return new Uint8Array(el(e.buffer,e.byteOffset,e.byteOffset+e.byteLength))}function ed(e){let t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function ep(e,t,r){if(!(!("number"!=typeof r||ei(r))&&!(r<0))||r===1/0)throw RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function ef(e){e._queue=new v,e._queueTotalSize=0}function em(e){return e===DataView}class ey{constructor(){throw TypeError("Illegal constructor")}get view(){if(!ev(this))throw eU("view");return this._view}respond(e){if(!ev(this))throw eU("respond");if(D(e,1,"respond"),e=W(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");if(ea(this._view.buffer))throw TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");e$(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!ev(this))throw eU("respondWithNewView");if(D(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");if(ea(e.buffer))throw TypeError("The given view's buffer has been detached and so cannot be used as a response");eI(this._associatedReadableByteStreamController,e)}}Object.defineProperties(ey.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),s(ey.prototype.respond,"respond"),s(ey.prototype.respondWithNewView,"respondWithNewView"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(ey.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class eg{constructor(){throw TypeError("Illegal constructor")}get byobRequest(){if(!eb(this))throw eN("byobRequest");return eF(this)}get desiredSize(){if(!eb(this))throw eN("desiredSize");return eW(this)}close(){if(!eb(this))throw eN("close");if(this._closeRequested)throw TypeError("The stream has already been closed; do not close it again!");let e=this._controlledReadableByteStream._state;if("readable"!==e)throw TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);eO(this)}enqueue(e){if(!eb(this))throw eN("enqueue");if(D(e,1,"enqueue"),!ArrayBuffer.isView(e))throw TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw TypeError("stream is closed or draining");let t=this._controlledReadableByteStream._state;if("readable"!==t)throw TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);eV(this,e)}error(e){if(!eb(this))throw eN("error");eD(this,e)}[S](e){e_(this),ef(this);let t=this._cancelAlgorithm(e);return eB(this),t}[T](e){let t=this._controlledReadableByteStream;if(this._queueTotalSize>0){eq(this,e);return}let r=this._autoAllocateChunkSize;if(void 0!==r){let t;try{t=new ArrayBuffer(r)}catch(t){e._errorSteps(t);return}let i={buffer:t,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(i)}z(t,e),ew(this)}[x](){if(this._pendingPullIntos.length>0){let e=this._pendingPullIntos.peek();e.readerType="none",this._pendingPullIntos=new v,this._pendingPullIntos.push(e)}}}function eb(e){return!!(o(e)&&Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream"))&&e instanceof eg}function ev(e){return!!(o(e)&&Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController"))&&e instanceof ey}function ew(e){if(function(e){let t=e._controlledReadableByteStream;return"readable"===t._state&&!e._closeRequested&&!!e._started&&!!(H(t)&&N(t)>0||eG(t)&&eY(t)>0||eW(e)>0)}(e)){if(e._pulling){e._pullAgain=!0;return}e._pulling=!0,p(e._pullAlgorithm(),()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,ew(e)),null),t=>(eD(e,t),null))}}function e_(e){ek(e),e._pendingPullIntos=new v}function eS(e,t){let r=!1;"closed"===e._state&&(r=!0);let i=eT(t);"default"===t.readerType?U(e,i,r):function(e,t,r){let i=e._reader._readIntoRequests.shift();r?i._closeSteps(t):i._chunkSteps(t)}(e,i,r)}function eT(e){let t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function ex(e,t,r,i){e._queue.push({buffer:t,byteOffset:r,byteLength:i}),e._queueTotalSize+=i}function eP(e,t,r,i){let n;try{n=el(t,r,r+i)}catch(t){throw eD(e,t),t}ex(e,n,0,i)}function eE(e,t){t.bytesFilled>0&&eP(e,t.buffer,t.byteOffset,t.bytesFilled),eL(e)}function eR(e,t){let r=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),i=t.bytesFilled+r,n=r,o=!1,s=i%t.elementSize,a=i-s;a>=t.minimumFill&&(n=a-t.bytesFilled,o=!0);let l=e._queue;for(;n>0;){let r=l.peek(),i=Math.min(n,r.byteLength),o=t.byteOffset+t.bytesFilled;eo(t.buffer,o,r.buffer,r.byteOffset,i),r.byteLength===i?l.shift():(r.byteOffset+=i,r.byteLength-=i),e._queueTotalSize-=i,eA(e,i,t),n-=i}return o}function eA(e,t,r){r.bytesFilled+=t}function eC(e){0===e._queueTotalSize&&e._closeRequested?(eB(e),t2(e._controlledReadableByteStream)):ew(e)}function ek(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function ej(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;let t=e._pendingPullIntos.peek();eR(e,t)&&(eL(e),eS(e._controlledReadableByteStream,t))}}function eM(e,t){let r=e._pendingPullIntos.peek();ek(e),"closed"===e._controlledReadableByteStream._state?function(e,t){"none"===t.readerType&&eL(e);let r=e._controlledReadableByteStream;if(eG(r))for(;eY(r)>0;)eS(r,eL(e))}(e,r):function(e,t,r){if(eA(e,t,r),"none"===r.readerType){eE(e,r),ej(e);return}if(r.bytesFilled<r.minimumFill)return;eL(e);let i=r.bytesFilled%r.elementSize;if(i>0){let t=r.byteOffset+r.bytesFilled;eP(e,r.buffer,t-i,i)}r.bytesFilled-=i,eS(e._controlledReadableByteStream,r),ej(e)}(e,t,r),ew(e)}function eL(e){return e._pendingPullIntos.shift()}function eB(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function eO(e){let t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek();if(t.bytesFilled%t.elementSize!=0){let t=TypeError("Insufficient bytes to fill elements in the given buffer");throw eD(e,t),t}}eB(e),t2(t)}}function eV(e,t){let r=e._controlledReadableByteStream;if(e._closeRequested||"readable"!==r._state)return;let{buffer:i,byteOffset:n,byteLength:o}=t;if(ea(i))throw TypeError("chunk's buffer is detached and so cannot be enqueued");let s=es(i);if(e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek();if(ea(t.buffer))throw TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");ek(e),t.buffer=es(t.buffer),"none"===t.readerType&&eE(e,t)}H(r)?(function(e){let t=e._controlledReadableByteStream._reader;for(;t._readRequests.length>0;){if(0===e._queueTotalSize)return;eq(e,t._readRequests.shift())}}(e),0===N(r)?ex(e,s,n,o):(e._pendingPullIntos.length>0&&eL(e),U(r,new Uint8Array(s,n,o),!1))):eG(r)?(ex(e,s,n,o),ej(e)):ex(e,s,n,o),ew(e)}function eD(e,t){let r=e._controlledReadableByteStream;"readable"===r._state&&(e_(e),ef(e),eB(e),t3(r,t))}function eq(e,t){let r=e._queue.shift();e._queueTotalSize-=r.byteLength,eC(e);let i=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);t._chunkSteps(i)}function eF(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=Object.create(ey.prototype);i._associatedReadableByteStreamController=e,i._view=r,e._byobRequest=i}return e._byobRequest}function eW(e){let t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function e$(e,t){let r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===t)throw TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+t>r.byteLength)throw RangeError("bytesWritten out of range")}r.buffer=es(r.buffer),eM(e,t)}function eI(e,t){let r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t.byteLength)throw TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===t.byteLength)throw TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==t.buffer.byteLength)throw RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+t.byteLength>r.byteLength)throw RangeError("The region specified by view is larger than byobRequest");let i=t.byteLength;r.buffer=es(t.buffer),eM(e,i)}function ez(e,t,r,i,n,o,s){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,ef(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=o,t._pullAlgorithm=i,t._cancelAlgorithm=n,t._autoAllocateChunkSize=s,t._pendingPullIntos=new v,e._readableStreamController=t,p(c(r()),()=>(t._started=!0,ew(t),null),e=>(eD(t,e),null))}function eU(e){return TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function eN(e){return TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function eH(e,t){e._reader._readIntoRequests.push(t)}function eY(e){return e._reader._readIntoRequests.length}function eG(e){let t=e._reader;return!!(void 0!==t&&eK(t))}Object.defineProperties(eg.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),s(eg.prototype.close,"close"),s(eg.prototype.enqueue,"enqueue"),s(eg.prototype.error,"error"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(eg.prototype,Symbol.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class eX{constructor(e){if(D(e,1,"ReadableStreamBYOBReader"),$(e,"First parameter"),t0(e))throw TypeError("This stream has already been locked for exclusive reading by another reader");if(!eb(e._readableStreamController))throw TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");P(this,e),this._readIntoRequests=new v}get closed(){return eK(this)?this._closedPromise:u(eJ("closed"))}cancel(e){return eK(this)?void 0===this._ownerReadableStream?u(A("cancel")):E(this,e):u(eJ("cancel"))}read(e,t={}){let r,i,n;if(!eK(this))return u(eJ("read"));if(!ArrayBuffer.isView(e))return u(TypeError("view must be an array buffer view"));if(0===e.byteLength)return u(TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return u(TypeError("view's buffer must have non-zero byteLength"));if(ea(e.buffer))return u(TypeError("view's buffer has been detached"));try{var o,s;o="options",B(t,o),r={min:W(null!==(s=null==t?void 0:t.min)&&void 0!==s?s:1,`${o} has member 'min' that`)}}catch(e){return u(e)}let a=r.min;if(0===a)return u(TypeError("options.min must be greater than 0"));if(em(e.constructor)){if(a>e.byteLength)return u(RangeError("options.min must be less than or equal to view's byteLength"))}else if(a>e.length)return u(RangeError("options.min must be less than or equal to view's length"));if(void 0===this._ownerReadableStream)return u(A("read from"));let l=h((e,t)=>{i=e,n=t});return eZ(this,e,a,{_chunkSteps:e=>i({value:e,done:!1}),_closeSteps:e=>i({value:e,done:!0}),_errorSteps:e=>n(e)}),l}releaseLock(){if(!eK(this))throw eJ("releaseLock");if(void 0!==this._ownerReadableStream)R(this),eQ(this,TypeError("Reader was released"))}}function eK(e){return!!(o(e)&&Object.prototype.hasOwnProperty.call(e,"_readIntoRequests"))&&e instanceof eX}function eZ(e,t,r,i){let n=e._ownerReadableStream;n._disturbed=!0,"errored"===n._state?i._errorSteps(n._storedError):function(e,t,r,i){let n;let o=e._controlledReadableByteStream,s=t.constructor,a=em(s)?1:s.BYTES_PER_ELEMENT,{byteOffset:l,byteLength:u}=t;try{n=es(t.buffer)}catch(e){i._errorSteps(e);return}let h={buffer:n,bufferByteLength:n.byteLength,byteOffset:l,byteLength:u,bytesFilled:0,minimumFill:r*a,elementSize:a,viewConstructor:s,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(h),eH(o,i);return}if("closed"===o._state){let e=new s(h.buffer,h.byteOffset,0);i._closeSteps(e);return}if(e._queueTotalSize>0){if(eR(e,h)){let t=eT(h);eC(e),i._chunkSteps(t);return}if(e._closeRequested){let t=TypeError("Insufficient bytes to fill elements in the given buffer");eD(e,t),i._errorSteps(t);return}}e._pendingPullIntos.push(h),eH(o,i),ew(e)}(n._readableStreamController,t,r,i)}function eQ(e,t){let r=e._readIntoRequests;e._readIntoRequests=new v,r.forEach(e=>{e._errorSteps(t)})}function eJ(e){return TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function e0(e,t){let{highWaterMark:r}=e;if(void 0===r)return t;if(ei(r)||r<0)throw RangeError("Invalid highWaterMark");return r}function e1(e){let{size:t}=e;return t||(()=>1)}function e2(e,t){B(e,t);let r=null==e?void 0:e.highWaterMark,i=null==e?void 0:e.size;return{highWaterMark:void 0===r?void 0:F(r),size:void 0===i?void 0:(O(i,`${t} has member 'size' that`),e=>F(i(e)))}}function e3(e,t){if(!e9(e))throw TypeError(`${t} is not a WritableStream.`)}Object.defineProperties(eX.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),s(eX.prototype.cancel,"cancel"),s(eX.prototype.read,"read"),s(eX.prototype.releaseLock,"releaseLock"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(eX.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});let e5="function"==typeof AbortController;class e4{constructor(e={},t={}){void 0===e?e=null:V(e,"First parameter");let r=e2(t,"Second parameter"),i=function(e,t){B(e,t);let r=null==e?void 0:e.abort,i=null==e?void 0:e.close,n=null==e?void 0:e.start,o=null==e?void 0:e.type,s=null==e?void 0:e.write;return{abort:void 0===r?void 0:(O(r,`${t} has member 'abort' that`),t=>b(r,e,[t])),close:void 0===i?void 0:(O(i,`${t} has member 'close' that`),()=>b(i,e,[])),start:void 0===n?void 0:(O(n,`${t} has member 'start' that`),t=>g(n,e,[t])),write:void 0===s?void 0:(O(s,`${t} has member 'write' that`),(t,r)=>b(s,e,[t,r])),type:o}}(e,"First parameter");if(e7(this),void 0!==i.type)throw RangeError("Invalid type is specified");let n=e1(r);(function(e,t,r,i){let n,o;let s=Object.create(tf.prototype);n=void 0!==t.start?()=>t.start(s):()=>void 0,o=void 0!==t.write?e=>t.write(e,s):()=>c(void 0),ty(e,s,n,o,void 0!==t.close?()=>t.close():()=>c(void 0),void 0!==t.abort?e=>t.abort(e):()=>c(void 0),r,i)})(this,i,e0(r,1),n)}get locked(){if(!e9(this))throw tS("locked");return e6(this)}abort(e){return e9(this)?e6(this)?u(TypeError("Cannot abort a stream that already has a writer")):e8(this,e):u(tS("abort"))}close(){return e9(this)?e6(this)?u(TypeError("Cannot close a stream that already has a writer")):tn(this)?u(TypeError("Cannot close an already-closing stream")):te(this):u(tS("close"))}getWriter(){if(!e9(this))throw tS("getWriter");return new ta(this)}}function e7(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new v,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function e9(e){return!!(o(e)&&Object.prototype.hasOwnProperty.call(e,"_writableStreamController"))&&e instanceof e4}function e6(e){return void 0!==e._writer}function e8(e,t){var r;if("closed"===e._state||"errored"===e._state)return c(void 0);e._writableStreamController._abortReason=t,null===(r=e._writableStreamController._abortController)||void 0===r||r.abort(t);let i=e._state;if("closed"===i||"errored"===i)return c(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;let n=!1;"erroring"===i&&(n=!0,t=void 0);let o=h((r,i)=>{e._pendingAbortRequest={_promise:void 0,_resolve:r,_reject:i,_reason:t,_wasAlreadyErroring:n}});return e._pendingAbortRequest._promise=o,n||tr(e,t),o}function te(e){var t;let r=e._state;if("closed"===r||"errored"===r)return u(TypeError(`The stream (in ${r} state) is not in the writable state and cannot be closed`));let i=h((t,r)=>{e._closeRequest={_resolve:t,_reject:r}}),n=e._writer;return void 0!==n&&e._backpressure&&"writable"===r&&tM(n),ep(t=e._writableStreamController,tp,0),tv(t),i}function tt(e,t){if("writable"===e._state){tr(e,t);return}ti(e)}function tr(e,t){let r=e._writableStreamController;e._state="erroring",e._storedError=t;let i=e._writer;void 0!==i&&th(i,t),!(void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest)&&r._started&&ti(e)}function ti(e){e._state="errored",e._writableStreamController[_]();let t=e._storedError;if(e._writeRequests.forEach(e=>{e._reject(t)}),e._writeRequests=new v,void 0===e._pendingAbortRequest){to(e);return}let r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring){r._reject(t),to(e);return}p(e._writableStreamController[w](r._reason),()=>(r._resolve(),to(e),null),t=>(r._reject(t),to(e),null))}function tn(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function to(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let t=e._writer;void 0!==t&&tR(t,e._storedError)}function ts(e,t){let r=e._writer;void 0!==r&&t!==e._backpressure&&(t?tC(r):tM(r)),e._backpressure=t}Object.defineProperties(e4.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),s(e4.prototype.abort,"abort"),s(e4.prototype.close,"close"),s(e4.prototype.getWriter,"getWriter"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(e4.prototype,Symbol.toStringTag,{value:"WritableStream",configurable:!0});class ta{constructor(e){if(D(e,1,"WritableStreamDefaultWriter"),e3(e,"First parameter"),e6(e))throw TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;let t=e._state;if("writable"===t)!tn(e)&&e._backpressure?tC(this):(tC(this),tM(this)),tE(this);else if("erroring"===t)tk(this,e._storedError),tE(this);else if("closed"===t)tC(this),tM(this),tE(this),tA(this);else{let t=e._storedError;tk(this,t),tE(this),tR(this,t)}}get closed(){return tl(this)?this._closedPromise:u(tx("closed"))}get desiredSize(){if(!tl(this))throw tx("desiredSize");if(void 0===this._ownerWritableStream)throw tP("desiredSize");return function(e){let t=e._ownerWritableStream,r=t._state;return"errored"===r||"erroring"===r?null:"closed"===r?0:tb(t._writableStreamController)}(this)}get ready(){return tl(this)?this._readyPromise:u(tx("ready"))}abort(e){return tl(this)?void 0===this._ownerWritableStream?u(tP("abort")):e8(this._ownerWritableStream,e):u(tx("abort"))}close(){if(!tl(this))return u(tx("close"));let e=this._ownerWritableStream;return void 0===e?u(tP("close")):tn(e)?u(TypeError("Cannot close an already-closing stream")):tu(this)}releaseLock(){if(!tl(this))throw tx("releaseLock");void 0!==this._ownerWritableStream&&tc(this)}write(e){return tl(this)?void 0===this._ownerWritableStream?u(tP("write to")):td(this,e):u(tx("write"))}}function tl(e){return!!(o(e)&&Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream"))&&e instanceof ta}function tu(e){return te(e._ownerWritableStream)}function th(e,t){"pending"===e._readyPromiseState?tj(e,t):tk(e,t)}function tc(e){var t,r;let i=e._ownerWritableStream,n=TypeError("Writer was released and can no longer be used to monitor the stream's closedness");th(e,n),"pending"===e._closedPromiseState?tR(e,n):(t=e,r=n,tE(t),tR(t,r)),i._writer=void 0,e._ownerWritableStream=void 0}function td(e,t){let r=e._ownerWritableStream,i=r._writableStreamController,n=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return tw(e,t),1}}(i,t);if(r!==e._ownerWritableStream)return u(tP("write to"));let o=r._state;if("errored"===o)return u(r._storedError);if(tn(r)||"closed"===o)return u(TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===o)return u(r._storedError);let s=h((e,t)=>{r._writeRequests.push({_resolve:e,_reject:t})});return function(e,t,r){try{ep(e,t,r)}catch(t){tw(e,t);return}let i=e._controlledWritableStream;tn(i)||"writable"!==i._state||ts(i,0>=tb(e)),tv(e)}(i,t,n),s}Object.defineProperties(ta.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),s(ta.prototype.abort,"abort"),s(ta.prototype.close,"close"),s(ta.prototype.releaseLock,"releaseLock"),s(ta.prototype.write,"write"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(ta.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});let tp={};class tf{constructor(){throw TypeError("Illegal constructor")}get abortReason(){if(!tm(this))throw tT("abortReason");return this._abortReason}get signal(){if(!tm(this))throw tT("signal");if(void 0===this._abortController)throw TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e){if(!tm(this))throw tT("error");"writable"===this._controlledWritableStream._state&&t_(this,e)}[w](e){let t=this._abortAlgorithm(e);return tg(this),t}[_](){ef(this)}}function tm(e){return!!(o(e)&&Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream"))&&e instanceof tf}function ty(e,t,r,i,n,o,s,a){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,ef(t),t._abortReason=void 0,t._abortController=function(){if(e5)return new AbortController}(),t._started=!1,t._strategySizeAlgorithm=a,t._strategyHWM=s,t._writeAlgorithm=i,t._closeAlgorithm=n,t._abortAlgorithm=o,ts(e,0>=tb(t)),p(c(r()),()=>(t._started=!0,tv(t),null),r=>(t._started=!0,tt(e,r),null))}function tg(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function tb(e){return e._strategyHWM-e._queueTotalSize}function tv(e){let t=e._controlledWritableStream;if(!e._started||void 0!==t._inFlightWriteRequest)return;if("erroring"===t._state){ti(t);return}if(0===e._queue.length)return;let r=e._queue.peek().value;r===tp?function(e){let t=e._controlledWritableStream;t._inFlightCloseRequest=t._closeRequest,t._closeRequest=void 0,ed(e);let r=e._closeAlgorithm();tg(e),p(r,()=>((function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";let t=e._writer;void 0!==t&&tA(t)})(t),null),e=>(t._inFlightCloseRequest._reject(e),t._inFlightCloseRequest=void 0,void 0!==t._pendingAbortRequest&&(t._pendingAbortRequest._reject(e),t._pendingAbortRequest=void 0),tt(t,e),null))}(e):function(e,t){let r=e._controlledWritableStream;r._inFlightWriteRequest=r._writeRequests.shift(),p(e._writeAlgorithm(t),()=>{r._inFlightWriteRequest._resolve(void 0),r._inFlightWriteRequest=void 0;let t=r._state;return ed(e),tn(r)||"writable"!==t||ts(r,0>=tb(e)),tv(e),null},t=>("writable"===r._state&&tg(e),r._inFlightWriteRequest._reject(t),r._inFlightWriteRequest=void 0,tt(r,t),null))}(e,r)}function tw(e,t){"writable"===e._controlledWritableStream._state&&t_(e,t)}function t_(e,t){let r=e._controlledWritableStream;tg(e),tr(r,t)}function tS(e){return TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function tT(e){return TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function tx(e){return TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function tP(e){return TypeError("Cannot "+e+" a stream using a released writer")}function tE(e){e._closedPromise=h((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"})}function tR(e,t){void 0!==e._closedPromise_reject&&(m(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function tA(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function tC(e){e._readyPromise=h((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r}),e._readyPromiseState="pending"}function tk(e,t){tC(e),tj(e,t)}function tj(e,t){void 0!==e._readyPromise_reject&&(m(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function tM(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(tf.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(tf.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});let tL="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof global?global:void 0,tB=function(){let e=null==tL?void 0:tL.DOMException;return!function(e){if(!("function"==typeof e||"object"==typeof e)||"DOMException"!==e.name)return!1;try{return new e,!0}catch(e){return!1}}(e)?void 0:e}()||function(){let e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return s(e,"DOMException"),e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}();function tO(e,t,r,i,o,s){let a=I(e),l=new ta(t);e._disturbed=!0;let y=!1,g=c(void 0);return h((b,v)=>{var w,_;let S;if(void 0!==s){if(S=()=>{let r=void 0!==s.reason?s.reason:new tB("Aborted","AbortError"),n=[];i||n.push(()=>"writable"===t._state?e8(t,r):c(void 0)),o||n.push(()=>"readable"===e._state?t1(e,r):c(void 0)),P(()=>Promise.all(n.map(e=>e())),!0,r)},s.aborted){S();return}s.addEventListener("abort",S)}if(x(e,a._closedPromise,e=>(i?E(!0,e):P(()=>e8(t,e),!0,e),null)),x(t,l._closedPromise,t=>(o?E(!0,t):P(()=>t1(e,t),!0,t),null)),w=a._closedPromise,_=()=>(r?E():P(()=>(function(e){let t=e._ownerWritableStream,r=t._state;return tn(t)||"closed"===r?c(void 0):"errored"===r?u(t._storedError):tu(e)})(l)),null),"closed"===e._state?_():p(w,_),tn(t)||"closed"===t._state){let t=TypeError("the destination writable stream closed before all data could be piped to it");o?E(!0,t):P(()=>t1(e,t),!0,t)}function T(){let e=g;return d(g,()=>e!==g?T():void 0)}function x(e,t,r){"errored"===e._state?r(e._storedError):f(t,r)}function P(e,r,i){!y&&((y=!0,"writable"!==t._state||tn(t))?n():p(T(),n));function n(){return p(e(),()=>A(r,i),e=>A(!0,e)),null}}function E(e,r){!y&&((y=!0,"writable"!==t._state||tn(t))?A(e,r):p(T(),()=>A(e,r)))}function A(e,t){return tc(l),R(a),void 0!==s&&s.removeEventListener("abort",S),e?v(t):b(void 0),null}m(h((e,t)=>{!function r(i){i?e():d(y?c(!0):d(l._readyPromise,()=>h((e,t)=>{X(a,{_chunkSteps:t=>{g=d(td(l,t),void 0,n),e(!1)},_closeSteps:()=>e(!0),_errorSteps:t})})),r,t)}(!1)}))})}class tV{constructor(){throw TypeError("Illegal constructor")}get desiredSize(){if(!tD(this))throw tY("desiredSize");return tU(this)}close(){if(!tD(this))throw tY("close");if(!tN(this))throw TypeError("The stream is not in a state that permits close");t$(this)}enqueue(e){if(!tD(this))throw tY("enqueue");if(!tN(this))throw TypeError("The stream is not in a state that permits enqueue");return tI(this,e)}error(e){if(!tD(this))throw tY("error");tz(this,e)}[S](e){ef(this);let t=this._cancelAlgorithm(e);return tW(this),t}[T](e){let t=this._controlledReadableStream;if(this._queue.length>0){let r=ed(this);this._closeRequested&&0===this._queue.length?(tW(this),t2(t)):tq(this),e._chunkSteps(r)}else z(t,e),tq(this)}[x](){}}function tD(e){return!!(o(e)&&Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream"))&&e instanceof tV}function tq(e){if(tF(e)){if(e._pulling){e._pullAgain=!0;return}e._pulling=!0,p(e._pullAlgorithm(),()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,tq(e)),null),t=>(tz(e,t),null))}}function tF(e){let t=e._controlledReadableStream;return!!tN(e)&&!!e._started&&!!(t0(t)&&N(t)>0||tU(e)>0)}function tW(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function t$(e){if(!tN(e))return;let t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(tW(e),t2(t))}function tI(e,t){if(!tN(e))return;let r=e._controlledReadableStream;if(t0(r)&&N(r)>0)U(r,t,!1);else{let r;try{r=e._strategySizeAlgorithm(t)}catch(t){throw tz(e,t),t}try{ep(e,t,r)}catch(t){throw tz(e,t),t}}tq(e)}function tz(e,t){let r=e._controlledReadableStream;"readable"===r._state&&(ef(e),tW(e),t3(r,t))}function tU(e){let t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function tN(e){let t=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===t}function tH(e,t,r,i,n,o,s){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,ef(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=s,t._strategyHWM=o,t._pullAlgorithm=i,t._cancelAlgorithm=n,e._readableStreamController=t,p(c(r()),()=>(t._started=!0,tq(t),null),e=>(tz(t,e),null))}function tY(e){return TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function tG(e,t){B(e,t);let r=null==e?void 0:e.preventAbort,i=null==e?void 0:e.preventCancel,n=null==e?void 0:e.preventClose,o=null==e?void 0:e.signal;return void 0!==o&&function(e,t){if(!function(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}(e))throw TypeError(`${t} is not an AbortSignal.`)}(o,`${t} has member 'signal' that`),{preventAbort:!!r,preventCancel:!!i,preventClose:!!n,signal:o}}Object.defineProperties(tV.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),s(tV.prototype.close,"close"),s(tV.prototype.enqueue,"enqueue"),s(tV.prototype.error,"error"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(tV.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class tX{constructor(e={},t={}){void 0===e?e=null:V(e,"First parameter");let r=e2(t,"Second parameter"),i=function(e,t){B(e,t);let r=null==e?void 0:e.autoAllocateChunkSize,i=null==e?void 0:e.cancel,n=null==e?void 0:e.pull,o=null==e?void 0:e.start,s=null==e?void 0:e.type;return{autoAllocateChunkSize:void 0===r?void 0:W(r,`${t} has member 'autoAllocateChunkSize' that`),cancel:void 0===i?void 0:(O(i,`${t} has member 'cancel' that`),t=>b(i,e,[t])),pull:void 0===n?void 0:(O(n,`${t} has member 'pull' that`),t=>b(n,e,[t])),start:void 0===o?void 0:(O(o,`${t} has member 'start' that`),t=>g(o,e,[t])),type:void 0===s?void 0:function(e,t){if("bytes"!=(e=`${e}`))throw TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}(s,`${t} has member 'type' that`)}}(e,"First parameter");if(tQ(this),"bytes"===i.type){if(void 0!==r.size)throw RangeError("The strategy for a byte stream cannot have a size function");!function(e,t,r){let i,n,o;let s=Object.create(eg.prototype);i=void 0!==t.start?()=>t.start(s):()=>void 0,n=void 0!==t.pull?()=>t.pull(s):()=>c(void 0),o=void 0!==t.cancel?e=>t.cancel(e):()=>c(void 0);let a=t.autoAllocateChunkSize;if(0===a)throw TypeError("autoAllocateChunkSize must be greater than 0");ez(e,s,i,n,o,r,a)}(this,i,e0(r,0))}else{let e=e1(r);!function(e,t,r,i){let n,o;let s=Object.create(tV.prototype);n=void 0!==t.start?()=>t.start(s):()=>void 0,o=void 0!==t.pull?()=>t.pull(s):()=>c(void 0),tH(e,s,n,o,void 0!==t.cancel?e=>t.cancel(e):()=>c(void 0),r,i)}(this,i,e0(r,1),e)}}get locked(){if(!tJ(this))throw t5("locked");return t0(this)}cancel(e){return tJ(this)?t0(this)?u(TypeError("Cannot cancel a stream that already has a reader")):t1(this,e):u(t5("cancel"))}getReader(e){if(!tJ(this))throw t5("getReader");return void 0===function(e,t){B(e,t);let r=null==e?void 0:e.mode;return{mode:void 0===r?void 0:function(e,t){if("byob"!=(e=`${e}`))throw TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}(r,`${t} has member 'mode' that`)}}(e,"First parameter").mode?I(this):new eX(this)}pipeThrough(e,t={}){if(!tJ(this))throw t5("pipeThrough");D(e,1,"pipeThrough");let r=function(e,t){B(e,t);let r=null==e?void 0:e.readable;q(r,"readable","ReadableWritablePair"),$(r,`${t} has member 'readable' that`);let i=null==e?void 0:e.writable;return q(i,"writable","ReadableWritablePair"),e3(i,`${t} has member 'writable' that`),{readable:r,writable:i}}(e,"First parameter"),i=tG(t,"Second parameter");if(t0(this))throw TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(e6(r.writable))throw TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return m(tO(this,r.writable,i.preventClose,i.preventAbort,i.preventCancel,i.signal)),r.readable}pipeTo(e,t={}){let r;if(!tJ(this))return u(t5("pipeTo"));if(void 0===e)return u("Parameter 1 is required in 'pipeTo'.");if(!e9(e))return u(TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));try{r=tG(t,"Second parameter")}catch(e){return u(e)}return t0(this)?u(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):e6(e)?u(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):tO(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)}tee(){if(!tJ(this))throw t5("tee");let e=eb(this._readableStreamController)?function(e){let t,r,i,n,o,s=I(e),a=!1,l=!1,u=!1,d=!1,p=!1,m=h(e=>{o=e});function g(e){f(e._closedPromise,t=>(e!==s||(eD(i._readableStreamController,t),eD(n._readableStreamController,t),d&&p||o(void 0)),null))}function b(){eK(s)&&(R(s),g(s=I(e))),X(s,{_chunkSteps:t=>{y(()=>{l=!1,u=!1;let r=t;if(!d&&!p)try{r=ec(t)}catch(t){eD(i._readableStreamController,t),eD(n._readableStreamController,t),o(t1(e,t));return}d||eV(i._readableStreamController,t),p||eV(n._readableStreamController,r),a=!1,l?w():u&&_()})},_closeSteps:()=>{a=!1,d||eO(i._readableStreamController),p||eO(n._readableStreamController),i._readableStreamController._pendingPullIntos.length>0&&e$(i._readableStreamController,0),n._readableStreamController._pendingPullIntos.length>0&&e$(n._readableStreamController,0),d&&p||o(void 0)},_errorSteps:()=>{a=!1}})}function v(t,r){G(s)&&(R(s),g(s=new eX(e)));let h=r?n:i,c=r?i:n;eZ(s,t,1,{_chunkSteps:t=>{y(()=>{l=!1,u=!1;let i=r?p:d;if(r?d:p)i||eI(h._readableStreamController,t);else{let r;try{r=ec(t)}catch(t){eD(h._readableStreamController,t),eD(c._readableStreamController,t),o(t1(e,t));return}i||eI(h._readableStreamController,t),eV(c._readableStreamController,r)}a=!1,l?w():u&&_()})},_closeSteps:e=>{a=!1;let t=r?p:d,i=r?d:p;t||eO(h._readableStreamController),i||eO(c._readableStreamController),void 0!==e&&(t||eI(h._readableStreamController,e),!i&&c._readableStreamController._pendingPullIntos.length>0&&e$(c._readableStreamController,0)),t&&i||o(void 0)},_errorSteps:()=>{a=!1}})}function w(){if(a)return l=!0,c(void 0);a=!0;let e=eF(i._readableStreamController);return null===e?b():v(e._view,!1),c(void 0)}function _(){if(a)return u=!0,c(void 0);a=!0;let e=eF(n._readableStreamController);return null===e?b():v(e._view,!0),c(void 0)}function S(){}return i=tZ(S,w,function(i){if(d=!0,t=i,p){let i=t1(e,en([t,r]));o(i)}return m}),n=tZ(S,_,function(i){if(p=!0,r=i,d){let i=t1(e,en([t,r]));o(i)}return m}),g(s),[i,n]}(this):function(e,t){let r,i,n,o,s;let a=I(e),l=!1,u=!1,d=!1,p=!1,m=h(e=>{s=e});function g(){return l?u=!0:(l=!0,X(a,{_chunkSteps:e=>{y(()=>{u=!1,d||tI(n._readableStreamController,e),p||tI(o._readableStreamController,e),l=!1,u&&g()})},_closeSteps:()=>{l=!1,d||t$(n._readableStreamController),p||t$(o._readableStreamController),d&&p||s(void 0)},_errorSteps:()=>{l=!1}})),c(void 0)}function b(){}return n=tK(b,g,function(t){if(d=!0,r=t,p){let t=t1(e,en([r,i]));s(t)}return m}),o=tK(b,g,function(t){if(p=!0,i=t,d){let t=t1(e,en([r,i]));s(t)}return m}),f(a._closedPromise,e=>(tz(n._readableStreamController,e),tz(o._readableStreamController,e),d&&p||s(void 0),null)),[n,o]}(this);return en(e)}values(e){if(!tJ(this))throw t5("values");return function(e,t){let r=new J(I(e),t),i=Object.create(ee);return i._asyncIteratorImpl=r,i}(this,(B(e,"First parameter"),{preventCancel:!!(null==e?void 0:e.preventCancel)}).preventCancel)}[eh](e){return this.values(e)}static from(e){var t;let r;return o(e)&&void 0!==e.getReader?(t=e.getReader(),r=tK(n,function(){let e;try{e=t.read()}catch(e){return u(e)}return d(e,e=>{if(!o(e))throw TypeError("The promise returned by the reader.read() method must fulfill with an object");if(e.done)t$(r._readableStreamController);else{let t=e.value;tI(r._readableStreamController,t)}},void 0)},function(e){try{return c(t.cancel(e))}catch(e){return u(e)}},0)):function(e){let t;let r=function e(t,r="sync",i){if(void 0===i){if("async"===r){if(void 0===(i=eu(t,eh))){let r=eu(t,Symbol.iterator);return function(e){let t={[Symbol.iterator]:()=>e.iterator},r=async function*(){return yield*t}(),i=r.next;return{iterator:r,nextMethod:i,done:!1}}(e(t,"sync",r))}}else i=eu(t,Symbol.iterator)}if(void 0===i)throw TypeError("The object is not iterable");let n=g(i,t,[]);if(!o(n))throw TypeError("The iterator method must return an object");let s=n.next;return{iterator:n,nextMethod:s,done:!1}}(e,"async");return t=tK(n,function(){let e;try{e=function(e){let t=g(e.nextMethod,e.iterator,[]);if(!o(t))throw TypeError("The iterator.next() method must return an object");return t}(r)}catch(e){return u(e)}return d(c(e),e=>{if(!o(e))throw TypeError("The promise returned by the iterator.next() method must fulfill with an object");if(e.done)t$(t._readableStreamController);else{let r=e.value;tI(t._readableStreamController,r)}},void 0)},function(e){let t,i;let n=r.iterator;try{t=eu(n,"return")}catch(e){return u(e)}if(void 0===t)return c(void 0);try{i=g(t,n,[e])}catch(e){return u(e)}return d(c(i),e=>{if(!o(e))throw TypeError("The promise returned by the iterator.return() method must fulfill with an object")},void 0)},0)}(e)}}function tK(e,t,r,i=1,n=()=>1){let o=Object.create(tX.prototype);return tQ(o),tH(o,Object.create(tV.prototype),e,t,r,i,n),o}function tZ(e,t,r){let i=Object.create(tX.prototype);return tQ(i),ez(i,Object.create(eg.prototype),e,t,r,0,void 0),i}function tQ(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function tJ(e){return!!(o(e)&&Object.prototype.hasOwnProperty.call(e,"_readableStreamController"))&&e instanceof tX}function t0(e){return void 0!==e._reader}function t1(e,t){if(e._disturbed=!0,"closed"===e._state)return c(void 0);if("errored"===e._state)return u(e._storedError);t2(e);let r=e._reader;if(void 0!==r&&eK(r)){let e=r._readIntoRequests;r._readIntoRequests=new v,e.forEach(e=>{e._closeSteps(void 0)})}return d(e._readableStreamController[S](t),n,void 0)}function t2(e){e._state="closed";let t=e._reader;if(void 0!==t&&(j(t),G(t))){let e=t._readRequests;t._readRequests=new v,e.forEach(e=>{e._closeSteps()})}}function t3(e,t){e._state="errored",e._storedError=t;let r=e._reader;void 0!==r&&(k(r,t),G(r)?K(r,t):eQ(r,t))}function t5(e){return TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function t4(e,t){B(e,t);let r=null==e?void 0:e.highWaterMark;return q(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:F(r)}}Object.defineProperties(tX,{from:{enumerable:!0}}),Object.defineProperties(tX.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),s(tX.from,"from"),s(tX.prototype.cancel,"cancel"),s(tX.prototype.getReader,"getReader"),s(tX.prototype.pipeThrough,"pipeThrough"),s(tX.prototype.pipeTo,"pipeTo"),s(tX.prototype.tee,"tee"),s(tX.prototype.values,"values"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(tX.prototype,Symbol.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(tX.prototype,eh,{value:tX.prototype.values,writable:!0,configurable:!0});let t7=e=>e.byteLength;s(t7,"size");class t9{constructor(e){D(e,1,"ByteLengthQueuingStrategy"),e=t4(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!t8(this))throw t6("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!t8(this))throw t6("size");return t7}}function t6(e){return TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function t8(e){return!!(o(e)&&Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark"))&&e instanceof t9}Object.defineProperties(t9.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(t9.prototype,Symbol.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});let re=()=>1;s(re,"size");class rt{constructor(e){D(e,1,"CountQueuingStrategy"),e=t4(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!ri(this))throw rr("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!ri(this))throw rr("size");return re}}function rr(e){return TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function ri(e){return!!(o(e)&&Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark"))&&e instanceof rt}Object.defineProperties(rt.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(rt.prototype,Symbol.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class rn{constructor(e={},t={},r={}){let i;void 0===e&&(e=null);let n=e2(t,"Second parameter"),o=e2(r,"Third parameter"),s=function(e,t){B(e,t);let r=null==e?void 0:e.cancel,i=null==e?void 0:e.flush,n=null==e?void 0:e.readableType,o=null==e?void 0:e.start,s=null==e?void 0:e.transform,a=null==e?void 0:e.writableType;return{cancel:void 0===r?void 0:(O(r,`${t} has member 'cancel' that`),t=>b(r,e,[t])),flush:void 0===i?void 0:(O(i,`${t} has member 'flush' that`),t=>b(i,e,[t])),readableType:n,start:void 0===o?void 0:(O(o,`${t} has member 'start' that`),t=>g(o,e,[t])),transform:void 0===s?void 0:(O(s,`${t} has member 'transform' that`),(t,r)=>b(s,e,[t,r])),writableType:a}}(e,"First parameter");if(void 0!==s.readableType)throw RangeError("Invalid readableType specified");if(void 0!==s.writableType)throw RangeError("Invalid writableType specified");let a=e0(o,0),l=e1(o),f=e0(n,1),m=e1(n);(function(e,t,r,i,n,o){function s(){return t}e._writable=function(e,t,r,i,n=1,o=()=>1){let s=Object.create(e4.prototype);return e7(s),ty(s,Object.create(tf.prototype),e,t,r,i,n,o),s}(s,function(t){return function(e,t){let r=e._transformStreamController;return e._backpressure?d(e._backpressureChangePromise,()=>{let i=e._writable;if("erroring"===i._state)throw i._storedError;return rf(r,t)},void 0):rf(r,t)}(e,t)},function(){return function(e){let t=e._transformStreamController;if(void 0!==t._finishPromise)return t._finishPromise;let r=e._readable;t._finishPromise=h((e,r)=>{t._finishPromise_resolve=e,t._finishPromise_reject=r});let i=t._flushAlgorithm();return rd(t),p(i,()=>("errored"===r._state?rg(t,r._storedError):(t$(r._readableStreamController),ry(t)),null),e=>(tz(r._readableStreamController,e),rg(t,e),null)),t._finishPromise}(e)},function(t){return function(e,t){let r=e._transformStreamController;if(void 0!==r._finishPromise)return r._finishPromise;let i=e._readable;r._finishPromise=h((e,t)=>{r._finishPromise_resolve=e,r._finishPromise_reject=t});let n=r._cancelAlgorithm(t);return rd(r),p(n,()=>("errored"===i._state?rg(r,i._storedError):(tz(i._readableStreamController,t),ry(r)),null),e=>(tz(i._readableStreamController,e),rg(r,e),null)),r._finishPromise}(e,t)},r,i),e._readable=tK(s,function(){return ru(e,!1),e._backpressureChangePromise},function(t){return function(e,t){let r=e._transformStreamController;if(void 0!==r._finishPromise)return r._finishPromise;let i=e._writable;r._finishPromise=h((e,t)=>{r._finishPromise_resolve=e,r._finishPromise_reject=t});let n=r._cancelAlgorithm(t);return rd(r),p(n,()=>("errored"===i._state?rg(r,i._storedError):(tw(i._writableStreamController,t),rl(e),ry(r)),null),t=>(tw(i._writableStreamController,t),rl(e),rg(r,t),null)),r._finishPromise}(e,t)},n,o),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,ru(e,!0),e._transformStreamController=void 0})(this,h(e=>{i=e}),f,m,a,l),function(e,t){let r,i,n;let o=Object.create(rh.prototype);r=void 0!==t.transform?e=>t.transform(e,o):e=>{try{return rp(o,e),c(void 0)}catch(e){return u(e)}},i=void 0!==t.flush?()=>t.flush(o):()=>c(void 0),n=void 0!==t.cancel?e=>t.cancel(e):()=>c(void 0),o._controlledTransformStream=e,e._transformStreamController=o,o._transformAlgorithm=r,o._flushAlgorithm=i,o._cancelAlgorithm=n,o._finishPromise=void 0,o._finishPromise_resolve=void 0,o._finishPromise_reject=void 0}(this,s),void 0!==s.start?i(s.start(this._transformStreamController)):i(void 0)}get readable(){if(!ro(this))throw rb("readable");return this._readable}get writable(){if(!ro(this))throw rb("writable");return this._writable}}function ro(e){return!!(o(e)&&Object.prototype.hasOwnProperty.call(e,"_transformStreamController"))&&e instanceof rn}function rs(e,t){tz(e._readable._readableStreamController,t),ra(e,t)}function ra(e,t){rd(e._transformStreamController),tw(e._writable._writableStreamController,t),rl(e)}function rl(e){e._backpressure&&ru(e,!1)}function ru(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=h(t=>{e._backpressureChangePromise_resolve=t}),e._backpressure=t}Object.defineProperties(rn.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(rn.prototype,Symbol.toStringTag,{value:"TransformStream",configurable:!0});class rh{constructor(){throw TypeError("Illegal constructor")}get desiredSize(){if(!rc(this))throw rm("desiredSize");return tU(this._controlledTransformStream._readable._readableStreamController)}enqueue(e){if(!rc(this))throw rm("enqueue");rp(this,e)}error(e){if(!rc(this))throw rm("error");rs(this._controlledTransformStream,e)}terminate(){if(!rc(this))throw rm("terminate");(function(e){let t=e._controlledTransformStream;t$(t._readable._readableStreamController),ra(t,TypeError("TransformStream terminated"))})(this)}}function rc(e){return!!(o(e)&&Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream"))&&e instanceof rh}function rd(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0,e._cancelAlgorithm=void 0}function rp(e,t){let r=e._controlledTransformStream,i=r._readable._readableStreamController;if(!tN(i))throw TypeError("Readable side is not in a state that permits enqueue");try{tI(i,t)}catch(e){throw ra(r,e),r._readable._storedError}!tF(i)!==r._backpressure&&ru(r,!0)}function rf(e,t){return d(e._transformAlgorithm(t),void 0,t=>{throw rs(e._controlledTransformStream,t),t})}function rm(e){return TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function ry(e){void 0!==e._finishPromise_resolve&&(e._finishPromise_resolve(),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function rg(e,t){void 0!==e._finishPromise_reject&&(m(e._finishPromise),e._finishPromise_reject(t),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function rb(e){return TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}Object.defineProperties(rh.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),s(rh.prototype.enqueue,"enqueue"),s(rh.prototype.error,"error"),s(rh.prototype.terminate,"terminate"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(rh.prototype,Symbol.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),e.ByteLengthQueuingStrategy=t9,e.CountQueuingStrategy=rt,e.ReadableByteStreamController=eg,e.ReadableStream=tX,e.ReadableStreamBYOBReader=eX,e.ReadableStreamBYOBRequest=ey,e.ReadableStreamDefaultController=tV,e.ReadableStreamDefaultReader=Y,e.TransformStream=rn,e.TransformStreamDefaultController=rh,e.WritableStream=e4,e.WritableStreamDefaultController=tf,e.WritableStreamDefaultWriter=ta})(t)},41309:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var i=r(62740);r(76301);var n=r(57375),o=r(2193),s=r(78799);async function a({params:e}){let{lang:t}=await e,r=await (0,o.T)(t);return(0,i.jsxs)("div",{className:"relative mb-48",children:[(0,i.jsx)(s.default,{lang:t}),(0,i.jsx)(n.default,{t:r,lang:t})]})}a.propTypes={};let l=a},57375:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});let i=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/asset/projects/almale/almale-next/src/app/components/Gallery.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/asset/projects/almale/almale-next/src/app/components/Gallery.js","default")},78799:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});let i=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/asset/projects/almale/almale-next/src/app/components/VideoBook.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/asset/projects/almale/almale-next/src/app/components/VideoBook.js","default")},97154:(e,t,r)=>{if(!globalThis.ReadableStream)try{let e=r(1708),{emitWarning:t}=e;try{e.emitWarning=()=>{},Object.assign(globalThis,r(37830)),e.emitWarning=t}catch(r){throw e.emitWarning=t,r}}catch(e){Object.assign(globalThis,r(69003))}try{let{Blob:e}=r(79428);e&&!e.prototype.stream&&(e.prototype.stream=function(e){let t=0,r=this;return new ReadableStream({type:"bytes",async pull(e){let i=r.slice(t,Math.min(r.size,t+65536)),n=await i.arrayBuffer();t+=n.byteLength,e.enqueue(new Uint8Array(n)),t===r.size&&e.close()}})})}catch(e){}},21026:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var i=r(844);let n=class extends i.A{#e=0;#t="";constructor(e,t,r={}){if(arguments.length<2)throw TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(e,r),null===r&&(r={});let i=void 0===r.lastModified?Date.now():Number(r.lastModified);Number.isNaN(i)||(this.#e=i),this.#t=String(t)}get name(){return this.#t}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](e){return!!e&&e instanceof i.A&&/^(File)$/.test(e[Symbol.toStringTag])}}},8224:(e,t,r)=>{"use strict";r.d(t,{ZH:()=>o.A});var i=r(73024);r(76760);var n=r(41874),o=r(21026);r(844);let{stat:s}=i.promises;class a{#r;#i;constructor(e){this.#r=e.path,this.#i=e.start,this.size=e.size,this.lastModified=e.lastModified}slice(e,t){return new a({path:this.#r,lastModified:this.lastModified,size:t-e,start:this.#i+e})}async *stream(){let{mtimeMs:e}=await s(this.#r);if(e>this.lastModified)throw new n("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*(0,i.createReadStream)(this.#r,{start:this.#i,end:this.#i+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}},844:(e,t,r)=>{"use strict";async function*i(e,t=!0){for(let r of e)if("stream"in r)yield*r.stream();else if(ArrayBuffer.isView(r)){if(t){let e=r.byteOffset,t=r.byteOffset+r.byteLength;for(;e!==t;){let i=Math.min(t-e,65536),n=r.buffer.slice(e,e+i);e+=n.byteLength,yield new Uint8Array(n)}}else yield r}else{let e=0;for(;e!==r.size;){let t=r.slice(e,Math.min(r.size,e+65536)),i=await t.arrayBuffer();e+=i.byteLength,yield new Uint8Array(i)}}}r.d(t,{A:()=>o}),r(97154);let n=class e{#n=[];#o="";#s=0;#a="transparent";constructor(t=[],r={}){if("object"!=typeof t||null===t)throw TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if("function"!=typeof t[Symbol.iterator])throw TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if("object"!=typeof r&&"function"!=typeof r)throw TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");null===r&&(r={});let i=new TextEncoder;for(let r of t){let t;t=ArrayBuffer.isView(r)?new Uint8Array(r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)):r instanceof ArrayBuffer?new Uint8Array(r.slice(0)):r instanceof e?r:i.encode(`${r}`),this.#s+=ArrayBuffer.isView(t)?t.byteLength:t.size,this.#n.push(t)}this.#a=`${void 0===r.endings?"transparent":r.endings}`;let n=void 0===r.type?"":String(r.type);this.#o=/^[\x20-\x7E]*$/.test(n)?n:""}get size(){return this.#s}get type(){return this.#o}async text(){let e=new TextDecoder,t="";for await(let r of i(this.#n,!1))t+=e.decode(r,{stream:!0});return t+e.decode()}async arrayBuffer(){let e=new Uint8Array(this.size),t=0;for await(let r of i(this.#n,!1))e.set(r,t),t+=r.length;return e.buffer}stream(){let e=i(this.#n,!0);return new globalThis.ReadableStream({type:"bytes",async pull(t){let r=await e.next();r.done?t.close():t.enqueue(r.value)},async cancel(){await e.return()}})}slice(t=0,r=this.size,i=""){let{size:n}=this,o=t<0?Math.max(n+t,0):Math.min(t,n),s=r<0?Math.max(n+r,0):Math.min(r,n),a=Math.max(s-o,0),l=this.#n,u=[],h=0;for(let e of l){if(h>=a)break;let t=ArrayBuffer.isView(e)?e.byteLength:e.size;if(o&&t<=o)o-=t,s-=t;else{let r;ArrayBuffer.isView(e)?h+=(r=e.subarray(o,Math.min(t,s))).byteLength:h+=(r=e.slice(o,Math.min(t,s))).size,s-=t,u.push(r),o=0}}let c=new e([],{type:String(i).toLowerCase()});return c.#s=a,c.#n=u,c}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](e){return e&&"object"==typeof e&&"function"==typeof e.constructor&&("function"==typeof e.stream||"function"==typeof e.arrayBuffer)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}};Object.defineProperties(n.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});let o=n},95427:(e,t,r)=>{"use strict";r.d(t,{$n:()=>f,fS:()=>p});var i=r(844),n=r(21026),{toStringTag:o,iterator:s,hasInstance:a}=Symbol,l=Math.random,u="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),h=(e,t,r)=>(e+="",/^(Blob|File)$/.test(t&&t[o])?[(r=void 0!==r?r+"":"File"==t[o]?t.name:"blob",e),t.name!==r||"blob"==t[o]?new n.A([t],r,t):t]:[e,t+""]),c=(e,t)=>(t?e:e.replace(/\r?\n|\r/g,"\r\n")).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),d=(e,t,r)=>{if(t.length<r)throw TypeError(`Failed to execute '${e}' on 'FormData': ${r} arguments required, but only ${t.length} present.`)};let p=class{#l=[];constructor(...e){if(e.length)throw TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[o](){return"FormData"}[s](){return this.entries()}static[a](e){return e&&"object"==typeof e&&"FormData"===e[o]&&!u.some(t=>"function"!=typeof e[t])}append(...e){d("append",arguments,2),this.#l.push(h(...e))}delete(e){d("delete",arguments,1),e+="",this.#l=this.#l.filter(([t])=>t!==e)}get(e){d("get",arguments,1),e+="";for(var t=this.#l,r=t.length,i=0;i<r;i++)if(t[i][0]===e)return t[i][1];return null}getAll(e,t){return d("getAll",arguments,1),t=[],e+="",this.#l.forEach(r=>r[0]===e&&t.push(r[1])),t}has(e){return d("has",arguments,1),e+="",this.#l.some(t=>t[0]===e)}forEach(e,t){for(var[r,i]of(d("forEach",arguments,1),this))e.call(t,i,r,this)}set(...e){d("set",arguments,2);var t=[],r=!0;e=h(...e),this.#l.forEach(i=>{i[0]===e[0]?r&&(r=!t.push(e)):t.push(i)}),r&&t.push(e),this.#l=t}*entries(){yield*this.#l}*keys(){for(var[e]of this)yield e}*values(){for(var[,e]of this)yield e}};function f(e,t=i.A){var r=`${l()}${l()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),n=[],o=`--${r}\r
Content-Disposition: form-data; name="`;return e.forEach((e,t)=>"string"==typeof e?n.push(o+c(t)+`"\r
\r
${e.replace(/\r(?!\n)|(?<!\r)\n/g,"\r\n")}\r
`):n.push(o+c(t)+`"; filename="${c(e.name,1)}"\r
Content-Type: ${e.type||"application/octet-stream"}\r
\r
`,e,"\r\n")),n.push(`--${r}--`),new t(n,{type:"multipart/form-data; boundary="+r})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[5994,8410,4192,8403,627,7206,72],()=>r(44490));module.exports=i})();