(()=>{var e={};e.id=201,e.ids=[201],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},5146:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d}),a(2906),a(2025),a(5866);var t=a(3191),r=a(8716),l=a(7922),i=a.n(l),n=a(5231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);a.d(s,o);let d=["",{children:["[lang]",{children:["basket",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,2906)),"/home/asset/projects/almale/almale-next/src/app/[lang]/basket/page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,2025)),"/home/asset/projects/almale/almale-next/src/app/[lang]/layout.js"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/asset/projects/almale/almale-next/src/app/[lang]/basket/page.js"],m="/[lang]/basket/page",u={require:a,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/[lang]/basket/page",pathname:"/[lang]/basket",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9553:(e,s,a)=>{Promise.resolve().then(a.bind(a,7676))},5047:(e,s,a)=>{"use strict";var t=a(7389);a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}})},7676:(e,s,a)=>{"use strict";a.d(s,{default:()=>p});var t=a(326),r=a(7577),l=a(6226);let i=({options:e,name:s,selectedOption:a,onChange:r})=>t.jsx("div",{children:e.map(e=>(0,t.jsxs)("label",{className:"inline-flex items-center mb-2 border border-gray py-2 px-4 rounded-md mr-2",children:[t.jsx("input",{type:"radio",name:s,value:e.value,checked:a===e.value,onChange:e=>r(e.target.value),className:"form-radio h-4 w-4"}),t.jsx("span",{className:"ml-2",children:e.label})]},e.value))}),n=({type:e,name:s,value:a,onChange:r,className:l,placeholder:i,error:n,required:o})=>(0,t.jsxs)("div",{className:"input-group",children:[t.jsx("input",{type:e,id:s,name:s,value:a,onChange:({target:e})=>{r({name:e.name,value:e.value})},className:l,placeholder:i,required:o}),n?t.jsx("div",{className:"h-5 text-red text-sm",children:n}):t.jsx("div",{className:"h-5",children:" "})]});var o=a(7367),d=a(1858),c=a(8111),m=a(6857),u=a(5047);let p=({lang:e,t:s})=>{let a=(0,u.useRouter)(),p=(0,o.qr)(),x=(0,r.useRef)(!1);x.current||(p.dispatch((0,d.IT)()),p.dispatch((0,c.dw)()),x.current=!0);let h=(0,o.TL)(),{entity:b}=(0,o.CG)(e=>e.product),{error:g,auth:f,api:v,userId:j}=(0,o.CG)(e=>e.users),y=0===b.length?null:b[0],[N,k]=(0,r.useState)({name:"",email:"",mobile:"",street:"",city:"",postalCode:""}),[w,q]=(0,r.useState)({productId:"",quantity:1,deliveryPrice:0,total:0,userId:""}),[C,P]=(0,r.useState)({}),[_,S]=(0,r.useState)("Доставка по Казахстану"),[U,E]=(0,r.useState)(!1),[R,G]=(0,r.useState)(""),$=[{value:"Доставка по Казахстану",label:`${s.basket.deliveryLabel1}`},{value:"Доставка международная",label:`${s.basket.deliveryLabel2}`}],I=e=>{k(s=>({...s,[e.name]:e.value}))},T=()=>{"Доставка по Казахстану"===_?q({...w,deliveryPrice:m.C2[0].price}):q({...w,deliveryPrice:m.C2[1].price*w.quantity})};(0,r.useEffect)(()=>{T()},[_,w.quantity]);let A={name:{isRequired:{message:`${s.basket.errorName}`}},email:{isRequired:{message:`${s.basket.errorEmail}`}},mobile:{max:{message:`${s.basket.errorMobile}`,value:20},isContainDigit:{message:`${s.basket.errorMobileCount}`}}};(0,r.useEffect)(()=>{z()},[N]);let z=()=>{let e=function(e,s){let a={};for(let t in e)for(let r in s[t]){let l=function(e,s,a){let t;switch(e){case"isRequired":t="boolean"==typeof s?!s:""===s.trim();break;case"isEmail":t=!/^\S+@\S+\.\S+$/g.test(s);break;case"isCapitalSymbol":t=!/[A-Z]+/g.test(s);break;case"isContainDigit":t=!/\d+/g.test(s);break;case"min":t=s.length<a.value;break;case"max":t=s.length>a.value}if(t)return a.message}(r,e[t],s[t][r]);l&&!a[t]&&(a[t]=l)}return a}(N,A);return P(e),0===Object.keys(e).length},D=0===Object.keys(C).length,L=()=>E(!0),K=()=>E(!1);return(0,r.useEffect)(()=>{h((0,c.kG)({id:j}))},[f]),t.jsx("div",{className:"container mx-auto p-4  py-20",children:(0,t.jsxs)("div",{className:"flex flex-col lg:grid lg:grid-cols-2 gap-5 md:gap-10 xl:px-40",children:[(0,t.jsxs)("div",{className:"w-full flex flex-col",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[t.jsx("h1",{className:"w-full text-2xl font-bold mb-6",children:s.basket.head}),t.jsx("div",{className:"mb-6 flex flex-row",children:(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsxs)("div",{className:"flex flex-row gap-2 items-center bg-azure p-2",children:[t.jsx("div",{className:"block",children:y&&t.jsx(l.default,{src:y?.imageUrl,width:100,height:100,alt:"alma-le"})}),t.jsx("p",{className:"flex font-bold px-1 col-span-2",children:y?.name}),t.jsx("input",{name:"quantity",type:"number",className:"w-10 text-center border border-gray-300 focus:outline-none",value:Number(w.quantity),onChange:({target:e})=>{q(s=>({...s,[e.name]:e.value}))},min:"1"}),(0,t.jsxs)("p",{className:"ml-2 font-bold px-1",children:[y?.price," ",t.jsx("span",{className:"pl-2",children:"en"!==e?"тг":"t"})]})]}),(0,t.jsxs)("div",{className:"flex flex-row justify-between my-5",children:[t.jsx("p",{className:"font-bold",children:s.basket.delivery}),(0,t.jsxs)("p",{children:[w.deliveryPrice,t.jsx("span",{className:"pl-2",children:"en"!==e?"тг":"t"})]})]})]})})]}),(0,t.jsxs)("div",{className:"flex flex-row justify-between my-1 bottom-0",children:[t.jsx("p",{className:"font-bold text-lg",children:s.basket.total}),(0,t.jsxs)("p",{className:"font-bold",children:[w.quantity*y?.price+w.deliveryPrice,(0,t.jsxs)("span",{className:"pl-2",children:[" ","en"!==e?"тг":"t (KZ)"]})]})]})]}),t.jsx("div",{className:"flex",children:(0,t.jsxs)("div",{className:"w-full",children:[t.jsx("h2",{className:"text-2xl font-semibold mb-4",children:s.basket.delivery}),(0,t.jsxs)("div",{className:"flex flex-col",children:[t.jsx("div",{className:"flex flex-row",children:t.jsx(i,{options:$,name:"options",selectedOption:_,onChange:e=>{S(e)}})}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),z()&&(h((0,c.y1)({name:N.name,email:N.email})),L())},children:[(0,t.jsxs)("div",{className:"mb-2",children:[t.jsx("label",{className:"block",children:s.basket.name}),t.jsx(n,{type:"text",name:"name",value:N.name,onChange:I,className:"w-full p-2 border border-gray",placeholder:"Нұрсултан Нұрсултан-ұлы",required:!0,error:C.name})]}),(0,t.jsxs)("div",{className:"mb-2",children:[t.jsx("label",{className:"block",children:s.basket.email}),t.jsx(n,{type:"text",name:"email",value:N.email,onChange:I,className:"w-full p-2 border border-gray",placeholder:"email",error:C.email})]}),(0,t.jsxs)("div",{className:"mb-2",children:[t.jsx("label",{className:"block",children:s.basket.phone}),t.jsx(n,{type:"text",name:"mobile",value:N.mobile,onChange:I,className:"w-full p-2 border border-gray",placeholder:"+77011234567",error:C.mobile})]}),(0,t.jsxs)("div",{className:"mb-2",children:[t.jsx("label",{className:"block",children:s.basket.address}),t.jsx(n,{type:"text",name:"street",value:N.street,onChange:I,className:"w-full p-2 border border-gray",placeholder:"ул. Пушкина, дом 10, кв 28",error:C.street})]}),(0,t.jsxs)("div",{className:"mb-2",children:[t.jsx("label",{className:"block",children:s.basket.city}),t.jsx(n,{type:"text",name:"city",value:N.city,onChange:I,className:"w-full p-2 border border-gray",placeholder:"Астана",error:C.city})]}),(0,t.jsxs)("div",{className:"mb-2",children:[t.jsx("label",{className:"block",children:s.basket.postIndex}),t.jsx(n,{type:"text",name:"postalCode",value:N.postalCode,onChange:I,className:"w-full p-2 border border-gray",placeholder:"101000",error:C.postalCode})]}),t.jsx("div",{className:"flex flex-row justify-end",children:t.jsx("button",{type:"submit",className:"bg-green text-white py-2 px-4 rounded-md hover:bg-green-light",disabled:!D,children:s.basket.button})})]})]})]})}),U&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md w-full",children:[t.jsx("h2",{className:"text-xl font-bold mb-4",children:s.basket.head2}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),h((0,c.Zu)({...N,code:R})),G(""),K()},children:[t.jsx("input",{type:"number",value:R,onChange:e=>{G(e.target.value)},className:"border border-gray-300 p-2 w-full mb-4",placeholder:"Введите код"}),(0,t.jsxs)("div",{className:"flex justify-end",children:[t.jsx("button",{type:"button",className:"border px-4 py-2 rounded-md mr-2 hover:bg-green-light hover:text-white",onClick:K,children:s.basket.buttonClose}),t.jsx("button",{type:"submit",className:"bg-green text-white px-4 py-2 rounded-md hover:bg-green-light",children:s.basket.buttonSend})]})]})]})}),"Unauthorize"===g&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md w-full",children:[t.jsx("h2",{className:"text-xl font-bold mb-4",children:s.basket.headVerif}),t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{type:"button",className:"border px-4 py-2 rounded-md mr-2 hover:bg-green-light hover:text-white",onClick:()=>h((0,c.sd)()),children:s.basket.buttonVerifyClose})})]})}),!0===f&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white md:px-6 m-2 py-6 rounded-lg shadow-lg max-w-md w-full text-center",children:[(0,t.jsxs)("div",{className:"flex flex-cols w-full items-center",children:[t.jsx("h2",{className:"text-xl font-bold mb-4 mx-auto",children:s.basket.headKaspi}),t.jsx("div",{className:"flex w-20 h-20 bg-[url('/img/kaspi.png')] bg-contain bg-no-repeat mx-auto"})]}),(0,t.jsxs)("div",{className:"flex justify-center",children:[t.jsx("button",{className:"border px-4 py-2 rounded-md mr-2 hover:bg-green-light hover:text-white",onClick:()=>{h((0,c.pu)())},children:s.basket.buttonKaspiBack}),t.jsx("button",{onClick:s=>{s.preventDefault();let t=w.quantity*y.price+w.deliveryPrice;h((0,d.vE)({...w,total:t,productId:y._id,userId:j})),window.open(`${v}`),h((0,c.pu)()),a.push(`/${e}/#production`)},className:"border px-4 py-2 rounded-md mr-2 hover:bg-green-light hover:text-white",children:s.basket.buttonToKaspi})]})]})})]})})}},7367:(e,s,a)=>{"use strict";a.d(s,{CG:()=>l,TL:()=>r,qr:()=>i});var t=a(5842);let r=t.I0.withTypes(),l=t.v9.withTypes(),i=t.oR.withTypes()},6857:(e,s,a)=>{"use strict";a.d(s,{C2:()=>i,ZU:()=>r,xn:()=>l});let t=[{id:1,name:"Аида",phone:"87756999475"},{id:2,name:"Фарида",phone:"87756989567"},{id:3,name:"Бандит",phone:"87756879475"},{id:4,name:"Глобус",phone:"87626999475"}],r=[{id:1,name:"Braun Depiero",buyer:t[0],profession:"chef",imageUrl:"/img/shef3.jpg",message:"I am delighted with the quality of Alma Le cookware!"},{id:2,name:"Федерико",buyer:t[1],profession:"шеф-повар",imageUrl:"/img/shef1.jpeg",message:"Я в восторге от качества посуды Alma Le"},{id:3,name:"Ernesto Kabale",buyer:t[2],profession:"шеф-повар",imageUrl:"/img/shef2.png",message:"Эта посуда нечто к хорошему привыкаешь быстро"}],l=[{id:1,name:"Индукционная плита",imageUrl:"/img/haracter/1.svg"},{id:2,name:"Газовая плита",imageUrl:"/img/haracter/2.svg"},{id:3,name:"Электрическая плита",imageUrl:"/img/haracter/3.svg"},{id:4,name:"Керамическая плита",imageUrl:"/img/haracter/4.svg"},{id:5,name:"Галогенная плита",imageUrl:"/img/haracter/5.svg"},{id:6,name:"Посудомоечная машина",imageUrl:"/img/haracter/6.svg"}],i=[{id:1,price:0},{id:2,price:2e4}]},2906:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>i});var t=a(9510);a(1159);let r=(0,a(8570).createProxy)(String.raw`/home/asset/projects/almale/almale-next/src/app/components/Basket.js#default`);var l=a(7026);let i=async({params:{lang:e}})=>{let s=await (0,l.R)(e);return t.jsx(r,{lang:e,t:s})}}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[948,471,320,941],()=>a(5146));module.exports=t})();