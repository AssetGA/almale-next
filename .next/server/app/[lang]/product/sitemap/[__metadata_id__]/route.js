"use strict";(()=>{var e={};e.id=629,e.ids=[629],e.modules={10846:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},44870:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79428:e=>{e.exports=require("buffer")},73566:e=>{e.exports=require("worker_threads")},4573:e=>{e.exports=require("node:buffer")},73024:e=>{e.exports=require("node:fs")},37067:e=>{e.exports=require("node:http")},44708:e=>{e.exports=require("node:https")},77030:e=>{e.exports=require("node:net")},76760:e=>{e.exports=require("node:path")},1708:e=>{e.exports=require("node:process")},57075:e=>{e.exports=require("node:stream")},37830:e=>{e.exports=require("node:stream/web")},73136:e=>{e.exports=require("node:url")},57975:e=>{e.exports=require("node:util")},38522:e=>{e.exports=require("node:zlib")},59282:(e,t,r)=>{r.r(t),r.d(t,{patchFetch:()=>x,routeModule:()=>y,serverHooks:()=>b,workAsyncStorage:()=>_,workUnitAsyncStorage:()=>w});var o={};r.r(o),r.d(o,{default:()=>p,generateSitemaps:()=>c});var n={};r.r(n),r.d(n,{GET:()=>v,generateStaticParams:()=>h});var i=r(42706),a=r(28203),l=r(45994),s=r(39187),d=r(23798);let u=["en","ru","kz"];async function c(){let e=[];return await Promise.all(u.map(async t=>{let r=await (0,d.fetchProducts)(t);if(0===r.length){console.warn(`No products found for language: ${t}`);return}r.filter(e=>"675a1528abab837f85c2555c"===e._id||"674a3cf6deec0f0dd2b22010"===e._id).forEach(r=>{e.push({lang:t,id:r._id})})})),e}async function p({lang:e,id:t}){let r=(await (0,d.fetchProducts)(e)).find(e=>"675a1528abab837f85c2555c"===e._id||"674a3cf6deec0f0dd2b22010"===e._id);return{url:`http://localhost:3000/${e}/product/${r._id}`,lastModified:r.date?new Date(product.date).toISOString():new Date().toISOString()}}var f=r(13192);let m={...o},g=m.default;if("function"!=typeof g)throw Error('Default export is missing in "/home/asset/projects/almale/almale-next/src/app/[lang]/product/sitemap.js"');async function v(e,t){let{__metadata_id__:r,...o}=await t.params||{},n=!!r&&r.endsWith(".xml");if(r&&!n)return new s.NextResponse("Not Found",{status:404});let i=r&&n?r.slice(0,-4):void 0,a=await g({id:i}),l=(0,f.resolveRouteData)(a,"sitemap");return new s.NextResponse(l,{headers:{"Content-Type":"application/xml","Cache-Control":"public, max-age=0, must-revalidate"}})}async function h(){let e=await m.generateSitemaps(),t=[];for(let r of e)t.push({__metadata_id__:r.id.toString()+".xml"});return t}let y=new i.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/[lang]/product/sitemap/[__metadata_id__]/route",pathname:"/[lang]/product/sitemap/[__metadata_id__]",filename:"sitemap",bundlePath:"app/[lang]/product/sitemap/[__metadata_id__]/route"},resolvedPagePath:"next-metadata-route-loader?filePath=%2Fhome%2Fasset%2Fprojects%2Falmale%2Falmale-next%2Fsrc%2Fapp%2F%5Blang%5D%2Fproduct%2Fsitemap.js&isDynamicRouteExtension=1!?__next_metadata_route__",nextConfigOutput:"standalone",userland:n}),{workAsyncStorage:_,workUnitAsyncStorage:w,serverHooks:b}=y;function x(){return(0,l.patchFetch)({workAsyncStorage:_,workUnitAsyncStorage:w})}},13192:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{resolveManifest:function(){return a},resolveRobots:function(){return n},resolveRouteData:function(){return l},resolveSitemap:function(){return i}});let o=r(90026);function n(e){let t="";for(let r of Array.isArray(e.rules)?e.rules:[e.rules]){for(let e of(0,o.resolveArray)(r.userAgent||["*"]))t+=`User-Agent: ${e}
`;if(r.allow)for(let e of(0,o.resolveArray)(r.allow))t+=`Allow: ${e}
`;if(r.disallow)for(let e of(0,o.resolveArray)(r.disallow))t+=`Disallow: ${e}
`;r.crawlDelay&&(t+=`Crawl-delay: ${r.crawlDelay}
`),t+="\n"}return e.host&&(t+=`Host: ${e.host}
`),e.sitemap&&(0,o.resolveArray)(e.sitemap).forEach(e=>{t+=`Sitemap: ${e}
`}),t}function i(e){let t=e.some(e=>Object.keys(e.alternates??{}).length>0),r=e.some(e=>{var t;return!!(null==(t=e.images)?void 0:t.length)}),o=e.some(e=>{var t;return!!(null==(t=e.videos)?void 0:t.length)}),n="";for(let s of(n+='<?xml version="1.0" encoding="UTF-8"?>\n',n+='<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"',r&&(n+=' xmlns:image="http://www.google.com/schemas/sitemap-image/1.1"'),o&&(n+=' xmlns:video="http://www.google.com/schemas/sitemap-video/1.1"'),t?n+=' xmlns:xhtml="http://www.w3.org/1999/xhtml">\n':n+=">\n",e)){var i,a,l;n+="<url>\n",n+=`<loc>${s.url}</loc>
`;let e=null==(i=s.alternates)?void 0:i.languages;if(e&&Object.keys(e).length)for(let t in e)n+=`<xhtml:link rel="alternate" hreflang="${t}" href="${e[t]}" />
`;if(null==(a=s.images)?void 0:a.length)for(let e of s.images)n+=`<image:image>
<image:loc>${e}</image:loc>
</image:image>
`;if(null==(l=s.videos)?void 0:l.length)for(let e of s.videos)n+=["<video:video>",`<video:title>${e.title}</video:title>`,`<video:thumbnail_loc>${e.thumbnail_loc}</video:thumbnail_loc>`,`<video:description>${e.description}</video:description>`,e.content_loc&&`<video:content_loc>${e.content_loc}</video:content_loc>`,e.player_loc&&`<video:player_loc>${e.player_loc}</video:player_loc>`,e.duration&&`<video:duration>${e.duration}</video:duration>`,e.view_count&&`<video:view_count>${e.view_count}</video:view_count>`,e.tag&&`<video:tag>${e.tag}</video:tag>`,e.rating&&`<video:rating>${e.rating}</video:rating>`,e.expiration_date&&`<video:expiration_date>${e.expiration_date}</video:expiration_date>`,e.publication_date&&`<video:publication_date>${e.publication_date}</video:publication_date>`,e.family_friendly&&`<video:family_friendly>${e.family_friendly}</video:family_friendly>`,e.requires_subscription&&`<video:requires_subscription>${e.requires_subscription}</video:requires_subscription>`,e.live&&`<video:live>${e.live}</video:live>`,e.restriction&&`<video:restriction relationship="${e.restriction.relationship}">${e.restriction.content}</video:restriction>`,e.platform&&`<video:platform relationship="${e.platform.relationship}">${e.platform.content}</video:platform>`,e.uploader&&`<video:uploader${e.uploader.info&&` info="${e.uploader.info}"`}>${e.uploader.content}</video:uploader>`,`</video:video>
`].filter(Boolean).join("\n");if(s.lastModified){let e=s.lastModified instanceof Date?s.lastModified.toISOString():s.lastModified;n+=`<lastmod>${e}</lastmod>
`}s.changeFrequency&&(n+=`<changefreq>${s.changeFrequency}</changefreq>
`),"number"==typeof s.priority&&(n+=`<priority>${s.priority}</priority>
`),n+="</url>\n"}return n+"</urlset>\n"}function a(e){return JSON.stringify(e)}function l(e,t){return"robots"===t?n(e):"sitemap"===t?i(e):"manifest"===t?a(e):""}},90026:(e,t)=>{function r(e){return Array.isArray(e)?e:[e]}function o(e){if(null!=e)return r(e)}function n(e){let t;if("string"==typeof e)try{t=(e=new URL(e)).origin}catch{}return t}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getOrigin:function(){return n},resolveArray:function(){return r},resolveAsArrayOrUndefined:function(){return o}})},24982:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{describeHasCheckingStringProperty:function(){return l},describeStringPropertyAccess:function(){return a},isRequestAPICallableInsideAfter:function(){return u},throwWithStaticGenerationBailoutError:function(){return s},throwWithStaticGenerationBailoutErrorWithDynamicError:function(){return d},wellKnownProperties:function(){return c}});let o=r(82312),n=r(3295),i=/^[A-Za-z_$][A-Za-z0-9_$]*$/;function a(e,t){return i.test(t)?`\`${e}.${t}\``:`\`${e}[${JSON.stringify(t)}]\``}function l(e,t){let r=JSON.stringify(t);return`\`Reflect.has(${e}, ${r})\`, \`${r} in ${e}\`, or similar`}function s(e,t){throw new o.StaticGenBailoutError(`Route ${e} couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`)}function d(e,t){throw new o.StaticGenBailoutError(`Route ${e} with \`dynamic = "error"\` couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`)}function u(){let e=n.afterTaskAsyncStorage.getStore();return(null==e?void 0:e.rootTaskSpawnPhase)==="action"}let c=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","valueOf","toLocaleString","then","catch","finally","status","displayName","toJSON","$$typeof","__esModule"])},62740:(e,t,r)=>{e.exports=r(70260).vendored["react-rsc"].ReactJsxRuntime},46760:(e,t,r)=>{e.exports=r(70260).vendored["react-rsc"].ReactServerDOMWebpackServerEdge},20614:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReflectAdapter",{enumerable:!0,get:function(){return r}});class r{static get(e,t,r){let o=Reflect.get(e,t,r);return"function"==typeof o?o.bind(e):o}static set(e,t,r,o){return Reflect.set(e,t,r,o)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},2193:(e,t,r)=>{r.d(t,{T:()=>n});let o={kz:()=>r.e(22).then(r.t.bind(r,40784,19)).then(e=>e.default),en:()=>r.e(154).then(r.t.bind(r,40154,19)).then(e=>e.default),ru:()=>r.e(608).then(r.t.bind(r,21608,19)).then(e=>e.default)},n=async e=>o[e]()},23798:(e,t,r)=>{r.r(t),r.d(t,{default:()=>c,fetchProducts:()=>d,generateMetadata:()=>s,generateStaticParams:()=>u,getServerSideProps:()=>l});var o=r(62740),n=r(90302),i=r(38547),a=r(2193);async function l({req:e}){let{pathname:t}=e,r=t.match(/^\/(kz|en|ru)(\/|$)/);return{props:{lang:r?r[1]:"kz"}}}async function s({params:e}){let{id:t,lang:r}=await e;console.log("lang id",r,t);let o=await d(r);console.log("products meta",o);let n=o.filter(e=>"675a1528abab837f85c2555c"!==e._id||"674a3cf6deec0f0dd2b22010"!==e._id).find(e=>e._id===t);return n?{title:`${n.title} - Alma Le`,description:n.descriptionMeta,keywords:n.keywords}:{title:"Product Not Found - Alma Le",description:"The product you are looking for could not be found.",keywords:"product, Alma Le, not found"}}async function d(e){try{let t=new URL("http://localhost:3000/lib/api/product");t.searchParams.append("lang",e);let r=await (0,n.Ay)(t.toString());if(!r.ok)throw Error("Ошибка при загрузке товаров");return await r.json()}catch(e){return console.error("Error fetching products:",e),[]}}async function u(){let e=[];for(let t of["en","ru","kz"]){let r=await d(t);if(0===r.length){console.warn(`No products found for language: ${t}`);continue}r.map(e=>e._id).forEach(r=>{e.push({lang:t,id:r})})}return e}async function c({params:e}){let{lang:t}=await e,r=await (0,a.T)(t);return(0,o.jsx)(i.default,{lang:t,t:r})}},38547:(e,t,r)=>{r.d(t,{default:()=>o});let o=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/asset/projects/almale/almale-next/src/app/components/ProductAbout.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/asset/projects/almale/almale-next/src/app/components/ProductAbout.jsx","default")}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[994,452,302],()=>r(59282));module.exports=o})();