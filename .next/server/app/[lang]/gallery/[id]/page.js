(()=>{var e={};e.id=7424,e.ids=[7424],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},79428:e=>{"use strict";e.exports=require("buffer")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},73566:e=>{"use strict";e.exports=require("worker_threads")},74075:e=>{"use strict";e.exports=require("zlib")},4573:e=>{"use strict";e.exports=require("node:buffer")},73024:e=>{"use strict";e.exports=require("node:fs")},37067:e=>{"use strict";e.exports=require("node:http")},44708:e=>{"use strict";e.exports=require("node:https")},77030:e=>{"use strict";e.exports=require("node:net")},76760:e=>{"use strict";e.exports=require("node:path")},1708:e=>{"use strict";e.exports=require("node:process")},57075:e=>{"use strict";e.exports=require("node:stream")},37830:e=>{"use strict";e.exports=require("node:stream/web")},73136:e=>{"use strict";e.exports=require("node:url")},57975:e=>{"use strict";e.exports=require("node:util")},38522:e=>{"use strict";e.exports=require("node:zlib")},23470:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=r(70260),i=r(28203),o=r(25155),l=r.n(o),a=r(67292),n={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>a[e]);r.d(t,n);let d=["",{children:["[lang]",{children:["gallery",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,47839)),"/home/asset/projects/almale/almale-next/src/app/[lang]/gallery/[id]/page.js"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,3740)),"/home/asset/projects/almale/almale-next/src/app/[lang]/layout.js"]}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"]}],c=["/home/asset/projects/almale/almale-next/src/app/[lang]/gallery/[id]/page.js"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/[lang]/gallery/[id]/page",pathname:"/[lang]/gallery/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},87097:(e,t,r)=>{Promise.resolve().then(r.bind(r,96365))},57721:(e,t,r)=>{Promise.resolve().then(r.bind(r,82150))},82150:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var s=r(45512),i=r(58009),o=r(35294),l=r(79334);function a(){let e=(0,l.useParams)(),t=(0,l.useRouter)();(0,o.jL)();let r=e?.id,a=(0,o.GV)(e=>e.video.entity),n=(0,o.GV)(e=>e.video.isLoading),d=(0,i.useMemo)(()=>a.findIndex(e=>e._id===r),[a,r]);console.log("curre",d);let c=a?.[d],u=e=>{e>=0&&e<a.length&&t.push(`/gallery/${a[e]._id}`)};return(0,s.jsxs)("div",{className:"relative flex flex-col items-center justify-center min-h-screen px-4 py-10 bg-black/30 text-white",children:[(0,s.jsx)("h1",{className:"text-3xl md:text-5xl font-bold mb-6 text-center",children:c?.title}),(0,s.jsxs)("div",{className:"grid grid-cols-2",children:[(0,s.jsx)("button",{className:"px-4 py-3 w-full hover:bg-gray-header hover:text-black/80 transition-all duration-1000",disabled:0===d,onClick:()=>u(d-1),children:"предыдущее"}),(0,s.jsx)("button",{className:"px-4 py-3 w-full hover:bg-gray-header hover:text-black/80 transition-all duration-1000",disabled:d===a.length-1,onClick:()=>u(d+1),children:"следующее"})]}),(0,s.jsx)("div",{className:"w-full max-w-5xl aspect-video rounded-xl overflow-hidden shadow-lg border border-white/10",children:n||!c?(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:"Загрузка..."}):"/"===c.videoUrl[0]?(0,s.jsxs)("video",{className:"w-full h-full object-contain",controls:!0,preload:"auto",poster:"/img/gallery/1.JPEG",children:[(0,s.jsx)("source",{src:c.videoUrl,type:"video/mp4"}),"Ваш браузер не поддерживает воспроизведение видео."]}):(0,s.jsx)("iframe",{width:"100%",height:"500",src:c.videoUrl,title:"YouTube video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),(0,s.jsx)("p",{className:"mt-6 text-lg text-gray-300 text-center max-w-2xl",children:c?.description})]})}r(69541)},47839:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,generateMetadata:()=>a});var s=r(62740);r(76301);var i=r(96365),o=r(2193),l=r(11899);async function a({params:e}){let{id:t,lang:r}=await e,s=await (0,l.fetchVideoById)(r,t);return s?s?{title:s.title,description:s.description,robots:{index:!0,follow:!0,maxVideoPreview:-1},openGraph:{title:s.title,description:s.description,type:"video.other",url:`${"http://localhost:3000/"+r}/gallery/${s.id}`,video:{url:`${"http://localhost:3000/"+r}/gallery/${s.id}`,width:1280,height:720}},twitter:{card:"player",title:s.title,description:s.description,player:`${"http://localhost:3000/"+r}/gallery/${s.id}`}}:(console.error(`❌ Ошибка: Товар с ID ${t} не найден`),{title:"Товар не найден | Alma Le",description:"Извините, этот товар недоступен."}):{}}let n=async function({params:e}){let{lang:t,id:r}=await e;return await (0,o.T)(t),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i.default,{})})}},11899:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let s=r(73264)._(r(90302));async function i(e){try{let t=new URL("http://localhost:3000/lib/api/video");t.searchParams.append("lang",e);let r=await (0,s.default)(t.href);if(!r.ok)throw Error("Ошибка при загрузке товаров");return await r.json()}catch(e){return console.error("Error fetching products:",e),[]}}async function o(e,t){try{let r=new URL("http://localhost:3000/lib/api/video");r.searchParams.append("lang",e);let i=await (0,s.default)(r.href,{headers:{"Content-Type":"application/json"}});if(!i.ok)throw Error("Ошибка при загрузке видео");return(await i.json()).find(e=>String(e._id)===String(t))??null}catch(e){return console.error("Ошибка при загрузке видео:",e),null}}e.exports={fetchVideo:i,fetchVideoById:o}},96365:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/asset/projects/almale/almale-next/src/app/components/VideoPage.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/asset/projects/almale/almale-next/src/app/components/VideoPage.js","default")}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[5994,8410,4192,8403,627,302,72],()=>r(23470));module.exports=s})();