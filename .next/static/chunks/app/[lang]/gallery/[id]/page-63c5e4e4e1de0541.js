(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[424],{5943:(e,t,r)=>{Promise.resolve().then(r.bind(r,3243))},6046:(e,t,r)=>{"use strict";var a=r(6658);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},3704:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return v},handleClientScriptLoad:function(){return m},initScriptLoader:function(){return h}});let a=r(306),n=r(9955),l=r(5155),i=a._(r(7650)),s=n._(r(2115)),o=r(1147),d=r(2815),c=r(8571),u=new Map,f=new Set,p=e=>{if(i.default.preinit){e.forEach(e=>{i.default.preinit(e,{as:"style"})});return}if("undefined"!=typeof window){let t=document.head;e.forEach(e=>{let r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.href=e,t.appendChild(r)})}},g=e=>{let{src:t,id:r,onLoad:a=()=>{},onReady:n=null,dangerouslySetInnerHTML:l,children:i="",strategy:s="afterInteractive",onError:o,stylesheets:c}=e,g=r||t;if(g&&f.has(g))return;if(u.has(t)){f.add(g),u.get(t).then(a,o);return}let m=()=>{n&&n(),f.add(g)},h=document.createElement("script"),y=new Promise((e,t)=>{h.addEventListener("load",function(t){e(),a&&a.call(this,t),m()}),h.addEventListener("error",function(e){t(e)})}).catch(function(e){o&&o(e)});l?(h.innerHTML=l.__html||"",m()):i?(h.textContent="string"==typeof i?i:Array.isArray(i)?i.join(""):"",m()):t&&(h.src=t,u.set(t,y)),(0,d.setAttributesFromProps)(h,e),"worker"===s&&h.setAttribute("type","text/partytown"),h.setAttribute("data-nscript",s),c&&p(c),document.body.appendChild(h)};function m(e){let{strategy:t="afterInteractive"}=e;"lazyOnload"===t?window.addEventListener("load",()=>{(0,c.requestIdleCallback)(()=>g(e))}):g(e)}function h(e){e.forEach(m),[...document.querySelectorAll('[data-nscript="beforeInteractive"]'),...document.querySelectorAll('[data-nscript="beforePageRender"]')].forEach(e=>{let t=e.id||e.getAttribute("src");f.add(t)})}function y(e){let{id:t,src:r="",onLoad:a=()=>{},onReady:n=null,strategy:d="afterInteractive",onError:u,stylesheets:p,...m}=e,{updateScripts:h,scripts:y,getIsSsr:v,appDir:x,nonce:b}=(0,s.useContext)(o.HeadManagerContext),w=(0,s.useRef)(!1);(0,s.useEffect)(()=>{let e=t||r;w.current||(n&&e&&f.has(e)&&n(),w.current=!0)},[n,t,r]);let _=(0,s.useRef)(!1);if((0,s.useEffect)(()=>{!_.current&&("afterInteractive"===d?g(e):"lazyOnload"===d&&("complete"===document.readyState?(0,c.requestIdleCallback)(()=>g(e)):window.addEventListener("load",()=>{(0,c.requestIdleCallback)(()=>g(e))})),_.current=!0)},[e,d]),("beforeInteractive"===d||"worker"===d)&&(h?(y[d]=(y[d]||[]).concat([{id:t,src:r,onLoad:a,onReady:n,onError:u,...m}]),h(y)):v&&v()?f.add(t||r):v&&!v()&&g(e)),x){if(p&&p.forEach(e=>{i.default.preinit(e,{as:"style"})}),"beforeInteractive"===d)return r?(i.default.preload(r,m.integrity?{as:"script",integrity:m.integrity,nonce:b,crossOrigin:m.crossOrigin}:{as:"script",nonce:b,crossOrigin:m.crossOrigin}),(0,l.jsx)("script",{nonce:b,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([r,{...m,id:t}])+")"}})):(m.dangerouslySetInnerHTML&&(m.children=m.dangerouslySetInnerHTML.__html,delete m.dangerouslySetInnerHTML),(0,l.jsx)("script",{nonce:b,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([0,{...m,id:t}])+")"}}));"afterInteractive"===d&&r&&i.default.preload(r,m.integrity?{as:"script",integrity:m.integrity,nonce:b,crossOrigin:m.crossOrigin}:{as:"script",nonce:b,crossOrigin:m.crossOrigin})}return null}Object.defineProperty(y,"__nextScript",{value:!0});let v=y;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2815:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"setAttributesFromProps",{enumerable:!0,get:function(){return l}});let r={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv",noModule:"noModule"},a=["onLoad","onReady","dangerouslySetInnerHTML","children","onError","strategy","stylesheets"];function n(e){return["async","defer","noModule"].includes(e)}function l(e,t){for(let[l,i]of Object.entries(t)){if(!t.hasOwnProperty(l)||a.includes(l)||void 0===i)continue;let s=r[l]||l.toLowerCase();"SCRIPT"===e.tagName&&n(s)?e[s]=!!i:e.setAttribute(s,String(i)),(!1===i||"SCRIPT"===e.tagName&&n(s)&&(!i||"false"===i))&&(e.setAttribute(s,""),e.removeAttribute(s))}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4713:(e,t,r)=>{"use strict";r.d(t,{default:()=>f,z:()=>u});var a=r(5155),n=r(2115),l=r(5565),i=r(1478),s=r(8173),o=r.n(s),d=r(3391),c=r(9709);let u=[{src:"/img/gallery/1.JPEG",altName:"Лудший подарок маме"},{src:"/img/gallery/2.JPEG",altName:"Подарок жене"},{src:"/img/set/1.png",altName:"Подарочный набор"},{src:"/img/gallery/3.JPEG",altName:"Подарок любимому человеку"},{src:"/img/gallery/4.JPEG",altName:"Подарок на свадьбу"},{src:"/img/gallery/6.JPEG",altName:"Подарок на той"},{src:"/img/gallery/7.JPEG",altName:"Медная посуда"},{src:"/img/gallery/8.JPEG",altName:"Набор медной посуды"},{src:"/img/gallery/9.JPEG",altName:"Лудщий подарок"},{src:"/img/gallery/10.JPEG",altName:"Здоровье семьи"},{src:"/img/gallery/11.JPEG",altName:"Медная сковорода"},{src:"/img/4-блок_Миссия.jpg",altName:"Медная сковорода"}],f=e=>{let{t,lang:r}=e,s=(0,n.useRef)([]);(0,n.useEffect)(()=>{s.current&&i.os.fromTo(s.current,{opacity:0,y:30},{opacity:1,y:0,duration:.8,stagger:.2,ease:"power3.out"})},[]);let f=(0,d.d4)((0,c.fY)()),p=u.map((e,t)=>{var r;return{...e,videoId:null===(r=f[t])||void 0===r?void 0:r._id}});return(0,a.jsx)("div",{className:"relative grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 p-6",children:p.map((e,n)=>(0,a.jsx)(o(),{href:"/".concat(r,"/gallery/").concat(e.videoId),className:"w-full max-h-72",children:(0,a.jsx)("div",{ref:e=>{e&&(s.current[n]=e)},className:"relative w-full h-64 overflow-hidden rounded-xl shadow-md",children:(0,a.jsx)(l.default,{src:e.src,alt:"".concat(""===e.altName?t.gallery.altInfo:e.altName),fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",className:"object-cover transition-transform duration-500 hover:scale-105 pointer"})})},n))})}},3243:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var a=r(5155),n=r(2115),l=r(7930),i=r(6046),s=r(9709),o=r(3704),d=r.n(o),c=r(4713);function u(){let e=(0,i.useParams)(),t=(0,i.useRouter)(),r=(0,l.jL)(),o=null==e?void 0:e.id,u=(0,l.GV)(e=>e.video.entity),f=(0,l.GV)(e=>e.video.isLoading),p=(0,n.useMemo)(()=>u.findIndex(e=>e._id===o),[u,o]);console.log("curre",p);let g=null==u?void 0:u[p],m=null===c.z||void 0===c.z?void 0:c.z[p];(0,n.useEffect)(()=>{u&&0!==u.length&&!g&&r((0,s.QG)(p))},[r,p,u]);let h=e=>{e>=0&&e<u.length&&t.push("/gallery/".concat(u[e]._id))};return(0,a.jsxs)("div",{className:"relative flex flex-col items-center justify-center min-h-screen px-4 py-10 bg-black/30 text-white",children:[(0,a.jsx)("h1",{className:"text-3xl md:text-5xl font-bold mb-6 text-center",children:null==g?void 0:g.title}),(0,a.jsxs)("div",{className:"grid grid-cols-2",children:[(0,a.jsx)("button",{className:"px-4 py-3 w-full hover:bg-gray-header hover:text-black/80 transition-all duration-1000",disabled:0===p,onClick:()=>h(p-1),children:"предыдущее"}),(0,a.jsx)("button",{className:"px-4 py-3 w-full hover:bg-gray-header hover:text-black/80 transition-all duration-1000",disabled:p===u.length-1,onClick:()=>h(p+1),children:"следующее"})]}),(0,a.jsx)("div",{className:"w-full max-w-5xl aspect-video rounded-xl overflow-hidden shadow-lg border border-white/10",children:f||!g?(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:"Загрузка..."}):"/"===g.videoUrl[0]?(0,a.jsxs)("video",{className:"w-full h-full object-contain",controls:!0,preload:"auto",poster:"/img/gallery/1.JPEG",children:[(0,a.jsx)("source",{src:g.videoUrl,type:"video/mp4"}),"Ваш браузер не поддерживает воспроизведение видео."]}):(0,a.jsx)("iframe",{width:"100%",height:"500",src:g.videoUrl,title:"YouTube video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),(0,a.jsx)("p",{className:"mt-6 text-lg text-gray-300 text-center max-w-2xl",children:null==g?void 0:g.description}),g&&(0,a.jsx)(d(),{id:"video-jsonld",type:"application/ld+json",strategy:"afterInteractive",dangerouslySetInnerHTML:{__html:JSON.stringify({"@context":"https://schema.org","@type":"VideoObject",name:g.title||"Видео",description:g.description||"Описание видео",thumbnailUrl:"".concat("http://localhost:3000").concat(m.src),uploadDate:g.createdAt?new Date(g.createdAt).toISOString():new Date().toISOString(),contentUrl:g.videoUrl,embedUrl:g.videoUrl.startsWith("http")?g.videoUrl:"".concat("http://localhost:3000").concat(g.videoUrl)})}})]})}},3425:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(2651),n=r(8373);let l=a.A.create({baseURL:"".concat("http://localhost:3000")});l.interceptors.response.use(e=>(n._0&&(e.data={content:function(e){return e&&!e._id?Object.keys(e).map(t=>({...e[t]})):e}(e.data)}),e.data={content:e.data},e),function(e){return e.response&&e.response.status>=400&&e.response.status<500||console.log("Something was wrong. Try it later",e),Promise.reject(e)});let i={get:l.get,post:l.post,put:l.put,delete:l.delete,patch:l.patch}},7930:(e,t,r)=>{"use strict";r.d(t,{CU:()=>i,GV:()=>l,jL:()=>n});var a=r(3391);let n=a.wA.withTypes(),l=a.d4.withTypes(),i=a.Pj.withTypes()},9709:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>m,QG:()=>p,fY:()=>g,Iv:()=>f});var a=r(9442),n=r(3425);let l={get:async e=>{let{data:t}=await n.A.get("/lib".concat("/api/video"),{params:e});return t}},{reducer:i,actions:s}=(0,a.Z0)({name:"video",initialState:{entity:[],isLoading:!1,error:null,dataLoaded:!1},reducers:{videoRequested:e=>{e.isLoading=!0},videoReceived:(e,t)=>{e.entity=t.payload,e.isLoading=!1,e.dataLoaded=!0},videoRequestFailed(e,t){e.isLoading=!1,e.error=t.payload},addVideo(e,t){e.videos.push(t.payload)}}}),{videoRequested:o,videoReceived:d,videoRequestFailed:c,fetchVideosFailure:u}=s,f=e=>async t=>{t(o());try{let{content:r}=await l.get(e);t(d(r))}catch(e){t(c(e.message))}},p=e=>t=>{var r;return(null===(r=t.video)||void 0===r?void 0:r.entity)?t.video.entity[e]:null},g=()=>e=>e.video.entity,m=i},8373:e=>{"use strict";e.exports={_0:!1}}},e=>{var t=t=>e(e.s=t);e.O(0,[592,173,565,391,651,478,442,441,898,358],()=>t(5943)),_N_E=e.O()}]);