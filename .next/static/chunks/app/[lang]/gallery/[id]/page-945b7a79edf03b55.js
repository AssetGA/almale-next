(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[424],{5943:(e,t,a)=>{Promise.resolve().then(a.bind(a,6339))},6046:(e,t,a)=>{"use strict";var r=a(6658);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})},6339:(e,t,a)=>{"use strict";a.d(t,{default:()=>d});var r=a(5155),s=a(2115),i=a(7930),l=a(6046),o=a(9709);function d(){let e=(0,l.useParams)(),t=(0,l.useRouter)(),a=(0,i.jL)(),d=null==e?void 0:e.id,n=(0,i.GV)(e=>e.video.entity),c=(0,i.GV)(e=>e.video.isLoading),u=(0,s.useMemo)(()=>n.findIndex(e=>e._id===d),[n,d]);console.log("curre",u);let h=null==n?void 0:n[u];(0,s.useEffect)(()=>{n&&0!==n.length&&!h&&a((0,o.QG)(u))},[a,u,n]);let p=e=>{e>=0&&e<n.length&&t.push("/gallery/".concat(n[e]._id))};return(0,r.jsxs)("div",{className:"relative flex flex-col items-center justify-center min-h-screen px-4 py-10 bg-black/30 text-white",children:[(0,r.jsx)("h1",{className:"text-3xl md:text-5xl font-bold mb-6 text-center",children:null==h?void 0:h.title}),(0,r.jsxs)("div",{className:"grid grid-cols-2",children:[(0,r.jsx)("button",{className:"px-4 py-3 w-full hover:bg-gray-header hover:text-black/80 transition-all duration-1000",disabled:0===u,onClick:()=>p(u-1),children:"предыдущее"}),(0,r.jsx)("button",{className:"px-4 py-3 w-full hover:bg-gray-header hover:text-black/80 transition-all duration-1000",disabled:u===n.length-1,onClick:()=>p(u+1),children:"следующее"})]}),(0,r.jsx)("div",{className:"w-full max-w-5xl aspect-video rounded-xl overflow-hidden shadow-lg border border-white/10",children:c||!h?(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:"Загрузка..."}):"/"===h.videoUrl[0]?(0,r.jsxs)("video",{className:"w-full h-full object-contain",controls:!0,preload:"auto",poster:"/img/gallery/1.JPEG",children:[(0,r.jsx)("source",{src:h.videoUrl,type:"video/mp4"}),"Ваш браузер не поддерживает воспроизведение видео."]}):(0,r.jsx)("iframe",{width:"100%",height:"500",src:h.videoUrl,title:"YouTube video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),(0,r.jsx)("p",{className:"mt-6 text-lg text-gray-300 text-center max-w-2xl",children:null==h?void 0:h.description})]})}},3425:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(2651),s=a(8373);let i=r.A.create({baseURL:"".concat("http://localhost:3000")});i.interceptors.response.use(e=>(s._0&&(e.data={content:function(e){return e&&!e._id?Object.keys(e).map(t=>({...e[t]})):e}(e.data)}),e.data={content:e.data},e),function(e){return e.response&&e.response.status>=400&&e.response.status<500||console.log("Something was wrong. Try it later",e),Promise.reject(e)});let l={get:i.get,post:i.post,put:i.put,delete:i.delete,patch:i.patch}},7930:(e,t,a)=>{"use strict";a.d(t,{CU:()=>l,GV:()=>i,jL:()=>s});var r=a(3391);let s=r.wA.withTypes(),i=r.d4.withTypes(),l=r.Pj.withTypes()},9709:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>m,QG:()=>p,fY:()=>v,Iv:()=>h});var r=a(9442),s=a(3425);let i={get:async e=>{let{data:t}=await s.A.get("/lib".concat("/api/video"),{params:e});return t}},{reducer:l,actions:o}=(0,r.Z0)({name:"video",initialState:{entity:[],isLoading:!1,error:null,dataLoaded:!1},reducers:{videoRequested:e=>{e.isLoading=!0},videoReceived:(e,t)=>{e.entity=t.payload,e.isLoading=!1,e.dataLoaded=!0},videoRequestFailed(e,t){e.isLoading=!1,e.error=t.payload},addVideo(e,t){e.videos.push(t.payload)}}}),{videoRequested:d,videoReceived:n,videoRequestFailed:c,fetchVideosFailure:u}=o,h=e=>async t=>{t(d());try{let{content:a}=await i.get(e);t(n(a))}catch(e){t(c(e.message))}},p=e=>t=>{var a;return(null===(a=t.video)||void 0===a?void 0:a.entity)?t.video.entity[e]:null},v=()=>e=>e.video.entity,m=l},8373:e=>{"use strict";e.exports={_0:!1}}},e=>{var t=t=>e(e.s=t);e.O(0,[391,651,442,441,898,358],()=>t(5943)),_N_E=e.O()}]);