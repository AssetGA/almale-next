(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[424],{5943:(e,t,a)=>{Promise.resolve().then(a.bind(a,6339))},6339:(e,t,a)=>{"use strict";a.d(t,{default:()=>d});var s=a(5155),i=a(2115),l=a(7930),r=a(6046),o=a(9709);function d(){let e=(0,r.useParams)(),t=(0,r.useRouter)(),a=(0,l.jL)(),d=(0,l.GV)(e=>e.video.entity),n=(0,l.GV)(e=>e.video.isLoading),[c,u]=(0,i.useState)(Number(e.id)),p=(0,i.useMemo)(()=>{let t=Number(e.id);return d.find((e,a)=>a===t)},[d,e.id]);(0,i.useEffect)(()=>{!p&&n&&a((0,o.QG)(c))},[a,c,p]);let h=e=>{e>=0&&e<d.length&&(u(e),t.push("/gallery/".concat(e)))};return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen px-4 py-10 bg-black/30 text-white",children:[(0,s.jsx)("h1",{className:"text-3xl md:text-5xl font-bold mb-6 text-center",children:null==p?void 0:p.title}),(0,s.jsxs)("div",{className:"grid grid-cols-2",children:[(0,s.jsx)("button",{className:"px-4 py-3 w-full hover:bg-gray-header hover:text-black/80 transition-all duration-1000",disabled:0===c,onClick:()=>h(c-1),children:"предыдущее"}),(0,s.jsx)("button",{className:"px-4 py-3 w-full hover:bg-gray-header hover:text-black/80 transition-all duration-1000",disabled:c===d.length-1,onClick:()=>h(c+1),children:"следующее"})]}),(0,s.jsx)("div",{className:"w-full max-w-5xl aspect-video rounded-xl overflow-hidden shadow-lg border border-white/10",children:n||!p?(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:"Загрузка..."}):"/"===p.videoUrl[0]?(0,s.jsxs)("video",{className:"w-full h-full object-contain",controls:!0,preload:"auto",poster:"/img/gallery/1.JPEG",children:[(0,s.jsx)("source",{src:p.videoUrl,type:"video/mp4"}),"Ваш браузер не поддерживает воспроизведение видео."]}):(0,s.jsx)("iframe",{width:"100%",height:"500",src:p.videoUrl,title:"YouTube video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),(0,s.jsx)("p",{className:"mt-6 text-lg text-gray-300 text-center max-w-2xl",children:null==p?void 0:p.description})]})}},3425:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(2651),i=a(8373);let l=s.A.create({baseURL:"".concat("http://localhost:3000")});l.interceptors.response.use(e=>(i._0&&(e.data={content:function(e){return e&&!e._id?Object.keys(e).map(t=>({...e[t]})):e}(e.data)}),e.data={content:e.data},e),function(e){return e.response&&e.response.status>=400&&e.response.status<500||console.log("Something was wrong. Try it later",e),Promise.reject(e)});let r={get:l.get,post:l.post,put:l.put,delete:l.delete,patch:l.patch}},7930:(e,t,a)=>{"use strict";a.d(t,{CU:()=>r,GV:()=>l,jL:()=>i});var s=a(3391);let i=s.wA.withTypes(),l=s.d4.withTypes(),r=s.Pj.withTypes()},9709:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>v,QG:()=>h,Iv:()=>p});var s=a(9442),i=a(3425);let l={get:async e=>{let{data:t}=await i.A.get("/lib".concat("/api/video"),{params:e});return t}},{reducer:r,actions:o}=(0,s.Z0)({name:"video",initialState:{entity:[],isLoading:!1,error:null,dataLoaded:!1},reducers:{videoRequested:e=>{e.isLoading=!0},videoReceived:(e,t)=>{e.entity=t.payload,e.isLoading=!1,e.dataLoaded=!0},videoRequestFailed(e,t){e.isLoading=!1,e.error=t.payload},addVideo(e,t){e.videos.push(t.payload)}}}),{videoRequested:d,videoReceived:n,videoRequestFailed:c,fetchVideosFailure:u}=o,p=e=>async t=>{t(d());try{let{content:a}=await l.get(e);t(n(a))}catch(e){t(c(e.message))}},h=e=>t=>t.video.entity?t.video.entity[e]:null,v=r},8373:e=>{"use strict";e.exports={_0:!1}}},e=>{var t=t=>e(e.s=t);e.O(0,[391,651,875,441,898,358],()=>t(5943)),_N_E=e.O()}]);