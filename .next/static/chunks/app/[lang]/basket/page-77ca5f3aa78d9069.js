(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[598],{103:(e,a,t)=>{Promise.resolve().then(t.bind(t,3650))},6046:(e,a,t)=>{"use strict";var r=t(6658);t.o(r,"useParams")&&t.d(a,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(a,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}})},5828:(e,a,t)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),function(e,a){for(var t in a)Object.defineProperty(e,t,{enumerable:!0,get:a[t]})}(a,{callServer:function(){return r.callServer},createServerReference:function(){return l},findSourceMapURL:function(){return s.findSourceMapURL}});let r=t(9603),s=t(3355),l=t(4979).createServerReference},5353:(e,a,t)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"useMergedRef",{enumerable:!0,get:function(){return s}});let r=t(2115);function s(e,a){let t=(0,r.useRef)(()=>{}),s=(0,r.useRef)(()=>{});return(0,r.useMemo)(()=>e&&a?r=>{null===r?(t.current(),s.current()):(t.current=l(e,r),s.current=l(a,r))}:e||a,[e,a])}function l(e,a){if("function"!=typeof e)return e.current=a,()=>{e.current=null};{let t=e(a);return"function"==typeof t?t:()=>e(null)}}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),e.exports=a.default)},3650:(e,a,t)=>{"use strict";t.d(a,{default:()=>g});var r=t(5155),s=t(2115),l=t(5565);let i=e=>{let{options:a,name:t,selectedOption:s,onChange:l}=e;return(0,r.jsx)("div",{children:a.map(e=>(0,r.jsxs)("label",{className:"inline-flex items-center mb-2 border border-gray py-2 px-4 rounded-md mr-2",children:[(0,r.jsx)("input",{type:"radio",name:t,value:e.value,checked:s===e.value,onChange:e=>l(e.target.value),className:"form-radio h-4 w-4"}),(0,r.jsx)("span",{className:"ml-2",children:e.label})]},e.value))})};var n=t(4204);let d=e=>{let{type:a,name:t,value:s,onChange:l,className:i,placeholder:n,error:d,required:o}=e;return(0,r.jsxs)("div",{className:"input-group",children:[(0,r.jsx)("input",{type:a,id:t,name:t,value:s,onChange:e=>{let{target:a}=e;l({name:a.name,value:a.value})},className:i,placeholder:n,required:o}),d?(0,r.jsx)("div",{className:"h-5 text-red text-sm",children:d}):(0,r.jsx)("div",{className:"h-5",children:" "})]})};var o=t(7930),c=t(1589),u=t(7783),m=t(234),p=t(6046),b=t(5828);let h=(0,b.createServerReference)("00d7616b4612bebf57b604769b802111b197880400",b.callServer,void 0,b.findSourceMapURL,"logout"),g=e=>{let{lang:a,t}=e,b=(0,p.useRouter)(),g=(0,o.CU)(),x=(0,s.useRef)(!1);(0,s.useEffect)(()=>{x.current||(g.dispatch((0,c.NV)()),g.dispatch((0,u.Z5)()),g.dispatch((0,u.e9)()),x.current=!0)},[x]);let f=(0,o.jL)(),{entity:y}=(0,o.GV)(e=>e.product),{error:v,isVerify:j,api:N,userId:w}=(0,o.GV)(e=>e.user),{productOrder:k,errorOrder:C}=(0,o.GV)(e=>e.order),R=y.length>0&&y.find(e=>"671f8ad851c70fa561f432e2"===e._id||"675a1528abab837f85c2555c"===e._id),[S,L]=(0,s.useState)({name:"",email:"",mobile:"",street:"",city:"",postalCode:""}),[q,P]=(0,s.useState)({productId:"",quantity:1,deliveryPrice:0,total:0,userId:""}),[_,O]=(0,s.useState)({}),[U,V]=(0,s.useState)("Доставка по Казахстану"),[I,A]=(0,s.useState)(!1),[z,M]=(0,s.useState)(""),E=[{value:"Доставка по Казахстану",label:"".concat(t.basket.deliveryLabel1)},{value:"Доставка международная",label:"".concat(t.basket.deliveryLabel2)}],D=e=>{L(a=>({...a,[e.name]:e.value}))},Z=()=>{"Доставка по Казахстану"===U?P({...q,deliveryPrice:m.$z[0].price}):P({...q,deliveryPrice:m.$z[1].price*q.quantity})};(0,s.useEffect)(()=>{Z()},[U,q.quantity]);let F={name:{isRequired:{message:"".concat(t.basket.errorName)}},email:{isRequired:{message:"".concat(t.basket.errorEmail)}},mobile:{max:{message:"".concat(t.basket.errorMobile),value:20},isContainDigit:{message:"".concat(t.basket.errorMobileCount)}}};(0,s.useEffect)(()=>{G()},[S]);let G=()=>{let e=(0,n.N)(S,F);return O(e),0===Object.keys(e).length},K=0===Object.keys(_).length,T=()=>A(!0),$=()=>A(!1);return(0,r.jsx)("div",{className:"container mx-auto p-4  py-20",children:(0,r.jsxs)("div",{className:"flex flex-col lg:grid lg:grid-cols-2 gap-5 md:gap-10 xl:px-40",children:[(0,r.jsxs)("div",{className:"w-full flex flex-col",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("h1",{className:"w-full text-2xl font-bold mb-6",children:t.basket.head}),(0,r.jsx)("div",{className:"mb-6 flex flex-row",children:(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsxs)("div",{className:"flex flex-row gap-2 items-center bg-azure p-2",children:[(0,r.jsx)("div",{className:"block",children:R&&(0,r.jsx)(l.default,{src:null==R?void 0:R.imageUrl,width:100,height:100,alt:t.metadataProduct.title,priority:!0,unoptimized:!0})}),(0,r.jsx)("p",{className:"flex font-bold px-1 col-span-2",children:null==R?void 0:R.name}),(0,r.jsx)("input",{name:"quantity",type:"number",className:"w-10 text-center border border-gray-300 focus:outline-none",value:Number(q.quantity),onChange:e=>{let{target:a}=e;P(e=>({...e,[a.name]:a.value}))},min:"1"}),(0,r.jsxs)("p",{className:"ml-2 font-bold px-1",children:[null==R?void 0:R.price,(0,r.jsx)("span",{className:"pl-2",children:"en"!==a?"тг":"t"})]})]}),(0,r.jsxs)("div",{className:"flex flex-row justify-between my-5",children:[(0,r.jsx)("p",{className:"font-bold",children:t.basket.delivery}),(0,r.jsxs)("p",{children:[q.deliveryPrice,(0,r.jsx)("span",{className:"pl-2",children:"en"!==a?"тг":"t"})]})]})]})})]}),(0,r.jsxs)("div",{className:"flex flex-row justify-between my-1 bottom-0",children:[(0,r.jsx)("p",{className:"font-bold text-lg",children:t.basket.total}),(0,r.jsxs)("p",{className:"font-bold",children:[q.quantity*(null==R?void 0:R.price)+q.deliveryPrice,(0,r.jsxs)("span",{className:"pl-2",children:[" ","en"!==a?"тг":"t (KZ)"]})]})]})]}),(0,r.jsx)("div",{className:"flex",children:(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:t.basket.delivery}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("div",{className:"flex flex-row",children:(0,r.jsx)(i,{options:E,name:"options",selectedOption:U,onChange:e=>{V(e)}})}),(0,r.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!G())return;let a=q.quantity*R.price+q.deliveryPrice;f((0,c.Jx)({...q,...S,total:a,productId:R._id,userId:w})),L({name:"",email:"",mobile:"",street:"",city:"",postalCode:""}),P({productId:"",quantity:1,deliveryPrice:0,total:0,userId:""}),T()},children:[(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("label",{className:"block",children:t.basket.name}),(0,r.jsx)(d,{type:"text",name:"name",value:S.name,onChange:D,className:"w-full p-2 border border-gray",placeholder:"Нұрсултан Нұрсултан-ұлы",required:!0,error:_.name})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("label",{className:"block",children:t.basket.email}),(0,r.jsx)(d,{type:"text",name:"email",value:S.email,onChange:D,className:"w-full p-2 border border-gray",placeholder:"email",error:_.email})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("label",{className:"block",children:t.basket.phone}),(0,r.jsx)(d,{type:"text",name:"mobile",value:S.mobile,onChange:D,className:"w-full p-2 border border-gray",placeholder:"+77011234567",error:_.mobile})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("label",{className:"block",children:t.basket.address}),(0,r.jsx)(d,{type:"text",name:"street",value:S.street,onChange:D,className:"w-full p-2 border border-gray",placeholder:"ул. Пушкина, дом 10, кв 28",error:_.street})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("label",{className:"block",children:t.basket.city}),(0,r.jsx)(d,{type:"text",name:"city",value:S.city,onChange:D,className:"w-full p-2 border border-gray",placeholder:"Астана",error:_.city})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("label",{className:"block",children:t.basket.postIndex}),(0,r.jsx)(d,{type:"text",name:"postalCode",value:S.postalCode,onChange:D,className:"w-full p-2 border border-gray",placeholder:"101000",error:_.postalCode})]}),(0,r.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,r.jsx)("button",{className:"bg-green text-white py-2 px-4 rounded-md hover:bg-green-light",onClick:h,children:t.basket.logout}),(0,r.jsx)("button",{type:"submit",className:"bg-green text-white py-2 px-4 rounded-md hover:bg-green-light",disabled:!K,children:t.basket.button})]})]})]})]})}),I&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md w-full",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:t.basket.head2}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),f((0,u.of)({code:z,orderId:k})),M(""),$()},children:[(0,r.jsx)("input",{type:"number",value:z,onChange:e=>{M(e.target.value)},className:"border border-gray-300 p-2 w-full mb-4",placeholder:"Введите код"}),(0,r.jsxs)("div",{className:"flex justify-end",children:[(0,r.jsx)("button",{type:"button",className:"border px-4 py-2 rounded-md mr-2 hover:bg-green-light hover:text-white",onClick:$,children:t.basket.buttonClose}),(0,r.jsx)("button",{type:"submit",className:"bg-green text-white px-4 py-2 rounded-md hover:bg-green-light",children:t.basket.buttonSend})]})]})]})}),("Unauthorize"===v||"No Verify"===v)&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md w-full",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:t.basket.headVerif}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("button",{type:"button",className:"border px-4 py-2 rounded-md mr-2 hover:bg-green-light hover:text-white",onClick:()=>f((0,u.qs)()),children:t.basket.buttonVerifyClose})})]})}),!0===j&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white md:px-6 m-2 py-6 rounded-lg shadow-lg max-w-md w-full text-center",children:[(0,r.jsxs)("div",{className:"flex flex-cols w-full items-center",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4 mx-auto",children:t.basket.headKaspi}),(0,r.jsx)("div",{className:"flex w-20 h-20 bg-[url('/img/kaspi.png')] bg-contain bg-no-repeat mx-auto"})]}),(0,r.jsxs)("div",{className:"flex justify-center",children:[(0,r.jsx)("button",{className:"border px-4 py-2 rounded-md mr-2 hover:bg-green-light hover:text-white",onClick:()=>{f((0,u.n4)()),f((0,c.t3)(k))},children:t.basket.buttonKaspiBack}),(0,r.jsx)("button",{onClick:e=>{e.preventDefault(),window.open("".concat(N)),b.push("/".concat(a,"/payment")),f((0,u.n4)())},className:"border px-4 py-2 rounded-md mr-2 hover:bg-green-light hover:text-white",children:t.basket.buttonToKaspi})]})]})})]})})}},3425:(e,a,t)=>{"use strict";t.d(a,{A:()=>i});var r=t(2651),s=t(8373);let l=r.A.create({baseURL:"".concat("http://localhost:3000")});l.interceptors.response.use(e=>(s._0&&(e.data={content:function(e){return e&&!e._id?Object.keys(e).map(a=>({...e[a]})):e}(e.data)}),e.data={content:e.data},e),function(e){return e.response&&e.response.status>=400&&e.response.status<500||console.log("Something was wrong. Try it later",e),Promise.reject(e)});let i={get:l.get,post:l.post,put:l.put,delete:l.delete,patch:l.patch}},7930:(e,a,t)=>{"use strict";t.d(a,{CU:()=>i,GV:()=>l,jL:()=>s});var r=t(3391);let s=r.wA.withTypes(),l=r.d4.withTypes(),i=r.Pj.withTypes()},1589:(e,a,t)=>{"use strict";t.d(a,{Ay:()=>g,NV:()=>p,Jx:()=>h,t3:()=>b});var r=t(9442),s=t(3425);let l="/api/order",i={create:async e=>{let{data:a}=await s.A.post("/lib".concat(l),e);return a},delete:async e=>{console.log("payload order",e);let{data:a}=await s.A.delete("/lib".concat(l,"/").concat(e.orderId));return a}},{reducer:n,actions:d}=(0,r.Z0)({name:"order",initialState:{productOrder:null,errorOrder:null},reducers:{loadOrderState:e=>{e.order},orderReceived:(e,a)=>{e.productOrder=a.payload},orderRemove:(e,a)=>{e.productOrder=a.payload.orderId},orderRequestFailed(e,a){e.errorOrder=a.payload},createOrder:(e,a)=>{e.productOrder=a.payload},updateOrderProduct(e,a){e.order=a.payload}}}),{loadOrderState:o,orderRemove:c,orderRequestFailed:u,createOrder:m}=d,p=()=>async e=>{e(o())},b=e=>async a=>{try{let{content:t}=await i.delete(e);a(c(t))}catch(e){a(u(e.message))}},h=e=>async a=>{try{let{content:t}=await i.create(e);a(m(t))}catch(e){a(u(e.message))}},g=n},7783:(e,a,t)=>{"use strict";t.d(a,{n4:()=>S,of:()=>q,Z5:()=>R,qs:()=>L,Ay:()=>_,e9:()=>P});var r=t(9442),s=t(2651);t(8373);let l=s.A.create({baseURL:"http://localhost:3000/lib/api/auth/"}),i={verify:async e=>{let{data:a}=await l.post("verify",e);return a}};var n=t(3425);let d="/api/user/",o={get:async()=>{let{data:e}=await n.A.get("/lib".concat(d));return e},getApi:async()=>{let{data:e}=await n.A.get("/lib".concat(d)+"getApi");return e}},{reducer:c,actions:u}=(0,r.Z0)({name:"user",initialState:{entities:null,api:null,isLoading:!1,error:null,auth:!1,userId:null,isLoggedIn:!1,isVerify:!1},reducers:{usersInitialize:e=>{e.isLoading=!1},usersClearError:(e,a)=>{e.error=a.payload,e.isLoading=!1},usersRequested:e=>{e.isLoading=!0},userGetApi:(e,a)=>{e.api=a.payload,e.isLoading=!1},userUnVerify:(e,a)=>{e.isVerify=a.payload.isVerify,e.api=a.payload.api},userReceived:(e,a)=>{e.entities=a.payload,e.userId=a.payload._id,e.isLoading=!1},usersRequestFailed:(e,a)=>{e.error=a.payload,e.isLoading=!1},authRequested:e=>{e.isLoading=!0},authRequestFailed:(e,a)=>{e.isLoggedIn=!1,e.error=a.payload},verifyRequestSend:e=>{e.error=null,e.isLoading=!1},verifyRequestFailed:(e,a)=>{e.error=a.payload,e.isLoading=!1},userCreatedVerify:(e,a)=>{e.isVerify=a.payload.content,e.api=a.payload.api,e.isLoading=!1},userLoggedOut:e=>{e.entities=null,e.isLoggedIn=!1,e.isVerify=!1,e.auth=null},userUpdateSuccessed:(e,a)=>{e.entities[e.entities.findIndex(e=>e._id===a.payload._id)]=a.payload,e.isLoading=!1},authRequested:e=>{e.error=null}}}),{usersRequested:m,usersClearError:p,userCreatedVerify:b,userReceived:h,usersRequestFailed:g,authRequestSuccess:x,authRequestFailed:f,userLoggedOut:y,userUpdateSuccessed:v,verifyRequestSend:j,verifyRequestFailed:N,userUnVerify:w,userGetApi:k}=u,C=(0,r.VP)("users/authRequested");(0,r.VP)("users/userUpdateRequested"),(0,r.VP)("users/userUpdateFailed");let R=()=>async e=>{e(C());try{let{content:a}=await o.get();e(h(a))}catch(a){e(N(a.message))}},S=()=>async e=>{e(w({isVerify:!1,api:null}))},L=()=>async e=>{e(C()),e(p(null))},q=e=>async a=>{a(m());try{let{content:t}=await i.verify(e);a(b(t))}catch(e){var t;a(N((null==e?void 0:null===(t=e.response.data)||void 0===t?void 0:t.message)?null==e?void 0:e.response.data.message:null==e?void 0:e.message))}},P=()=>async e=>{e(m());try{let{content:a}=await o.getApi();e(k(a))}catch(a){e(N(a.message))}},_=c},234:(e,a,t)=>{"use strict";t.d(a,{$z:()=>i,Qg:()=>s,z8:()=>l});let r=[{id:1,name:"Аида",phone:"87756999475"},{id:2,name:"Фарида",phone:"87756989567"},{id:3,name:"Бандит",phone:"87756879475"},{id:4,name:"Глобус",phone:"87626999475"}],s=[{id:1,name:"Braun Depiero",buyer:r[0],profession:"chef",imageUrl:"/img/shef3.jpg",message:"I am delighted with the quality of Alma Le cookware!"},{id:2,name:"Федерико",buyer:r[1],profession:"шеф-повар",imageUrl:"/img/shef1.jpeg",message:"Я в восторге от качества посуды Alma Le"},{id:3,name:"Ernesto Kabale",buyer:r[2],profession:"шеф-повар",imageUrl:"/img/shef2.png",message:"Эта посуда нечто к хорошему привыкаешь быстро"}],l=[{id:1,name:"Индукционная плита",imageUrl:"/img/haracter/1.svg"},{id:2,name:"Газовая плита",imageUrl:"/img/haracter/2.svg"},{id:3,name:"Электрическая плита",imageUrl:"/img/haracter/3.svg"},{id:4,name:"Керамическая плита",imageUrl:"/img/haracter/4.svg"},{id:5,name:"Галогенная плита",imageUrl:"/img/haracter/5.svg"},{id:6,name:"Посудомоечная машина",imageUrl:"/img/haracter/6.svg"}],i=[{id:1,price:0},{id:2,price:8e4}]},4204:(e,a,t)=>{"use strict";function r(e,a){let t={};for(let r in e)for(let s in a[r]){let l=function(e,a,t){let r;switch(e){case"isRequired":r="boolean"==typeof a?!a:""===a.trim();break;case"isEmail":r=!/^\S+@\S+\.\S+$/g.test(a);break;case"isCapitalSymbol":r=!/[A-Z]+/g.test(a);break;case"isContainDigit":r=!/\d+/g.test(a);break;case"min":r=a.length<t.value;break;case"max":r=a.length>t.value}if(r)return t.message}(s,e[r],a[r][s]);l&&!t[r]&&(t[r]=l)}return t}t.d(a,{N:()=>r})},8373:e=>{"use strict";e.exports={_0:!1}}},e=>{var a=a=>e(e.s=a);e.O(0,[565,391,651,442,441,898,358],()=>a(103)),_N_E=e.O()}]);