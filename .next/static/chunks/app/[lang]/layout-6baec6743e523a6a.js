(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[160],{3036:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,8413,23)),Promise.resolve().then(a.t.bind(a,7970,23)),Promise.resolve().then(a.t.bind(a,5373,23)),Promise.resolve().then(a.bind(a,7151)),Promise.resolve().then(a.bind(a,6483)),Promise.resolve().then(a.t.bind(a,347,23)),Promise.resolve().then(a.bind(a,9161))},6046:(e,t,a)=>{"use strict";var r=a(6658);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})},9161:(e,t,a)=>{"use strict";a.d(t,{default:()=>P});var r=a(5155),s=a(2115),n=a(3391),i=a(5647),d=a(9442),o=a(3425);let l={get:async e=>{let{data:t}=await o.A.get("/lib".concat("/api/product"),{params:e});return t}},{reducer:c,actions:u}=(0,d.Z0)({name:"products",initialState:{entity:[],isLoading:!1,error:null,dataLoaded:!1},reducers:{productRequested:e=>{e.isLoading=!0},productReceived:(e,t)=>{e.entity=t.payload,e.isLoading=!1,e.dataLoaded=!0},productRequestFailed(e,t){e.isLoading=!1,e.error=t.payload},addProduct(e,t){e.products.push(t.payload)}}}),{productRequested:h,productReceived:p,productRequestFailed:m,fetchProductsFailure:g}=u,y=e=>async t=>{t(h());try{let{content:a}=await l.get(e);t(p(a))}catch(e){t(m(e.message))}};var x=a(1589),v=a(7783);let f={get:async e=>{let{data:t}=await o.A.get("/lib".concat("/api/product/info"),{params:e});return t}},{reducer:b,actions:w}=(0,d.Z0)({name:"productsInfo",initialState:{entity:[],isLoading:!1,error:null,dataLoaded:!1},reducers:{productRequested:e=>{e.isLoading=!0},productReceived:(e,t)=>{e.entity=t.payload,e.isLoading=!1,e.dataLoaded=!0},productRequestFailed(e,t){e.isLoading=!1,e.error=t.payload},addProduct(e,t){e.products.push(t.payload)}}}),{productRequested:j,productReceived:N,productRequestFailed:k}=w,L=e=>async t=>{t(j());try{let{content:a}=await f.get(e);t(N(a))}catch(e){t(k(e.message))}};var R=a(9709);let A=(0,i.HY)({product:c,order:x.Ay,user:v.Ay,productInfo:b,video:R.Ay});function P(e){let{children:t,lang:a}=e,i=(0,s.useRef)();return i.current||(i.current=(0,d.U1)({reducer:A})),(0,s.useEffect)(()=>{i.current.dispatch(y({lang:a})),i.current.dispatch(L({lang:a})),i.current.dispatch((0,R.Iv)({lang:a}))},[a]),(0,r.jsx)(n.Kq,{store:i.current,children:t})}},7151:(e,t,a)=>{"use strict";a.d(t,{default:()=>d});var r=a(5155),s=a(2115),n=a(7930),i=a(6046);let d=e=>{let{t}=e,[a,d]=(0,s.useState)(!1),[o,l]=(0,s.useState)([]),[c,u]=(0,s.useState)(""),{userId:h}=(0,n.GV)(e=>e.user),p=(0,i.useRouter)(),m=()=>{p.push("/login")},g=async()=>{if(""===c.trim())return;l(e=>[...e,{text:c}]),u("");let e=await fetch("/lib/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sender:h,message:c,type:"text",status:"send"})}),t=await e.json();l(e=>[...e,{text:t.reply,sender:"bot"}])};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{onClick:()=>null!==h?d(!a):m(),className:"fixed bottom-6 right-6 bg-green-light hover:bg-green text-white px-4 py-2 rounded-full shadow-lg hover:bg-blue-700 transition z-50",children:["\uD83D\uDCAC ",t.chat.button]}),a&&(0,r.jsxs)("div",{className:"fixed bottom-16 right-6 w-80 h-96 bg-white border border-gray rounded-lg shadow-lg flex flex-col overflow-hidden z-50",children:[(0,r.jsxs)("div",{className:" text-black p-3 flex justify-between items-center",children:[(0,r.jsx)("span",{children:t.chat.span}),(0,r.jsx)("button",{onClick:()=>d(!1),className:"text-white",children:"✖"})]}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:o.map((e,t)=>(0,r.jsx)("div",{className:"max-w-[80%] p-2 rounded-md text-sm ".concat("bot"===e.sender?"ml-auto bg-green text-white":"mr-auto text-black"),children:e.text},t))}),(0,r.jsxs)("div",{className:"p-3 border-t border-gray flex items-center gap-2",children:[(0,r.jsx)("input",{type:"text",value:c,onChange:e=>u(e.target.value),onKeyDown:e=>"Enter"===e.key&&g(),className:"flex-1 p-2 border border-gray rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Введите сообщение..."}),(0,r.jsx)("button",{onClick:g,className:"bg-blue-600 text-white px-3 py-2 rounded-md hover:bg-green transition",children:"➤"})]})]})]})}},6483:(e,t,a)=>{"use strict";a.d(t,{default:()=>u});var r=a(5155),s=a(2115),n=a(8173),i=a.n(n),d=a(6046);let o=e=>{let{lang:t}=e,[a,n]=(0,s.useState)(!1),o=(0,d.usePathname)();return(0,r.jsxs)("div",{className:"relative inline-block text-left",children:[(0,r.jsx)("button",{onClick:()=>{n(!a)},className:"inline-flex justify-center w-full px-2 sm:px-4 py-2 text-sm font-medium text-white bg-green rounded-md shadow-sm hover:bg-green-light focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 uppercase",children:t}),a&&(0,r.jsx)("div",{className:"absolute right-0 z-10 w-14 mt-2 origin-top-right bg-white border divide-y divide-gray-100 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-60",children:(0,r.jsxs)("div",{className:"py-1",children:[(0,r.jsx)(i(),{href:"/kz".concat(o.substring(3)),className:"block w-full px-4 py-2 text-sm text-gray-700 hover:bg-green-light hover:text-white",children:"kz"}),(0,r.jsx)(i(),{href:"/ru".concat(o.substring(3)),className:"block w-full px-4 py-2 text-sm text-gray-700 hover:bg-green-light hover:text-white",children:"ru"}),(0,r.jsx)(i(),{href:"/en".concat(o.substring(3)),className:"block w-full px-4 py-2 text-sm text-gray-700 hover:bg-green-light hover:text-white",children:"en"})]})})]})};var l=a(5565),c=a(1478);let u=e=>{let{lang:t,t:a}=e,[n,d]=(0,s.useState)(!1),u=(0,s.useRef)(null),h=(0,s.useRef)(null),[p,m]=(0,s.useState)(!0),[g,y]=(0,s.useState)(0),x=()=>{window.scrollY>g?m(!1):m(!0),y(window.scrollY)};return(0,s.useEffect)(()=>(window.addEventListener("scroll",x),()=>{window.removeEventListener("scroll",x)}),[g]),(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)("div",{className:"fixed justify-center top-0 left-0 w-full z-50 bg-white transition-transform duration-300 ".concat(p?"translate-y-0":"-translate-y-full"),children:(0,r.jsxs)("nav",{className:"container mx-auto bg-gray-header text-black relative my-auto z-20 shadow-lg",children:[(0,r.jsx)("div",{className:"px-3 xl:px-10 mx-auto",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-20",children:[(0,r.jsx)("div",{className:"-mr-2 flex md:hidden relative ",children:(0,r.jsx)("button",{onClick:()=>{d(!n)},className:"inline-flex items-center justify-center p-2 rounded-md text-black focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",children:(0,r.jsx)("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})}),(0,r.jsx)("button",{className:"flex-shrink-0 w-50 h-4 box",children:(0,r.jsx)("a",{href:"/".concat(t),children:(0,r.jsx)(l.default,{ref:u,src:"/img/logo1.png",onMouseEnter:()=>{h.current=c.Ay.to(u.current,{rotationX:"+=360",duration:2,ease:"linear",repeat:-1,transformOrigin:"center center"})},onMouseLeave:()=>{h.current&&(h.current.kill(),c.Ay.set(u.current,{rotationX:0}))},width:150,height:60,alt:"Logo Almale",className:"px-5 sm:px-0  h-[16px] xl:h-[20px] w-full"})})}),(0,r.jsx)("div",{className:"hidden md:block",children:(0,r.jsxs)("div",{className:"ml-10 flex items-baseline space-x-2 lg:space-x-6",children:[(0,r.jsx)(i(),{href:"/".concat(t,"/#brand"),className:"rounded-md text-sm font-medium hover:underline",children:a.navbar.navbarbrand}),(0,r.jsx)(i(),{href:"/".concat(t,"/product"),className:"rounded-md text-sm font-medium hover:underline",children:a.navbar.navbarproduct}),(0,r.jsx)(i(),{href:"/".concat(t,"/gallery"),className:"rounded-md text-sm font-medium hover:underline",children:a.navbar.navbaradventages}),(0,r.jsx)(i(),{href:"/".concat(t,"/#contact"),className:"rounded-md text-sm font-medium hover:underline",children:a.navbar.navbarcontacts})]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-green",children:[(0,r.jsx)("div",{className:"flex-shrink-0 sm:mr-3 hover:bg-gray-light",children:(0,r.jsx)(i(),{href:"/".concat(t,"/basket"),children:(0,r.jsx)(l.default,{src:"/img/basket.png",width:8,height:8,alt:"basket",className:"w-4 h-4 sm:w-6 sm:h-6",priority:!0})})}),(0,r.jsx)(o,{lang:t})]})]})}),n&&(0,r.jsx)("div",{className:"absolute pb-60 md:hidden bg-white z-50",children:(0,r.jsxs)("div",{className:"flex flex-row",children:[(0,r.jsxs)("div",{className:"px-8 py-12 space-y-1 sm:px-3 font-bold text-2xl leading-loose",children:[(0,r.jsx)(i(),{href:"/".concat(t,"/#brand"),className:"block px-3 py-2 font-medium focus:underline",onClick:()=>d(!1),children:a.navbar.navbarbrand}),(0,r.jsx)(i(),{href:"/".concat(t,"/product"),className:"block px-3 py-2 font-medium focus:underline",onClick:()=>d(!1),children:a.navbar.navbarproduct}),(0,r.jsx)(i(),{href:"/".concat(t,"/gallery"),className:"block px-3 py-2 font-medium focus:underline",onClick:()=>d(!1),children:a.navbar.navbaradventages}),(0,r.jsx)(i(),{href:"/".concat(t,"/#contact"),className:"block px-3 py-2 font-medium focus:underline",onClick:()=>d(!1),children:a.navbar.navbarcontacts})]}),(0,r.jsx)("div",{className:"mt-8 px-8 m-4 py-10",children:(0,r.jsx)("button",{className:"p-3 bg-[url('/img/close.svg')] bg-cover",onClick:()=>d(!1)})})]})})]})})})}},3425:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var r=a(2651),s=a(8373);let n=r.A.create({baseURL:"".concat("http://localhost:3000")});n.interceptors.response.use(e=>(s._0&&(e.data={content:function(e){return e&&!e._id?Object.keys(e).map(t=>({...e[t]})):e}(e.data)}),e.data={content:e.data},e),function(e){return e.response&&e.response.status>=400&&e.response.status<500||console.log("Something was wrong. Try it later",e),Promise.reject(e)});let i={get:n.get,post:n.post,put:n.put,delete:n.delete,patch:n.patch}},7930:(e,t,a)=>{"use strict";a.d(t,{CU:()=>i,GV:()=>n,jL:()=>s});var r=a(3391);let s=r.wA.withTypes(),n=r.d4.withTypes(),i=r.Pj.withTypes()},1589:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>y,NV:()=>p,Jx:()=>g,t3:()=>m});var r=a(9442),s=a(3425);let n="/api/order",i={create:async e=>{let{data:t}=await s.A.post("/lib".concat(n),e);return t},delete:async e=>{console.log("payload order",e);let{data:t}=await s.A.delete("/lib".concat(n,"/").concat(e.orderId));return t}},{reducer:d,actions:o}=(0,r.Z0)({name:"order",initialState:{productOrder:null,errorOrder:null},reducers:{loadOrderState:e=>{e.order},orderReceived:(e,t)=>{e.productOrder=t.payload},orderRemove:(e,t)=>{e.productOrder=t.payload.orderId},orderRequestFailed(e,t){e.errorOrder=t.payload},createOrder:(e,t)=>{e.productOrder=t.payload},updateOrderProduct(e,t){e.order=t.payload}}}),{loadOrderState:l,orderRemove:c,orderRequestFailed:u,createOrder:h}=o,p=()=>async e=>{e(l())},m=e=>async t=>{try{let{content:a}=await i.delete(e);t(c(a))}catch(e){t(u(e.message))}},g=e=>async t=>{try{let{content:a}=await i.create(e);t(h(a))}catch(e){t(u(e.message))}},y=d},7783:(e,t,a)=>{"use strict";a.d(t,{n4:()=>A,of:()=>q,Z5:()=>R,qs:()=>P,Ay:()=>S,e9:()=>C});var r=a(9442),s=a(2651);a(8373);let n=s.A.create({baseURL:"http://localhost:3000/lib/api/auth/"}),i={verify:async e=>{let{data:t}=await n.post("verify",e);return t}};var d=a(3425);let o="/api/user/",l={get:async()=>{let{data:e}=await d.A.get("/lib".concat(o));return e},getApi:async()=>{let{data:e}=await d.A.get("/lib".concat(o)+"getApi");return e}},{reducer:c,actions:u}=(0,r.Z0)({name:"user",initialState:{entities:null,api:null,isLoading:!1,error:null,auth:!1,userId:null,isLoggedIn:!1,isVerify:!1},reducers:{usersInitialize:e=>{e.isLoading=!1},usersClearError:(e,t)=>{e.error=t.payload,e.isLoading=!1},usersRequested:e=>{e.isLoading=!0},userGetApi:(e,t)=>{e.api=t.payload,e.isLoading=!1},userUnVerify:(e,t)=>{e.isVerify=t.payload.isVerify,e.api=t.payload.api},userReceived:(e,t)=>{e.entities=t.payload,e.userId=t.payload._id,e.isLoading=!1},usersRequestFailed:(e,t)=>{e.error=t.payload,e.isLoading=!1},authRequested:e=>{e.isLoading=!0},authRequestFailed:(e,t)=>{e.isLoggedIn=!1,e.error=t.payload},verifyRequestSend:e=>{e.error=null,e.isLoading=!1},verifyRequestFailed:(e,t)=>{e.error=t.payload,e.isLoading=!1},userCreatedVerify:(e,t)=>{e.isVerify=t.payload.content,e.api=t.payload.api,e.isLoading=!1},userLoggedOut:e=>{e.entities=null,e.isLoggedIn=!1,e.isVerify=!1,e.auth=null},userUpdateSuccessed:(e,t)=>{e.entities[e.entities.findIndex(e=>e._id===t.payload._id)]=t.payload,e.isLoading=!1},authRequested:e=>{e.error=null}}}),{usersRequested:h,usersClearError:p,userCreatedVerify:m,userReceived:g,usersRequestFailed:y,authRequestSuccess:x,authRequestFailed:v,userLoggedOut:f,userUpdateSuccessed:b,verifyRequestSend:w,verifyRequestFailed:j,userUnVerify:N,userGetApi:k}=u,L=(0,r.VP)("users/authRequested");(0,r.VP)("users/userUpdateRequested"),(0,r.VP)("users/userUpdateFailed");let R=()=>async e=>{e(L());try{let{content:t}=await l.get();e(g(t))}catch(t){e(j(t.message))}},A=()=>async e=>{e(N({isVerify:!1,api:null}))},P=()=>async e=>{e(L()),e(p(null))},q=e=>async t=>{t(h());try{let{content:a}=await i.verify(e);t(m(a))}catch(e){var a;t(j((null==e?void 0:null===(a=e.response.data)||void 0===a?void 0:a.message)?null==e?void 0:e.response.data.message:null==e?void 0:e.message))}},C=()=>async e=>{e(h());try{let{content:t}=await l.getApi();e(k(t))}catch(t){e(j(t.message))}},S=c},9709:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>g,QG:()=>p,fY:()=>m,Iv:()=>h});var r=a(9442),s=a(3425);let n={get:async e=>{let{data:t}=await s.A.get("/lib".concat("/api/video"),{params:e});return t}},{reducer:i,actions:d}=(0,r.Z0)({name:"video",initialState:{entity:[],isLoading:!1,error:null,dataLoaded:!1},reducers:{videoRequested:e=>{e.isLoading=!0},videoReceived:(e,t)=>{e.entity=t.payload,e.isLoading=!1,e.dataLoaded=!0},videoRequestFailed(e,t){e.isLoading=!1,e.error=t.payload},addVideo(e,t){e.videos.push(t.payload)}}}),{videoRequested:o,videoReceived:l,videoRequestFailed:c,fetchVideosFailure:u}=d,h=e=>async t=>{t(o());try{let{content:a}=await n.get(e);t(l(a))}catch(e){t(c(e.message))}},p=e=>t=>{var a;return(null===(a=t.video)||void 0===a?void 0:a.entity)?t.video.entity[e]:null},m=()=>e=>e.video.entity,g=i},8413:()=>{},347:()=>{},5373:e=>{e.exports={style:{fontFamily:"'montserrat', 'montserrat Fallback'"},className:"__className_964356",variable:"__variable_964356"}},8373:e=>{"use strict";e.exports={_0:!1}}},e=>{var t=t=>e(e.s=t);e.O(0,[723,592,173,565,391,651,478,442,441,898,358],()=>t(3036)),_N_E=e.O()}]);